"use strict";(self.webpackChunkecomarket=self.webpackChunkecomarket||[]).push([[179],{6304:(dt,Ce,O)=>{O.d(Ce,{Dh:()=>Pe,GT:()=>ae,cc:()=>Ae,hO:()=>Ve,on:()=>B,pX:()=>re,xv:()=>fe});var a=O(5879),Z=O(7142),P=O(8186);dt=O.hmd(dt);const te=["ngOnDestroy"],re=(Fe,vt,mt,ie={})=>new Proxy(Fe,{get:(ye,X)=>mt.runOutsideAngular(()=>{var ge;if(Fe[X])return!(null===(ge=ie?.spy)||void 0===ge)&&ge.get&&ie.spy.get(X,Fe[X]),Fe[X];if(te.indexOf(X)>-1)return()=>{};const Re=vt.toPromise().then(Ue=>{const oe=Ue&&Ue[X];return"function"==typeof oe?oe.bind(Ue):oe&&oe.then?oe.then(ze=>mt.run(()=>ze)):mt.run(()=>oe)});return new Proxy(()=>{},{get:(Ue,oe)=>Re[oe],apply:(Ue,oe,ze)=>Re.then(Zt=>{var _r;const Qr=Zt&&Zt(...ze);return!(null===(_r=ie?.spy)||void 0===_r)&&_r.apply&&ie.spy.apply(X,ze,Qr),Qr})})})}),ae=(Fe,vt)=>{vt.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(ie=>{Object.defineProperty(Fe.prototype,ie,Object.getOwnPropertyDescriptor(mt.prototype||mt,ie))})})};class _e{constructor(vt){return vt}}const Pe=new a.OlP("angularfire2.app.options"),fe=new a.OlP("angularfire2.app.name");function B(Fe,vt,mt){const ye="object"==typeof mt&&mt||{};ye.name=ye.name||"string"==typeof mt&&mt||"[DEFAULT]";const ge=Z.Z.apps.filter(Re=>Re&&Re.name===ye.name)[0]||vt.runOutsideAngular(()=>Z.Z.initializeApp(Fe,ye));try{JSON.stringify(Fe)!==JSON.stringify(ge.options)&&j("error",`${ge.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new _e(ge)}const j=(Fe,...vt)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Fe](...vt)},ee={provide:_e,useFactory:B,deps:[Pe,a.R0b,[new a.FiY,fe]]};let Ve=(()=>{class Fe{constructor(mt){Z.Z.registerVersion("angularfire",P.q4.full,"core"),Z.Z.registerVersion("angularfire",P.q4.full,"app-compat"),Z.Z.registerVersion("angular",a.q4F.full,mt.toString())}static initializeApp(mt,ie){return{ngModule:Fe,providers:[{provide:Pe,useValue:mt},{provide:fe,useValue:ie}]}}}return Fe.\u0275fac=function(mt){return new(mt||Fe)(a.LFG(a.Lbi))},Fe.\u0275mod=a.oAB({type:Fe}),Fe.\u0275inj=a.cJS({providers:[ee]}),Fe})();function Ae(Fe,vt,mt,ie,ye){const[,X,ge]=globalThis.\u0275AngularfireInstanceCache.find(Re=>Re[0]===Fe)||[];if(X)return function Ze(Fe,vt){try{return Fe.toString()===vt.toString()}catch{return Fe===vt}}(ye,ge)||(qe("error",`${vt} was already initialized on the ${mt} Firebase App with different settings.${Oe?" You may need to reload as Firebase is not HMR aware.":""}`),qe("warn",{is:ye,was:ge})),X;{const Re=ie();return globalThis.\u0275AngularfireInstanceCache.push([Fe,Re,ye]),Re}}const Oe=!!dt.hot,qe=(Fe,...vt)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Fe](...vt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(dt,Ce,O)=>{O.d(Ce,{q4:()=>Yc,iC:()=>Ia,HU:()=>Go,vb:()=>Oy,JM:()=>Ca});var a=O(5879),Z=O(3182),P=O(5861),te=O(534),re=O(9058),ae=O(4537),_e=O(7879);const Pe=(x,I)=>I.some(A=>x instanceof A);let fe,B;const Ve=new WeakMap,Ae=new WeakMap,Ze=new WeakMap,Oe=new WeakMap,qe=new WeakMap;let mt={get(x,I,A){if(x instanceof IDBTransaction){if("done"===I)return Ae.get(x);if("objectStoreNames"===I)return x.objectStoreNames||Ze.get(x);if("store"===I)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return ge(x[I])},set:(x,I,A)=>(x[I]=A,!0),has:(x,I)=>x instanceof IDBTransaction&&("done"===I||"store"===I)||I in x};function X(x){return"function"==typeof x?function ye(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ee(){return B||(B=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...I){return x.apply(Re(this),I),ge(Ve.get(this))}:function(...I){return ge(x.apply(Re(this),I))}:function(I,...A){const N=x.call(Re(this),I,...A);return Ze.set(N,I.sort?I.sort():[I]),ge(N)}}(x):(x instanceof IDBTransaction&&function vt(x){if(Ae.has(x))return;const I=new Promise((A,N)=>{const z=()=>{x.removeEventListener("complete",K),x.removeEventListener("error",de),x.removeEventListener("abort",de)},K=()=>{A(),z()},de=()=>{N(x.error||new DOMException("AbortError","AbortError")),z()};x.addEventListener("complete",K),x.addEventListener("error",de),x.addEventListener("abort",de)});Ae.set(x,I)}(x),Pe(x,function j(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,mt):x)}function ge(x){if(x instanceof IDBRequest)return function Fe(x){const I=new Promise((A,N)=>{const z=()=>{x.removeEventListener("success",K),x.removeEventListener("error",de)},K=()=>{A(ge(x.result)),z()},de=()=>{N(x.error),z()};x.addEventListener("success",K),x.addEventListener("error",de)});return I.then(A=>{A instanceof IDBCursor&&Ve.set(A,x)}).catch(()=>{}),qe.set(I,x),I}(x);if(Oe.has(x))return Oe.get(x);const I=X(x);return I!==x&&(Oe.set(x,I),qe.set(I,x)),I}const Re=x=>qe.get(x),ze=["get","getKey","getAll","getAllKeys","count"],Zt=["put","add","delete","clear"],_r=new Map;function Qr(x,I){if(!(x instanceof IDBDatabase)||I in x||"string"!=typeof I)return;if(_r.get(I))return _r.get(I);const A=I.replace(/FromIndex$/,""),N=I!==A,z=Zt.includes(A);if(!(A in(N?IDBIndex:IDBObjectStore).prototype)||!z&&!ze.includes(A))return;const K=function(){var de=(0,P.Z)(function*(Ke,...$e){const ht=this.transaction(Ke,z?"readwrite":"readonly");let Rt=ht.store;return N&&(Rt=Rt.index($e.shift())),(yield Promise.all([Rt[A](...$e),z&&ht.done]))[0]});return function($e){return de.apply(this,arguments)}}();return _r.set(I,K),K}!function ie(x){mt=x(mt)}(x=>({...x,get:(I,A,N)=>Qr(I,A)||x.get(I,A,N),has:(I,A)=>!!Qr(I,A)||x.has(I,A)}));const ko="@firebase/installations",jn="0.6.4",Qs=1e4,Oo=`w:${jn}`,le="FIS_v2",pe="https://firebaseinstallations.googleapis.com/v1",be=36e5,tt=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function at(x){return x instanceof re.ZR&&x.code.includes("request-failed")}function zn({projectId:x}){return`${pe}/projects/${x}/installations`}function bt(x){return{token:x.token,requestStatus:2,expiresIn:Br(x.expiresIn),creationTime:Date.now()}}function tn(x,I){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,P.Z)(function*(x,I){const N=(yield I.json()).error;return tt.create("request-failed",{requestName:x,serverCode:N.code,serverMessage:N.message,serverStatus:N.status})})).apply(this,arguments)}function Sn({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function yr(x){return un.apply(this,arguments)}function un(){return(un=(0,P.Z)(function*(x){const I=yield x();return I.status>=500&&I.status<600?x():I})).apply(this,arguments)}function Br(x){return Number(x.replace("s","000"))}function ai(){return(ai=(0,P.Z)(function*({appConfig:x,heartbeatServiceProvider:I},{fid:A}){const N=zn(x),z=Sn(x),K=I.getImmediate({optional:!0});if(K){const ht=yield K.getHeartbeatsHeader();ht&&z.append("x-firebase-client",ht)}const Ke={method:"POST",headers:z,body:JSON.stringify({fid:A,authVersion:le,appId:x.appId,sdkVersion:Oo})},$e=yield yr(()=>fetch(N,Ke));if($e.ok){const ht=yield $e.json();return{fid:ht.fid||A,registrationStatus:2,refreshToken:ht.refreshToken,authToken:bt(ht.authToken)}}throw yield tn("Create Installation",$e)})).apply(this,arguments)}function ci(x){return new Promise(I=>{setTimeout(I,x)})}const Wa=/^[cdef][\w-]{21}$/,We="";function gt(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const A=function wt(x){return function ts(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Wa.test(A)?A:We}catch{return We}}function yn(x){return`${x.appName}!${x.appId}`}const Mn=new Map;function Xr(x,I){const A=yn(x);Ka(A,I),function dn(x,I){const A=function jt(){return!Sr&&"BroadcastChannel"in self&&(Sr=new BroadcastChannel("[Firebase] FID Change"),Sr.onmessage=x=>{Ka(x.data.key,x.data.fid)}),Sr}();A&&A.postMessage({key:x,fid:I}),function io(){0===Mn.size&&Sr&&(Sr.close(),Sr=null)}()}(A,I)}function Ka(x,I){const A=Mn.get(x);if(A)for(const N of A)N(I)}let Sr=null;const Ss="firebase-installations-database",Ya=1,li="firebase-installations-store";let oo=null;function br(){return oo||(oo=function Ue(x,I,{blocked:A,upgrade:N,blocking:z,terminated:K}={}){const de=indexedDB.open(x,I),Ke=ge(de);return N&&de.addEventListener("upgradeneeded",$e=>{N(ge(de.result),$e.oldVersion,$e.newVersion,ge(de.transaction))}),A&&de.addEventListener("blocked",()=>A()),Ke.then($e=>{K&&$e.addEventListener("close",()=>K()),z&&$e.addEventListener("versionchange",()=>z())}).catch(()=>{}),Ke}(Ss,Ya,{upgrade:(x,I)=>{0===I&&x.createObjectStore(li)}})),oo}function nr(x,I){return bn.apply(this,arguments)}function bn(){return(bn=(0,P.Z)(function*(x,I){const A=yn(x),z=(yield br()).transaction(li,"readwrite"),K=z.objectStore(li),de=yield K.get(A);return yield K.put(I,A),yield z.done,(!de||de.fid!==I.fid)&&Xr(x,I.fid),I})).apply(this,arguments)}function so(x){return nn.apply(this,arguments)}function nn(){return(nn=(0,P.Z)(function*(x){const I=yn(x),N=(yield br()).transaction(li,"readwrite");yield N.objectStore(li).delete(I),yield N.done})).apply(this,arguments)}function ao(x,I){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,P.Z)(function*(x,I){const A=yn(x),z=(yield br()).transaction(li,"readwrite"),K=z.objectStore(li),de=yield K.get(A),Ke=I(de);return void 0===Ke?yield K.delete(A):yield K.put(Ke,A),yield z.done,Ke&&(!de||de.fid!==Ke.fid)&&Xr(x,Ke.fid),Ke})).apply(this,arguments)}function U(x){return V.apply(this,arguments)}function V(){return V=(0,P.Z)(function*(x){let I;const A=yield ao(x.appConfig,N=>{const z=function q(x){return fn(x||{fid:gt(),registrationStatus:0})}(N),K=function Ie(x,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(tt.create("app-offline"))};const A={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},N=function se(x,I){return it.apply(this,arguments)}(x,A);return{installationEntry:A,registrationPromise:N}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:_t(x)}:{installationEntry:I}}(x,z);return I=K.registrationPromise,K.installationEntry});return A.fid===We?{installationEntry:yield I}:{installationEntry:A,registrationPromise:I}}),V.apply(this,arguments)}function it(){return it=(0,P.Z)(function*(x,I){try{const A=yield function Za(x,I){return ai.apply(this,arguments)}(x,I);return nr(x.appConfig,A)}catch(A){throw at(A)&&409===A.customData.serverCode?yield so(x.appConfig):yield nr(x.appConfig,{fid:I.fid,registrationStatus:0}),A}}),it.apply(this,arguments)}function _t(x){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,P.Z)(function*(x){let I=yield wn(x.appConfig);for(;1===I.registrationStatus;)yield ci(100),I=yield wn(x.appConfig);if(0===I.registrationStatus){const{installationEntry:A,registrationPromise:N}=yield U(x);return N||A}return I})).apply(this,arguments)}function wn(x){return ao(x,I=>{if(!I)throw tt.create("installation-not-found");return fn(I)})}function fn(x){return function It(x){return 1===x.registrationStatus&&x.registrationTime+Qs<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function wr(){return(wr=(0,P.Z)(function*({appConfig:x,heartbeatServiceProvider:I},A){const N=function Ci(x,{fid:I}){return`${zn(x)}/${I}/authTokens:generate`}(x,A),z=function An(x,{refreshToken:I}){const A=Sn(x);return A.append("Authorization",function si(x){return`${le} ${x}`}(I)),A}(x,A),K=I.getImmediate({optional:!0});if(K){const ht=yield K.getHeartbeatsHeader();ht&&z.append("x-firebase-client",ht)}const Ke={method:"POST",headers:z,body:JSON.stringify({installation:{sdkVersion:Oo,appId:x.appId}})},$e=yield yr(()=>fetch(N,Ke));if($e.ok)return bt(yield $e.json());throw yield tn("Generate Auth Token",$e)})).apply(this,arguments)}function co(x){return ui.apply(this,arguments)}function ui(){return ui=(0,P.Z)(function*(x,I=!1){let A;const N=yield ao(x.appConfig,K=>{if(!Vt(K))throw tt.create("not-registered");const de=K.authToken;if(!I&&function Xt(x){return 2===x.requestStatus&&!function rr(x){const I=Date.now();return I<x.creationTime||x.creationTime+x.expiresIn<I+be}(x)}(de))return K;if(1===de.requestStatus)return A=function me(x,I){return ne.apply(this,arguments)}(x,I),K;{if(!navigator.onLine)throw tt.create("app-offline");const Ke=function Wn(x){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:I})}(K);return A=function ft(x,I){return Dt.apply(this,arguments)}(x,Ke),Ke}});return A?yield A:N.authToken}),ui.apply(this,arguments)}function ne(){return(ne=(0,P.Z)(function*(x,I){let A=yield Ne(x.appConfig);for(;1===A.authToken.requestStatus;)yield ci(100),A=yield Ne(x.appConfig);const N=A.authToken;return 0===N.requestStatus?co(x,I):N})).apply(this,arguments)}function Ne(x){return ao(x,I=>{if(!Vt(I))throw tt.create("not-registered");return function Po(x){return 1===x.requestStatus&&x.requestTime+Qs<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Dt(){return Dt=(0,P.Z)(function*(x,I){try{const A=yield function Wt(x,I){return wr.apply(this,arguments)}(x,I),N=Object.assign(Object.assign({},I),{authToken:A});return yield nr(x.appConfig,N),A}catch(A){if(!at(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const N=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield nr(x.appConfig,N)}else yield so(x.appConfig);throw A}}),Dt.apply(this,arguments)}function Vt(x){return void 0!==x&&2===x.registrationStatus}function Qa(){return(Qa=(0,P.Z)(function*(x){const I=x,{installationEntry:A,registrationPromise:N}=yield U(I);return N?N.catch(console.error):co(I).catch(console.error),A.fid})).apply(this,arguments)}function di(){return di=(0,P.Z)(function*(x,I=!1){const A=x;return yield function gd(x){return Ii.apply(this,arguments)}(A),(yield co(A,I)).token}),di.apply(this,arguments)}function Ii(){return(Ii=(0,P.Z)(function*(x){const{registrationPromise:I}=yield U(x);I&&(yield I)})).apply(this,arguments)}function No(x){return tt.create("missing-app-config-values",{valueName:x})}const Pc="installations",Zm=x=>{const I=x.getProvider("app").getImmediate(),A=function Oc(x){if(!x||!x.options)throw No("App Configuration");if(!x.name)throw No("App Name");const I=["projectId","apiKey","appId"];for(const A of I)if(!x.options[A])throw No(A);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(I);return{app:I,appConfig:A,heartbeatServiceProvider:(0,te._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Fo=x=>{const I=x.getProvider("app").getImmediate(),A=(0,te._getProvider)(I,Pc).getImmediate();return{getId:()=>function ns(x){return Qa.apply(this,arguments)}(A),getToken:z=>function md(x){return di.apply(this,arguments)}(A,z)}};(function yd(){(0,te._registerComponent)(new ae.wA(Pc,Zm,"PUBLIC")),(0,te._registerComponent)(new ae.wA("installations-internal",Fo,"PRIVATE"))})(),(0,te.registerVersion)(ko,jn),(0,te.registerVersion)(ko,jn,"esm2017");const Xs="@firebase/remote-config",hn=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jr{constructor(I,A,N,z){this.client=I,this.storage=A,this.storageCache=N,this.logger=z}isCachedDataFresh(I,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const N=Date.now()-A,z=N<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${N}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${z}.`),z}fetch(I){var A=this;return(0,P.Z)(function*(){const[N,z]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(z&&A.isCachedDataFresh(I.cacheMaxAgeMillis,N))return z;I.eTag=z&&z.eTag;const K=yield A.client.fetch(I),de=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===K.status&&de.push(A.storage.setLastSuccessfulFetchResponse(K)),yield Promise.all(de),K})()}}function bd(x=navigator){return x.languages&&x.languages[0]||x.language}class lo{constructor(I,A,N,z,K,de){this.firebaseInstallations=I,this.sdkVersion=A,this.namespace=N,this.projectId=z,this.apiKey=K,this.appId=de}fetch(I){var A=this;return(0,P.Z)(function*(){const[N,z]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),de=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,Ke={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},$e={sdk_version:A.sdkVersion,app_instance_id:N,app_instance_id_token:z,app_id:A.appId,language_code:bd()},ht={method:"POST",headers:Ke,body:JSON.stringify($e)},Rt=fetch(de,ht),Pt=new Promise((ri,_s)=>{I.signal.addEventListener(()=>{const Xd=new Error("The operation was aborted.");Xd.name="AbortError",_s(Xd)})});let _i;try{yield Promise.race([Rt,Pt]),_i=yield Rt}catch(ri){let _s="fetch-client-network";throw"AbortError"===ri?.name&&(_s="fetch-timeout"),hn.create(_s,{originalErrorMessage:ri?.message})}let Un=_i.status;const gs=_i.headers.get("ETag")||void 0;let Eo,Ls;if(200===_i.status){let ri;try{ri=yield _i.json()}catch(_s){throw hn.create("fetch-client-parse",{originalErrorMessage:_s?.message})}Eo=ri.entries,Ls=ri.state}if("INSTANCE_STATE_UNSPECIFIED"===Ls?Un=500:"NO_CHANGE"===Ls?Un=304:("NO_TEMPLATE"===Ls||"EMPTY_CONFIG"===Ls)&&(Eo={}),304!==Un&&200!==Un)throw hn.create("fetch-status",{httpStatus:Un});return{status:Un,eTag:gs,config:Eo}})()}}class Ja{constructor(I,A){this.client=I,this.storage=A}fetch(I){var A=this;return(0,P.Z)(function*(){const N=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(I,N)})()}attemptFetch(I,{throttleEndTimeMillis:A,backoffCount:N}){var z=this;return(0,P.Z)(function*(){yield function Ln(x,I){return new Promise((A,N)=>{const z=Math.max(I-Date.now(),0),K=setTimeout(A,z);x.addEventListener(()=>{clearTimeout(K),N(hn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,A);try{const K=yield z.client.fetch(I);return yield z.storage.deleteThrottleMetadata(),K}catch(K){if(!function na(x){if(!(x instanceof re.ZR&&x.customData))return!1;const I=Number(x.customData.httpStatus);return 429===I||500===I||503===I||504===I}(K))throw K;const de={throttleEndTimeMillis:Date.now()+(0,re.$s)(N),backoffCount:N+1};return yield z.storage.setThrottleMetadata(de),z.attemptFetch(I,de)}})()}}class wd{constructor(I,A,N,z,K){this.app=I,this._client=A,this._storageCache=N,this._storage=z,this._logger=K,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pi(x,I){const A=x.target.error||void 0;return hn.create(I,{originalErrorMessage:A&&A?.message})}const Gn="app_namespace_store";class tE{constructor(I,A,N,z=function Gt(){return new Promise((x,I)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=N=>{I(pi(N,"storage-open"))},A.onsuccess=N=>{x(N.target.result)},A.onupgradeneeded=N=>{0===N.oldVersion&&N.target.result.createObjectStore(Gn,{keyPath:"compositeKey"})}}catch(A){I(hn.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=I,this.appName=A,this.namespace=N,this.openDbPromise=z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var A=this;return(0,P.Z)(function*(){const N=yield A.openDbPromise;return new Promise((z,K)=>{const Ke=N.transaction([Gn],"readonly").objectStore(Gn),$e=A.createCompositeKey(I);try{const ht=Ke.get($e);ht.onerror=Rt=>{K(pi(Rt,"storage-get"))},ht.onsuccess=Rt=>{const Pt=Rt.target.result;z(Pt?Pt.value:void 0)}}catch(ht){K(hn.create("storage-get",{originalErrorMessage:ht?.message}))}})})()}set(I,A){var N=this;return(0,P.Z)(function*(){const z=yield N.openDbPromise;return new Promise((K,de)=>{const $e=z.transaction([Gn],"readwrite").objectStore(Gn),ht=N.createCompositeKey(I);try{const Rt=$e.put({compositeKey:ht,value:A});Rt.onerror=Pt=>{de(pi(Pt,"storage-set"))},Rt.onsuccess=()=>{K()}}catch(Rt){de(hn.create("storage-set",{originalErrorMessage:Rt?.message}))}})})()}delete(I){var A=this;return(0,P.Z)(function*(){const N=yield A.openDbPromise;return new Promise((z,K)=>{const Ke=N.transaction([Gn],"readwrite").objectStore(Gn),$e=A.createCompositeKey(I);try{const ht=Ke.delete($e);ht.onerror=Rt=>{K(pi(Rt,"storage-delete"))},ht.onsuccess=()=>{z()}}catch(ht){K(hn.create("storage-delete",{originalErrorMessage:ht?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Lc{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,P.Z)(function*(){const A=I.storage.getLastFetchStatus(),N=I.storage.getLastSuccessfulFetchTimestampMillis(),z=I.storage.getActiveConfig(),K=yield A;K&&(I.lastFetchStatus=K);const de=yield N;de&&(I.lastSuccessfulFetchTimestampMillis=de);const Ke=yield z;Ke&&(I.activeConfig=Ke)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Rs(){return ks.apply(this,arguments)}function ks(){return(ks=(0,P.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function uo(){(0,te._registerComponent)(new ae.wA("remote-config",function x(I,{instanceIdentifier:A}){const N=I.getProvider("app").getImmediate(),z=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw hn.create("registration-window");if(!(0,re.hl)())throw hn.create("indexed-db-unavailable");const{projectId:K,apiKey:de,appId:Ke}=N.options;if(!K)throw hn.create("registration-project-id");if(!de)throw hn.create("registration-api-key");if(!Ke)throw hn.create("registration-app-id");const $e=new tE(Ke,N.name,A=A||"firebase"),ht=new Lc($e),Rt=new _e.Yd(Xs);Rt.logLevel=_e.in.ERROR;const Pt=new lo(z,te.SDK_VERSION,A,K,de,Ke),_i=new Ja(Pt,$e),Un=new Jr(_i,$e,ht,Rt),gs=new wd(N,Un,ht,$e,Rt);return function kt(x){const I=(0,re.m9)(x);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(gs),gs},"PUBLIC").setMultipleInstances(!0)),(0,te.registerVersion)(Xs,"0.4.4"),(0,te.registerVersion)(Xs,"0.4.4","esm2017")}();const hr=(x,I)=>I.some(A=>x instanceof A);let Wm,qn;const Vo=new WeakMap,Bo=new WeakMap,xr=new WeakMap,Mr=new WeakMap,Nl=new WeakMap;let ec={get(x,I,A){if(x instanceof IDBTransaction){if("done"===I)return Bo.get(x);if("objectStoreNames"===I)return x.objectStoreNames||xr.get(x);if("store"===I)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return ho(x[I])},set:(x,I,A)=>(x[I]=A,!0),has:(x,I)=>x instanceof IDBTransaction&&("done"===I||"store"===I)||I in x};function Km(x){return"function"==typeof x?function _f(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ia(){return qn||(qn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...I){return x.apply(Fl(this),I),ho(Vo.get(this))}:function(...I){return ho(x.apply(Fl(this),I))}:function(I,...A){const N=x.call(Fl(this),I,...A);return xr.set(N,I.sort?I.sort():[I]),ho(N)}}(x):(x instanceof IDBTransaction&&function Ed(x){if(Bo.has(x))return;const I=new Promise((A,N)=>{const z=()=>{x.removeEventListener("complete",K),x.removeEventListener("error",de),x.removeEventListener("abort",de)},K=()=>{A(),z()},de=()=>{N(x.error||new DOMException("AbortError","AbortError")),z()};x.addEventListener("complete",K),x.addEventListener("error",de),x.addEventListener("abort",de)});Bo.set(x,I)}(x),hr(x,function mi(){return Wm||(Wm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,ec):x)}function ho(x){if(x instanceof IDBRequest)return function mf(x){const I=new Promise((A,N)=>{const z=()=>{x.removeEventListener("success",K),x.removeEventListener("error",de)},K=()=>{A(ho(x.result)),z()},de=()=>{N(x.error),z()};x.addEventListener("success",K),x.addEventListener("error",de)});return I.then(A=>{A instanceof IDBCursor&&Vo.set(A,x)}).catch(()=>{}),Nl.set(I,x),I}(x);if(Mr.has(x))return Mr.get(x);const I=Km(x);return I!==x&&(Mr.set(x,I),Nl.set(I,x)),I}const Fl=x=>Nl.get(x);function xd(x,I,{blocked:A,upgrade:N,blocking:z,terminated:K}={}){const de=indexedDB.open(x,I),Ke=ho(de);return N&&de.addEventListener("upgradeneeded",$e=>{N(ho(de.result),$e.oldVersion,$e.newVersion,ho(de.transaction))}),A&&de.addEventListener("blocked",()=>A()),Ke.then($e=>{K&&$e.addEventListener("close",()=>K()),z&&$e.addEventListener("versionchange",()=>z())}).catch(()=>{}),Ke}function tc(x,{blocked:I}={}){const A=indexedDB.deleteDatabase(x);return I&&A.addEventListener("blocked",()=>I()),ho(A).then(()=>{})}const Cd=["get","getKey","getAll","getAllKeys","count"],yf=["put","add","delete","clear"],Ll=new Map;function vf(x,I){if(!(x instanceof IDBDatabase)||I in x||"string"!=typeof I)return;if(Ll.get(I))return Ll.get(I);const A=I.replace(/FromIndex$/,""),N=I!==A,z=yf.includes(A);if(!(A in(N?IDBIndex:IDBObjectStore).prototype)||!z&&!Cd.includes(A))return;const K=function(){var de=(0,P.Z)(function*(Ke,...$e){const ht=this.transaction(Ke,z?"readwrite":"readonly");let Rt=ht.store;return N&&(Rt=Rt.index($e.shift())),(yield Promise.all([Rt[A](...$e),z&&ht.done]))[0]});return function($e){return de.apply(this,arguments)}}();return Ll.set(I,K),K}!function gf(x){ec=x(ec)}(x=>({...x,get:(I,A,N)=>vf(I,A)||x.get(I,A,N),has:(I,A)=>!!vf(I,A)||x.has(I,A)}));const Id="/firebase-messaging-sw.js",Vl="/firebase-cloud-messaging-push-scope",nc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Dd="https://fcmregistrations.googleapis.com/v1",Td="google.c.a.c_id",Zn="google.c.a.c_l",bf="google.c.a.ts";var sa=(()=>((sa=sa||{}).PUSH_RECEIVED="push-received",sa.NOTIFICATION_CLICKED="notification-clicked",sa))();function Ti(x){const I=new Uint8Array(x);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rc(x){const A=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),N=atob(A),z=new Uint8Array(N.length);for(let K=0;K<N.length;++K)z[K]=N.charCodeAt(K);return z}const ic="fcm_token_details_db",Ad=5,aa="fcm_token_object_Store";function ca(){return ca=(0,P.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(K=>K.name).includes(ic))return null;let I=null;return(yield xd(ic,Ad,{upgrade:(N=(0,P.Z)(function*(z,K,de,Ke){var $e;if(K<2||!z.objectStoreNames.contains(aa))return;const ht=Ke.objectStore(aa),Rt=yield ht.index("fcmSenderId").get(x);if(yield ht.clear(),Rt)if(2===K){const Pt=Rt;if(!Pt.auth||!Pt.p256dh||!Pt.endpoint)return;I={token:Pt.fcmToken,createTime:null!==($e=Pt.createTime)&&void 0!==$e?$e:Date.now(),subscriptionOptions:{auth:Pt.auth,p256dh:Pt.p256dh,endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:"string"==typeof Pt.vapidKey?Pt.vapidKey:Ti(Pt.vapidKey)}}}else if(3===K){const Pt=Rt;I={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:Ti(Pt.auth),p256dh:Ti(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:Ti(Pt.vapidKey)}}}else if(4===K){const Pt=Rt;I={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:Ti(Pt.auth),p256dh:Ti(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:Ti(Pt.vapidKey)}}}}),function(K,de,Ke,$e){return N.apply(this,arguments)})})).close(),yield tc(ic),yield tc("fcm_vapid_details_db"),yield tc("undefined"),function fo(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:I}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}(I)?I:null;var N}),ca.apply(this,arguments)}const la="firebase-messaging-database",Yn=1,ti="firebase-messaging-store";let Md=null;function ua(){return Md||(Md=xd(la,Yn,{upgrade:(x,I)=>{0===I&&x.createObjectStore(ti)}})),Md}function oc(x){return Uo.apply(this,arguments)}function Uo(){return Uo=(0,P.Z)(function*(x){const I=Vc(x),N=yield(yield ua()).transaction(ti).objectStore(ti).get(I);if(N)return N;{const z=yield function ky(x){return ca.apply(this,arguments)}(x.appConfig.senderId);if(z)return yield Rd(x,z),z}}),Uo.apply(this,arguments)}function Rd(x,I){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,P.Z)(function*(x,I){const A=Vc(x),z=(yield ua()).transaction(ti,"readwrite");return yield z.objectStore(ti).put(I,A),yield z.done,I})).apply(this,arguments)}function da(){return(da=(0,P.Z)(function*(x){const I=Vc(x),N=(yield ua()).transaction(ti,"readwrite");yield N.objectStore(ti).delete(I),yield N.done})).apply(this,arguments)}function Vc({appConfig:x}){return x.appId}const Rr=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function wf(x,I){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,P.Z)(function*(x,I){const A=yield Bc(x),N=xf(I),z={method:"POST",headers:A,body:JSON.stringify(N)};let K;try{K=yield(yield fetch(ha(x.appConfig),z)).json()}catch(de){throw Rr.create("token-subscribe-failed",{errorInfo:de?.toString()})}if(K.error)throw Rr.create("token-subscribe-failed",{errorInfo:K.error.message});if(!K.token)throw Rr.create("token-subscribe-no-token");return K.token})).apply(this,arguments)}function Hl(){return(Hl=(0,P.Z)(function*(x,I){const A=yield Bc(x),N=xf(I.subscriptionOptions),z={method:"PATCH",headers:A,body:JSON.stringify(N)};let K;try{K=yield(yield fetch(`${ha(x.appConfig)}/${I.token}`,z)).json()}catch(de){throw Rr.create("token-update-failed",{errorInfo:de?.toString()})}if(K.error)throw Rr.create("token-update-failed",{errorInfo:K.error.message});if(!K.token)throw Rr.create("token-update-no-token");return K.token})).apply(this,arguments)}function jl(x,I){return zl.apply(this,arguments)}function zl(){return(zl=(0,P.Z)(function*(x,I){const N={method:"DELETE",headers:yield Bc(x)};try{const K=yield(yield fetch(`${ha(x.appConfig)}/${I}`,N)).json();if(K.error)throw Rr.create("token-unsubscribe-failed",{errorInfo:K.error.message})}catch(z){throw Rr.create("token-unsubscribe-failed",{errorInfo:z?.toString()})}})).apply(this,arguments)}function ha({projectId:x}){return`${Dd}/projects/${x}/registrations`}function Bc(x){return sc.apply(this,arguments)}function sc(){return(sc=(0,P.Z)(function*({appConfig:x,installations:I}){const A=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function xf({p256dh:x,auth:I,endpoint:A,vapidKey:N}){const z={web:{endpoint:A,auth:I,p256dh:x}};return N!==nc&&(z.web.applicationPubKey=N),z}const $l=6048e5;function Uc(){return Uc=(0,P.Z)(function*(x){const I=yield function cc(x,I){return fa.apply(this,arguments)}(x.swRegistration,x.vapidKey),A={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:I.endpoint,auth:Ti(I.getKey("auth")),p256dh:Ti(I.getKey("p256dh"))},N=yield oc(x.firebaseDependencies);if(N){if(function kr(x,I){return I.vapidKey===x.vapidKey&&I.endpoint===x.endpoint&&I.auth===x.auth&&I.p256dh===x.p256dh}(N.subscriptionOptions,A))return Date.now()>=N.createTime+$l?function po(x,I){return ac.apply(this,arguments)}(x,{token:N.token,createTime:Date.now(),subscriptionOptions:A}):N.token;try{yield jl(x.firebaseDependencies,N.token)}catch(z){console.warn(z)}return Nd(x.firebaseDependencies,A)}return Nd(x.firebaseDependencies,A)}),Uc.apply(this,arguments)}function Pd(){return Pd=(0,P.Z)(function*(x){const I=yield oc(x.firebaseDependencies);I&&(yield jl(x.firebaseDependencies,I.token),yield function kd(x){return da.apply(this,arguments)}(x.firebaseDependencies));const A=yield x.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),Pd.apply(this,arguments)}function ac(){return ac=(0,P.Z)(function*(x,I){try{const A=yield function Od(x,I){return Hl.apply(this,arguments)}(x.firebaseDependencies,I),N=Object.assign(Object.assign({},I),{token:A,createTime:Date.now()});return yield Rd(x.firebaseDependencies,N),A}catch(A){throw yield function Gl(x){return Pd.apply(this,arguments)}(x),A}}),ac.apply(this,arguments)}function Nd(x,I){return on.apply(this,arguments)}function on(){return(on=(0,P.Z)(function*(x,I){const N={token:yield wf(x,I),createTime:Date.now(),subscriptionOptions:I};return yield Rd(x,N),N.token})).apply(this,arguments)}function fa(){return(fa=(0,P.Z)(function*(x,I){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rc(I)})})).apply(this,arguments)}function pa(x){const I={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function Fd(x,I){if(!I.notification)return;x.notification={};const A=I.notification.title;A&&(x.notification.title=A);const N=I.notification.body;N&&(x.notification.body=N);const z=I.notification.image;z&&(x.notification.image=z);const K=I.notification.icon;K&&(x.notification.icon=K)}(I,x),function Ho(x,I){I.data&&(x.data=I.data)}(I,x),function Si(x,I){var A,N,z,K,de;if(!(I.fcmOptions||null!==(A=I.notification)&&void 0!==A&&A.click_action))return;x.fcmOptions={};const Ke=null!==(z=null===(N=I.fcmOptions)||void 0===N?void 0:N.link)&&void 0!==z?z:null===(K=I.notification)||void 0===K?void 0:K.click_action;Ke&&(x.fcmOptions.link=Ke);const $e=null===(de=I.fcmOptions)||void 0===de?void 0:de.analytics_label;$e&&(x.fcmOptions.analyticsLabel=$e)}(I,x),I}function Ld(x,I){const A=[];for(let N=0;N<x.length;N++)A.push(x.charAt(N)),N<I.length&&A.push(I.charAt(N));return A.join("")}function mo(x){return Rr.create("missing-app-config-values",{valueName:x})}Ld("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ld("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vd{constructor(I,A,N){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const z=function ql(x){if(!x||!x.options)throw mo("App Configuration Object");if(!x.name)throw mo("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:A}=x;for(const N of I)if(!A[N])throw mo(N);return{appName:x.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:z,installations:A,analyticsProvider:N}}_delete(){return Promise.resolve()}}function Hc(){return(Hc=(0,P.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(Id,{scope:Vl}),x.swRegistration.update().catch(()=>{})}catch(I){throw Rr.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function os(){return(os=(0,P.Z)(function*(x,I){if(!I&&!x.swRegistration&&(yield function Zl(x){return Hc.apply(this,arguments)}(x)),I||!x.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Rr.create("invalid-sw-registration");x.swRegistration=I}})).apply(this,arguments)}function Ct(){return(Ct=(0,P.Z)(function*(x,I){I?x.vapidKey=I:x.vapidKey||(x.vapidKey=nc)})).apply(this,arguments)}function Bd(){return Bd=(0,P.Z)(function*(x,I){if(!navigator)throw Rr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Rr.create("permission-blocked");return yield function ss(x,I){return Ct.apply(this,arguments)}(x,I?.vapidKey),yield function Wl(x,I){return os.apply(this,arguments)}(x,I?.serviceWorkerRegistration),function Cf(x){return Uc.apply(this,arguments)}(x)}),Bd.apply(this,arguments)}function Ud(){return(Ud=(0,P.Z)(function*(x,I,A){const N=function Df(x){switch(x){case sa.NOTIFICATION_CLICKED:return"notification_open";case sa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(I);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(N,{message_id:A[Td],message_name:A[Zn],message_time:A[bf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ai(){return Ai=(0,P.Z)(function*(x,I){const A=I.data;if(!A.isFirebaseMessaging)return;x.onMessageHandler&&A.messageType===sa.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(pa(A)):x.onMessageHandler.next(pa(A)));const N=A.data;(function Ym(x){return"object"==typeof x&&!!x&&Td in x})(N)&&"1"===N["google.c.a.e"]&&(yield function If(x,I,A){return Ud.apply(this,arguments)}(x,A.messageType,N))}),Ai.apply(this,arguments)}const ma="@firebase/messaging",Ql=x=>{const I=new Vd(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function Yl(x,I){return Ai.apply(this,arguments)}(I,A)),I},Xl=x=>{const I=x.getProvider("messaging").getImmediate();return{getToken:N=>function Kl(x,I){return Bd.apply(this,arguments)}(I,N)}};function Se(){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,P.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Tf(){(0,te._registerComponent)(new ae.wA("messaging",Ql,"PUBLIC")),(0,te._registerComponent)(new ae.wA("messaging-internal",Xl,"PRIVATE")),(0,te.registerVersion)(ma,"0.12.4"),(0,te.registerVersion)(ma,"0.12.4","esm2017")}();const Vn="analytics",Qm="firebase_id",zc="origin",Hr=6e4,Mi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$c="https://www.googletagmanager.com/gtag/js",kn=new _e.Yd("@firebase/analytics"),Pr=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ga(x){if(!x.startsWith($c)){const I=Pr.create("invalid-gtag-resource",{gtagURL:x});return kn.warn(I.message),""}return x}function jd(x){return Promise.all(x.map(I=>I.catch(A=>A)))}function Os(){return(Os=(0,P.Z)(function*(x,I,A,N,z,K){const de=N[z];try{if(de)yield I[de];else{const $e=(yield jd(A)).find(ht=>ht.measurementId===z);$e&&(yield I[$e.appId])}}catch(Ke){kn.error(Ke)}x("config",z,K)})).apply(this,arguments)}function Gc(){return(Gc=(0,P.Z)(function*(x,I,A,N,z){try{let K=[];if(z&&z.send_to){let de=z.send_to;Array.isArray(de)||(de=[de]);const Ke=yield jd(A);for(const $e of de){const ht=Ke.find(Pt=>Pt.measurementId===$e),Rt=ht&&I[ht.appId];if(!Rt){K=[];break}K.push(Rt)}}0===K.length&&(K=Object.values(I)),yield Promise.all(K),x("event",N,z||{})}catch(K){kn.error(K)}})).apply(this,arguments)}const Af=30,zd=new class Ps{constructor(I={},A=1e3){this.throttleMetadata=I,this.intervalMillis=A}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,A){this.throttleMetadata[I]=A}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Jm(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function ls(){return(ls=(0,P.Z)(function*(x){var I;const{appId:A,apiKey:N}=x,z={method:"GET",headers:Jm(N)},K=Mi.replace("{app-id}",A),de=yield fetch(K,z);if(200!==de.status&&304!==de.status){let Ke="";try{const $e=yield de.json();null!==(I=$e.error)&&void 0!==I&&I.message&&(Ke=$e.error.message)}catch{}throw Pr.create("config-fetch-failed",{httpStatus:de.status,responseMessage:Ke})}return de.json()})).apply(this,arguments)}function _a(){return(_a=(0,P.Z)(function*(x,I=zd,A){const{appId:N,apiKey:z,measurementId:K}=x.options;if(!N)throw Pr.create("no-app-id");if(!z){if(K)return{measurementId:K,appId:N};throw Pr.create("no-api-key")}const de=I.getThrottleMetadata(N)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new nu;return setTimeout((0,P.Z)(function*(){Ke.abort()}),void 0!==A?A:Hr),Mf({appId:N,apiKey:z,measurementId:K},de,Ke,I)})).apply(this,arguments)}function Mf(x,I,A){return ya.apply(this,arguments)}function ya(){return ya=(0,P.Z)(function*(x,{throttleEndTimeMillis:I,backoffCount:A},N,z=zd){var K;const{appId:de,measurementId:Ke}=x;try{yield function Rf(x,I){return new Promise((A,N)=>{const z=Math.max(I-Date.now(),0),K=setTimeout(A,z);x.addEventListener(()=>{clearTimeout(K),N(Pr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(N,I)}catch($e){if(Ke)return kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${$e?.message}]`),{appId:de,measurementId:Ke};throw $e}try{const $e=yield function ni(x){return ls.apply(this,arguments)}(x);return z.deleteThrottleMetadata(de),$e}catch($e){const ht=$e;if(!function mc(x){if(!(x instanceof re.ZR&&x.customData))return!1;const I=Number(x.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ht)){if(z.deleteThrottleMetadata(de),Ke)return kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${ht?.message}]`),{appId:de,measurementId:Ke};throw $e}const Rt=503===Number(null===(K=ht?.customData)||void 0===K?void 0:K.httpStatus)?(0,re.$s)(A,z.intervalMillis,Af):(0,re.$s)(A,z.intervalMillis),Pt={throttleEndTimeMillis:Date.now()+Rt,backoffCount:A+1};return z.setThrottleMetadata(de,Pt),kn.debug(`Calling attemptFetch again in ${Rt} millis`),Mf(x,Pt,N,z)}}),ya.apply(this,arguments)}class nu{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let gc,Of;function $d(){return($d=(0,P.Z)(function*(x,I,A,N,z){if(z&&z.global)x("event",A,N);else{const K=yield I;x("event",A,Object.assign(Object.assign({},N),{send_to:K}))}})).apply(this,arguments)}function us(){return(us=(0,P.Z)(function*(){if(!(0,re.hl)())return kn.warn(Pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(x){return kn.warn(Pr.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function ba(){return ba=(0,P.Z)(function*(x,I,A,N,z,K,de){var Ke;const $e=function Bn(x){return _a.apply(this,arguments)}(x);$e.then(Un=>{A[Un.measurementId]=Un.appId,x.options.measurementId&&Un.measurementId!==x.options.measurementId&&kn.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Un.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Un=>kn.error(Un)),I.push($e);const ht=function Cr(){return us.apply(this,arguments)}().then(Un=>{if(Un)return N.getId()}),[Rt,Pt]=yield Promise.all([$e,ht]);(function tu(x){const I=window.document.getElementsByTagName("script");for(const A of Object.values(I))if(A.src&&A.src.includes($c)&&A.src.includes(x))return A;return null})(K)||function dc(x,I){const A=function uc(x,I){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(x,I)),A}("firebase-js-sdk-policy",{createScriptURL:ga}),N=document.createElement("script"),z=`${$c}?l=${x}&id=${I}`;N.src=A?A?.createScriptURL(z):z,N.async=!0,document.head.appendChild(N)}(K,Rt.measurementId),Of&&(z("consent","default",Of),function Jt(x){Of=x}(void 0)),z("js",new Date);const _i=null!==(Ke=de?.config)&&void 0!==Ke?Ke:{};return _i[zc]="firebase",_i.update=!0,null!=Pt&&(_i[Qm]=Pt),z("config",Rt.measurementId,_i),gc&&(z("set",gc),function ct(x){gc=x}(void 0)),Rt.measurementId}),ba.apply(this,arguments)}class ir{constructor(I){this.app=I}_delete(){return delete rt[this.app.options.appId],Promise.resolve()}}let rt={},Gd=[];const _c={};let qd,Gi,ds="dataLayer",hs=!1;function su(x,I,A){!function vo(){const x=[];if((0,re.ru)()&&x.push("This is a browser extension environment."),(0,re.zI)()||x.push("Cookies are not available."),x.length>0){const I=x.map((N,z)=>`(${z+1}) ${N}`).join(" "),A=Pr.create("invalid-analytics-context",{errorInfo:I});kn.warn(A.message)}}();const N=x.options.appId;if(!N)throw Pr.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Pr.create("no-api-key");kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=rt[N])throw Pr.create("already-exists",{id:N});if(!hs){!function eu(x){let I=[];Array.isArray(window[x])?I=window[x]:window[x]=I}(ds);const{wrappedGtag:K,gtagCore:de}=function pc(x,I,A,N,z){let K=function(...de){window[N].push(arguments)};return window[z]&&"function"==typeof window[z]&&(K=window[z]),window[z]=function fc(x,I,A,N){function K(){return K=(0,P.Z)(function*(de,...Ke){try{if("event"===de){const[$e,ht]=Ke;yield function go(x,I,A,N,z){return Gc.apply(this,arguments)}(x,I,A,$e,ht)}else if("config"===de){const[$e,ht]=Ke;yield function hc(x,I,A,N,z,K){return Os.apply(this,arguments)}(x,I,A,N,$e,ht)}else if("consent"===de){const[$e]=Ke;x("consent","update",$e)}else if("get"===de){const[$e,ht,Rt]=Ke;x("get",$e,ht,Rt)}else if("set"===de){const[$e]=Ke;x("set",$e)}else x(de,...Ke)}catch($e){kn.error($e)}}),K.apply(this,arguments)}return function z(de){return K.apply(this,arguments)}}(K,x,I,A),{gtagCore:K,wrappedGtag:window[z]}}(rt,Gd,_c,ds,"gtag");Gi=K,qd=de,hs=!0}return rt[N]=function Ir(x,I,A,N,z,K,de){return ba.apply(this,arguments)}(x,Gd,_c,I,qd,ds,A),new ir(x)}function qi(){return jo.apply(this,arguments)}function jo(){return(jo=(0,P.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const uu="@firebase/analytics";!function Yd(){(0,te._registerComponent)(new ae.wA(Vn,(I,{options:A})=>su(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,te._registerComponent)(new ae.wA("analytics-internal",function x(I){try{const A=I.getProvider(Vn).getImmediate();return{logEvent:(N,z,K)=>function zo(x,I,A,N){x=(0,re.m9)(x),function Ns(x,I,A,N,z){return $d.apply(this,arguments)}(Gi,rt[x.app.options.appId],I,A,N).catch(z=>kn.error(z))}(A,N,z,K)}}catch(A){throw Pr.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,te.registerVersion)(uu,"0.10.0"),(0,te.registerVersion)(uu,"0.10.0","esm2017")}();var ps=O(1954),Qd=O(2631);const Nf=new class yc extends Qd.v{}(class Kc extends ps.o{constructor(I,A){super(I,A),this.scheduler=I,this.work=A}schedule(I,A=0){return A>0?super.schedule(I,A):(this.delay=A,this.state=I,this.scheduler.flush(this),this)}execute(I,A){return A>0||this.closed?super.execute(I,A):this._execute(I,A)}requestAsyncId(I,A,N=0){return null!=N&&N>0||null==N&&this.delay>0?super.requestAsyncId(I,A,N):(I.flush(this),0)}});var ms=O(6321),Qn=O(9397),On=O(5137),$o=O(3093);const Yc=new a.GfV("7.6.1"),xa="__angularfire_symbol__analyticsIsSupportedValue",bo="__angularfire_symbol__analyticsIsSupported",du="__angularfire_symbol__remoteConfigIsSupportedValue",pn="__angularfire_symbol__remoteConfigIsSupported",hu="__angularfire_symbol__messagingIsSupportedValue",or="__angularfire_symbol__messagingIsSupported";function Ca(x,I,A){if(I){if(1===I.length)return I[0];const K=I.filter(de=>de.app===A);if(1===K.length)return K[0]}return A.container.getProvider(x).getImmediate({optional:!0})}globalThis[bo]||(globalThis[bo]=qi().then(x=>globalThis[xa]=x).catch(()=>globalThis[xa]=!1)),globalThis[or]||(globalThis[or]=Se().then(x=>globalThis[hu]=x).catch(()=>globalThis[hu]=!1)),globalThis[pn]||(globalThis[pn]=Rs().then(x=>globalThis[du]=x).catch(()=>globalThis[du]=!1));const Oy=(x,I)=>{const A=I?[I]:(0,Z.C6)(),N=[];return A.forEach(z=>{z.container.getProvider(x).instances.forEach(de=>{N.includes(de)||N.push(de)})}),N};function Zi(){}class Xn{constructor(I,A=Nf){this.zone=I,this.delegate=A}now(){return this.delegate.now()}schedule(I,A,N){const z=this.zone;return this.delegate.schedule(function(de){z.runGuarded(()=>{I.apply(this,[de])})},A,N)}}class vc{constructor(I){this.zone=I,this.task=null}call(I,A){const N=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zi,{},Zi,Zi)),A.pipe((0,Qn.b)({next:N,complete:N,error:N})).subscribe(I).add(N)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Go=(()=>{class x{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new Xn(Zone.current)),this.insideAngular=A.run(()=>new Xn(Zone.current,ms.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(A){return new(A||x)(a.LFG(a.R0b))},x.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function gi(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function Ia(x){return gi(),function Ff(x){return function(A){return(A=A.lift(new vc(x.ngZone))).pipe((0,On.R)(x.outsideAngular),(0,$o.Q)(x.insideAngular))}}(gi())(x)}},9058:(dt,Ce,O)=>{O.d(Ce,{$s:()=>so,BH:()=>X,G6:()=>Oo,L:()=>fe,LL:()=>Te,Pz:()=>ye,Sg:()=>ge,UG:()=>oe,US:()=>ae,ZB:()=>ee,ZR:()=>xe,aH:()=>ie,b$:()=>_r,eu:()=>pe,hl:()=>le,jU:()=>ze,m9:()=>Yt,ne:()=>yn,pd:()=>gt,r3:()=>un,ru:()=>Zt,tV:()=>B,uI:()=>Ue,vZ:()=>ai,w1:()=>ko,xO:()=>Wa,xb:()=>si,z$:()=>Re,zI:()=>be,zd:()=>We});const te=function(U){const V=[];let q=0;for(let Ie=0;Ie<U.length;Ie++){let se=U.charCodeAt(Ie);se<128?V[q++]=se:se<2048?(V[q++]=se>>6|192,V[q++]=63&se|128):55296==(64512&se)&&Ie+1<U.length&&56320==(64512&U.charCodeAt(Ie+1))?(se=65536+((1023&se)<<10)+(1023&U.charCodeAt(++Ie)),V[q++]=se>>18|240,V[q++]=se>>12&63|128,V[q++]=se>>6&63|128,V[q++]=63&se|128):(V[q++]=se>>12|224,V[q++]=se>>6&63|128,V[q++]=63&se|128)}return V},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,V){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let se=0;se<U.length;se+=3){const it=U[se],_t=se+1<U.length,Mt=_t?U[se+1]:0,wn=se+2<U.length,fn=wn?U[se+2]:0;let wr=(15&Mt)<<2|fn>>6,Ci=63&fn;wn||(Ci=64,_t||(wr=64)),Ie.push(q[it>>2],q[(3&it)<<4|Mt>>4],q[wr],q[Ci])}return Ie.join("")},encodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(U):this.encodeByteArray(te(U),V)},decodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(U):function(U){const V=[];let q=0,Ie=0;for(;q<U.length;){const se=U[q++];if(se<128)V[Ie++]=String.fromCharCode(se);else if(se>191&&se<224){const it=U[q++];V[Ie++]=String.fromCharCode((31&se)<<6|63&it)}else if(se>239&&se<365){const wn=((7&se)<<18|(63&U[q++])<<12|(63&U[q++])<<6|63&U[q++])-65536;V[Ie++]=String.fromCharCode(55296+(wn>>10)),V[Ie++]=String.fromCharCode(56320+(1023&wn))}else{const it=U[q++],_t=U[q++];V[Ie++]=String.fromCharCode((15&se)<<12|(63&it)<<6|63&_t)}}return V.join("")}(this.decodeStringToByteArray(U,V))},decodeStringToByteArray(U,V){this.init_();const q=V?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let se=0;se<U.length;){const it=q[U.charAt(se++)],Mt=se<U.length?q[U.charAt(se)]:0;++se;const fn=se<U.length?q[U.charAt(se)]:64;++se;const Wt=se<U.length?q[U.charAt(se)]:64;if(++se,null==it||null==Mt||null==fn||null==Wt)throw new _e;Ie.push(it<<2|Mt>>4),64!==fn&&(Ie.push(Mt<<4&240|fn>>2),64!==Wt&&Ie.push(fn<<6&192|Wt))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fe=function(U){return function(U){const V=te(U);return ae.encodeByteArray(V,!0)}(U).replace(/\./g,"")},B=function(U){try{return ae.decodeString(U,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function ee(U,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return V}for(const q in V)!V.hasOwnProperty(q)||!Ve(q)||(U[q]=ee(U[q],V[q]));return U}function Ve(U){return"__proto__"!==U}const Fe=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=U&&B(U[1]);return V&&JSON.parse(V)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},ie=()=>{var U;return null===(U=Fe())||void 0===U?void 0:U.config},ye=U=>{var V;return null===(V=Fe())||void 0===V?void 0:V[`_${U}`]};class X{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,q)=>{this.resolve=V,this.reject=q})}wrapCallback(V){return(q,Ie)=>{q?this.reject(q):this.resolve(Ie),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(q):V(q,Ie))}}}function ge(U,V){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=V||"demo-project",se=U.iat||0,it=U.sub||U.user_id;if(!it)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _t=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:se,exp:se+3600,auth_time:se,sub:it,user_id:it,firebase:{sign_in_provider:"custom",identities:{}}},U);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(_t)),""].join(".")}function Re(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function oe(){var U;const V=null===(U=Fe())||void 0===U?void 0:U.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ze(){return"object"==typeof self&&self.self===self}function Zt(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function _r(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ko(){const U=Re();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Oo(){return!oe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function le(){try{return"object"==typeof indexedDB}catch{return!1}}function pe(){return new Promise((U,V)=>{try{let q=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(Ie);se.onsuccess=()=>{se.result.close(),q||self.indexedDB.deleteDatabase(Ie),U(!0)},se.onupgradeneeded=()=>{q=!1},se.onerror=()=>{var it;V((null===(it=se.error)||void 0===it?void 0:it.message)||"")}}catch(q){V(q)}})}function be(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class xe extends Error{constructor(V,q,Ie){super(q),this.code=V,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Te.prototype.create)}}class Te{constructor(V,q,Ie){this.service=V,this.serviceName=q,this.errors=Ie}create(V,...q){const Ie=q[0]||{},se=`${this.service}/${V}`,it=this.errors[V],_t=it?function tt(U,V){return U.replace(at,(q,Ie)=>{const se=V[Ie];return null!=se?String(se):`<${Ie}?>`})}(it,Ie):"Error";return new xe(se,`${this.serviceName}: ${_t} (${se}).`,Ie)}}const at=/\{\$([^}]+)}/g;function un(U,V){return Object.prototype.hasOwnProperty.call(U,V)}function si(U){for(const V in U)if(Object.prototype.hasOwnProperty.call(U,V))return!1;return!0}function ai(U,V){if(U===V)return!0;const q=Object.keys(U),Ie=Object.keys(V);for(const se of q){if(!Ie.includes(se))return!1;const it=U[se],_t=V[se];if(ci(it)&&ci(_t)){if(!ai(it,_t))return!1}else if(it!==_t)return!1}for(const se of Ie)if(!q.includes(se))return!1;return!0}function ci(U){return null!==U&&"object"==typeof U}function Wa(U){const V=[];for(const[q,Ie]of Object.entries(U))Array.isArray(Ie)?Ie.forEach(se=>{V.push(encodeURIComponent(q)+"="+encodeURIComponent(se))}):V.push(encodeURIComponent(q)+"="+encodeURIComponent(Ie));return V.length?"&"+V.join("&"):""}function We(U){const V={};return U.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[se,it]=Ie.split("=");V[decodeURIComponent(se)]=decodeURIComponent(it)}}),V}function gt(U){const V=U.indexOf("?");if(!V)return"";const q=U.indexOf("#",V);return U.substring(V,q>0?q:void 0)}function yn(U,V){const q=new Mn(U,V);return q.subscribe.bind(q)}class Mn{constructor(V,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{V(this)}).catch(Ie=>{this.error(Ie)})}next(V){this.forEachObserver(q=>{q.next(V)})}error(V){this.forEachObserver(q=>{q.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,q,Ie){let se;if(void 0===V&&void 0===q&&void 0===Ie)throw new Error("Missing Observer.");se=function an(U,V){if("object"!=typeof U||null===U)return!1;for(const q of V)if(q in U&&"function"==typeof U[q])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:q,complete:Ie},void 0===se.next&&(se.next=vr),void 0===se.error&&(se.error=vr),void 0===se.complete&&(se.complete=vr);const it=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch{}}),this.observers.push(se),it}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,V)}sendOne(V,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{q(this.observers[V])}catch(Ie){typeof console<"u"&&console.error&&console.error(Ie)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vr(){}const oo=1e3,br=2,nr=144e5,bn=.5;function so(U,V=oo,q=br){const Ie=V*Math.pow(q,U),se=Math.round(bn*Ie*(Math.random()-.5)*2);return Math.min(nr,Ie+se)}function Yt(U){return U&&U._delegate?U._delegate:U}},8288:(dt,Ce,O)=>{var a=O(5879);let Z=null;function P(){return Z}class re{}const ae=new a.OlP("DocumentToken");let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(fe)},providedIn:"platform"}),n})();const Pe=new a.OlP("Location Initialized");let fe=(()=>{class n extends _e{constructor(){super(),this._doc=(0,a.f3M)(ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function B(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function j(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ee(n){return n&&"?"!==n[0]?"?"+n:n}let Ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Ze)},providedIn:"root"}),n})();const Ae=new a.OlP("appBaseHref");let Ze=(()=>{class n extends Ve{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return B(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ee(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,c){const u=this.prepareExternalUrl(i+ee(c));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,c){const u=this.prepareExternalUrl(i+ee(c));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(_e),a.LFG(Ae,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oe=(()=>{class n extends Ve{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=B(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,c){let u=this.prepareExternalUrl(i+ee(c));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,c){let u=this.prepareExternalUrl(i+ee(c));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(_e),a.LFG(Ae,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),qe=(()=>{class n{constructor(t){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ie(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(j(mt(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ee(r))}normalize(t){return n.stripTrailingSlash(function vt(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,mt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ee(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ee(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ee,n.joinWithSlash=B,n.stripTrailingSlash=j,n.\u0275fac=function(t){return new(t||n)(a.LFG(Ve))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Fe(){return new qe((0,a.LFG)(Ve))}()},providedIn:"root"}),n})();function mt(n){return n.replace(/\/index.html$/,"")}function ns(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(c)}return null}class Rl{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rs=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,c,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Rl(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===c?void 0:c);else if(null!==c){const p=r.get(c);r.move(p,u),_d(p,i)}});for(let i=0,c=r.length;i<c;i++){const p=r.get(i).context;p.index=i,p.count=c,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{_d(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function _d(n,e){n.context.$implicit=e.item}let hi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new qm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){pf("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){pf("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class qm{constructor(){this.$implicit=null,this.ngIf=null}}function pf(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}class Oc{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let No=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Pc=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Oc(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(No,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),kl=(()=>{class n{constructor(t,r,i){i._addDefault(new Oc(t,r))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(No,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),Js=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:c,ngTemplateOutletInjector:u}=this;this._viewRef=r.createEmbeddedView(i,c,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),n})(),rn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const ra="browser";function Ms(n){return"server"===n}let uo=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new ei((0,a.LFG)(ae),window)}),n})();class ei{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Rs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const c=i.shadowRoot;if(c){const u=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],i-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Di(this.window.history)||Di(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Di(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class hr{}class fa extends re{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class kr extends fa{static makeCurrent(){!function te(n){Z||(Z=n)}(new kr)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Fd(){return pa=pa||document.querySelector("base"),pa?pa.getAttribute("href"):null}();return null==t?null:function Si(n){Ho=Ho||document.createElement("a"),Ho.setAttribute("href",n);const e=Ho.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){pa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ns(document.cookie,e)}}let Ho,pa=null,Ld=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const ql=new a.OlP("EventManagerPlugins");let mo=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(c=>c.supports(t)),!r)throw new a.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ql),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Vd{constructor(e){this._doc=e}}const Zl="ng-app-id";let Hc=(()=>{class n{constructor(t,r,i,c={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ms(c),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Zl}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const c=i.get(t);return c.usage+=r,c.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,c=i?.get(r);if(c?.parentNode===t)return i.delete(r),c.removeAttribute(Zl),c;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=r,this.platformIsServer&&u.setAttribute(Zl,this.appId),u}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const c=this.styleRef,u=c.get(r)?.elements;u?u.push(i):c.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ae),a.LFG(a.AFp),a.LFG(a.Ojb,8),a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Wl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},os=/%COMP%/g,If=new a.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Yl(n,e){return e.map(t=>t.replace(os,n))}let Ai=(()=>{class n{constructor(t,r,i,c,u,p,_,w=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=c,this.doc=u,this.platformId=p,this.ngZone=_,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=Ms(p),this.defaultRenderer=new ma(t,u,_,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===a.ifc.ShadowDom&&(r={...r,encapsulation:a.ifc.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof Kt?i.applyToHost(t):i instanceof Se&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let c=i.get(r.id);if(!c){const u=this.doc,p=this.ngZone,_=this.eventManager,w=this.sharedStylesHost,D=this.removeStylesOnCompDestory,M=this.platformIsServer;switch(r.encapsulation){case a.ifc.Emulated:c=new Kt(_,w,r,this.appId,D,u,p,M);break;case a.ifc.ShadowDom:return new Tf(_,w,t,r,u,p,this.nonce,M);default:c=new Se(_,w,r,D,u,p,M)}c.onDestroy=()=>i.delete(r.id),i.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(mo),a.LFG(Hc),a.LFG(a.AFp),a.LFG(If),a.LFG(ae),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(a.Ojb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class ma{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Wl[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Xl(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Xl(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new a.vHH(5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const c=Wl[i];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Wl[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,r,i&a.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=P().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Xl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Tf extends ma{constructor(e,t,r,i,c,u,p,_){super(e,c,u,_),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const w=Yl(i.id,i.styles);for(const D of w){const M=document.createElement("style");p&&M.setAttribute("nonce",p),M.textContent=D,this.shadowRoot.appendChild(M)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Se extends ma{constructor(e,t,r,i,c,u,p,_){super(e,c,u,p),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=_?Yl(_,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Kt extends Se{constructor(e,t,r,i,c,u,p,_){const w=i+"-"+r.id;super(e,t,r,c,u,p,_,w),this.contentAttr=function Ud(n){return"_ngcontent-%COMP%".replace(os,n)}(w),this.hostAttr=function Df(n){return"_nghost-%COMP%".replace(os,n)}(w)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Sf=(()=>{class n extends Vd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ae))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const as=["alt","control","meta","shift"],Or={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cs={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let jc=(()=>{class n extends Vd{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const c=n.parseEventName(r),u=n.eventCallback(c.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,c.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const c=n._normalizeKey(r.pop());let u="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),u="code."),as.forEach(w=>{const D=r.indexOf(w);D>-1&&(r.splice(D,1),u+=w+".")}),u+=c,0!=r.length||0===c.length)return null;const _={};return _.domEventName=i,_.fullKey=u,_}static matchEventFullKeyCode(t,r){let i=Or[t.key]||t.key,c="";return r.indexOf("code.")>-1&&(i=t.code,c="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),as.forEach(u=>{u!==i&&(0,cs[u])(t)&&(c+=u+".")}),c+=i,c===r)}static eventCallback(t,r,i){return c=>{n.matchEventFullKeyCode(c,t)&&i.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ae))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const $c=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:ra},{provide:a.g9A,useValue:function Qm(){kr.makeCurrent()},multi:!0},{provide:ae,useFactory:function Hr(){return(0,a.RDi)(document),document},deps:[]}]),kn=new a.OlP(""),zi=[{provide:a.rWj,useClass:class Ym{addToWindow(e){a.dqk.getAngularTestability=(r,i=!0)=>{const c=e.findTestabilityInTree(r,i);if(null==c)throw new a.vHH(5103,!1);return c},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(r=>{const i=a.dqk.getAllAngularTestabilities();let c=i.length,u=!1;const p=function(_){u=u||_,c--,0==c&&r(u)};i.forEach(function(_){_.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Pr=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function zc(){return new a.qLn},deps:[]},{provide:ql,useClass:Sf,multi:!0,deps:[ae,a.R0b,a.Lbi]},{provide:ql,useClass:jc,multi:!0,deps:[ae]},Ai,Hc,mo,{provide:a.FYo,useExisting:Ai},{provide:hr,useClass:Ld,deps:[]},[]];let ga=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(kn,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...Pr,...zi],imports:[rn,a.hGG]}),n})(),hc=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ae))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function eu(){return new hc((0,a.LFG)(ae))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let ya=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):a.LFG(mc),r},providedIn:"root"}),n})(),mc=(()=>{class n extends ya{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case a.q3G.NONE:return r;case a.q3G.HTML:return(0,a.qzn)(r,"HTML")?(0,a.z3N)(r):(0,a.EiD)(this._doc,String(r)).toString();case a.q3G.STYLE:return(0,a.qzn)(r,"Style")?(0,a.z3N)(r):r;case a.q3G.SCRIPT:if((0,a.qzn)(r,"Script"))return(0,a.z3N)(r);throw new a.vHH(5200,!1);case a.q3G.URL:return(0,a.qzn)(r,"URL")?(0,a.z3N)(r):(0,a.mCW)(String(r));case a.q3G.RESOURCE_URL:if((0,a.qzn)(r,"ResourceURL"))return(0,a.z3N)(r);throw new a.vHH(5201,!1);default:throw new a.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,a.JVY)(t)}bypassSecurityTrustStyle(t){return(0,a.L6k)(t)}bypassSecurityTrustScript(t){return(0,a.eBb)(t)}bypassSecurityTrustUrl(t){return(0,a.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,a.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ae))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Rf(n){return new mc(n.get(ae))}(a.LFG(a.zs3)),r},providedIn:"root"}),n})();function In(n){return null!=n&&"false"!=`${n}`}function _o(n,e=0){return function kf(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function $i(n){return Array.isArray(n)?n:[n]}function yo(n){return n instanceof a.SBq?n.nativeElement:n}var Jt=O(8645),ct=O(2096),Cr=O(5592),us=O(4829),Ir=O(1631),ba=O(4266),ir=O(4674),rt=O(7398);const{isArray:Gd}=Array;function ds(n){return(0,rt.U)(e=>function _c(n,e){return Gd(e)?n(...e):n(e)}(n,e))}const Fs=["addListener","removeListener"],qd=["addEventListener","removeEventListener"],Gi=["on","off"];function hs(n,e,t,r){if((0,ir.m)(t)&&(r=t,t=void 0),r)return hs(n,e,t).pipe(ds(r));const[i,c]=function au(n){return(0,ir.m)(n.addEventListener)&&(0,ir.m)(n.removeEventListener)}(n)?qd.map(u=>p=>n[u](e,p,t)):function vo(n){return(0,ir.m)(n.addListener)&&(0,ir.m)(n.removeListener)}(n)?Fs.map(ou(n,e)):function su(n){return(0,ir.m)(n.on)&&(0,ir.m)(n.off)}(n)?Gi.map(ou(n,e)):[];if(!i&&(0,ba.z)(n))return(0,Ir.z)(u=>hs(u,e,t))((0,us.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Cr.y(u=>{const p=(..._)=>u.next(1<_.length?_:_[0]);return i(p),()=>c(p)})}function ou(n,e){return t=>r=>n[t](e,r)}var wa=O(1954),qi=O(7394);const jo={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=jo;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(c=>{t=void 0,n(c)});return new qi.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=jo;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=jo;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Pf=O(2631);new class Wc extends Pf.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Ea extends wa.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=jo.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:c}=e;null!=t&&(null===(i=c[c.length-1])||void 0===i?void 0:i.id)!==t&&(jo.cancelAnimationFrame(t),e._scheduled=void 0)}});let Wd,lu=1;const zo={};function fs(n){return n in zo&&(delete zo[n],!0)}const uu={setImmediate(n){const e=lu++;return zo[e]=!0,Wd||(Wd=Promise.resolve()),Wd.then(()=>fs(e)&&n()),e},clearImmediate(n){fs(n)}},{setImmediate:Yd,clearImmediate:ps}=uu,Kc={setImmediate(...n){const{delegate:e}=Kc;return(e?.setImmediate||Yd)(...n)},clearImmediate(n){const{delegate:e}=Kc;return(e?.clearImmediate||ps)(n)},delegate:void 0};new class yc extends Pf.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Qd extends wa.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Kc.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:c}=e;null!=t&&(null===(i=c[c.length-1])||void 0===i?void 0:i.id)!==t&&(Kc.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var ms=O(6321),Qn=O(9360),On=O(8251),Yc=O(671);function du(n,e=ms.z){return function $o(n){return(0,Qn.e)((e,t)=>{let r=!1,i=null,c=null,u=!1;const p=()=>{if(c?.unsubscribe(),c=null,r){r=!1;const w=i;i=null,t.next(w)}u&&t.complete()},_=()=>{c=null,u&&t.complete()};e.subscribe((0,On.x)(t,w=>{r=!0,i=w,c||(0,us.Xf)(n(w)).subscribe(c=(0,On.x)(t,p,_))},()=>{u=!0,(!r||!c||c.closed)&&t.complete()}))})}(()=>function bo(n=0,e,t=ms.P){let r=-1;return null!=e&&((0,Yc.K)(e)?t=e:r=e),new Cr.y(i=>{let c=function xa(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;c<0&&(c=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},c)})}(n,e))}function pn(n,e){return(0,Qn.e)((t,r)=>{let i=0;t.subscribe((0,On.x)(r,c=>n.call(e,c,i++)&&r.next(c)))})}var hu=O(2420);function or(n){return(0,Qn.e)((e,t)=>{(0,us.Xf)(n).subscribe((0,On.x)(t,()=>t.complete(),hu.Z)),!t.closed&&e.subscribe(t)})}let Qc;try{Qc=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Qc=!1}let Zi,Go,gi,fu,wo=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Fc(n){return n===ra}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Qc)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vc(n){return function Xn(){if(null==Zi&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Zi=!0}))}finally{Zi=Zi||!1}return Zi}()?n:!!n.capture}function zr(){if("object"!=typeof document||!document)return 0;if(null==Go){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),Go=0,0===n.scrollLeft&&(n.scrollLeft=1,Go=0===n.scrollLeft?1:2),n.remove()}return Go}function bc(n){return n.composedPath?n.composedPath()[0]:n.target}const x=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function I(){return(0,a.f3M)(ae)}}),A=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let z=(()=>{class n{constructor(t){this.value="ltr",this.change=new a.vpe,t&&(this.value=function N(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?A.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(x,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),de=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),gs=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Jt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Cr.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(du(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ct.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(pn(c=>!c||i.indexOf(c)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,c)=>{this._scrollableContainsElement(c,t)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=yo(r),c=t.getElementRef().nativeElement;do{if(i==c)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>hs(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(wo),a.LFG(ae,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eo=(()=>{class n{constructor(t,r,i,c){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=c,this._destroyed=new Jt.x,this._elementScrolled=new Cr.y(u=>this.ngZone.runOutsideAngular(()=>hs(this.elementRef.nativeElement,"scroll").pipe(or(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=zr()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==zr()?t.left=t.right:1==zr()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;!function jr(){if(null==gi){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return gi=!1,gi;if("scrollBehavior"in document.documentElement.style)gi=!0;else{const n=Element.prototype.scrollTo;gi=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return gi}()?(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left)):r.scrollTo(t)}measureScrollOffset(t){const r="left",i="right",c=this.elementRef.nativeElement;if("top"==t)return c.scrollTop;if("bottom"==t)return c.scrollHeight-c.clientHeight-c.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?i:r:"end"==t&&(t=u?r:i),u&&2==zr()?t==r?c.scrollWidth-c.clientWidth-c.scrollLeft:c.scrollLeft:u&&1==zr()?t==r?c.scrollLeft+c.scrollWidth-c.clientWidth:-c.scrollLeft:t==r?c.scrollLeft:c.scrollWidth-c.clientWidth-c.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(gs),a.Y36(a.R0b),a.Y36(z,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),ri=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Jt.x,this._changeListener=c=>{this._change.next(c)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,c=i.getBoundingClientRect();return{top:-c.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-c.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(du(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(wo),a.LFG(a.R0b),a.LFG(ae,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var Wi=O(5619);function Ec(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var $r=O(9397);function rv(n,e=ms.z){return(0,Qn.e)((t,r)=>{let i=null,c=null,u=null;const p=()=>{if(i){i.unsubscribe(),i=null;const w=c;c=null,r.next(w)}};function _(){const w=u+n,D=e.now();if(D<w)return i=this.schedule(void 0,w-D),void r.add(i);p()}t.subscribe((0,On.x)(r,w=>{c=w,u=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{p(),r.complete()},void 0,()=>{c=i=null}))})}var tl=O(6232);function bs(n){return n<=0?()=>tl.E:(0,Qn.e)((e,t)=>{let r=0;e.subscribe((0,On.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function _g(n){return pn((e,t)=>n<=t)}var Xf=O(3997);const{isArray:Jf}=Array,{getPrototypeOf:yg,prototype:iv,keys:bE}=Object;function ov(n){if(1===n.length){const e=n[0];if(Jf(e))return{args:e,keys:null};if(function wE(n){return n&&"object"==typeof n&&yg(n)===iv}(e)){const t=bE(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Dn=O(2459),vg=O(2737),ep=O(9940);function EE(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var vS=O(7103);function bg(...n){const e=(0,ep.yG)(n),t=(0,ep.jO)(n),{args:r,keys:i}=ov(n);if(0===r.length)return(0,Dn.D)([],e);const c=new Cr.y(function xc(n,e,t=vg.y){return r=>{Eu(e,()=>{const{length:i}=n,c=new Array(i);let u=i,p=i;for(let _=0;_<i;_++)Eu(e,()=>{const w=(0,Dn.D)(n[_],e);let D=!1;w.subscribe((0,On.x)(r,M=>{c[_]=M,D||(D=!0,p--),p||r.next(t(c.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>EE(i,u):vg.y));return t?c.pipe(ds(t)):c}function Eu(n,e,t){n?(0,vS.f)(t,n,e):e()}var tp=O(7537);function wg(...n){return function bS(){return(0,tp.J)(1)}()((0,Dn.D)(n,(0,ep.yG)(n)))}function qo(...n){const e=(0,ep.yG)(n);return(0,Qn.e)((t,r)=>{(e?wg(n,t,e):wg(n,t)).subscribe(r)})}const xE=new Set;let nl,wS=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):xS}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function ES(n,e){if(!xE.has(n))try{nl||(nl=document.createElement("style"),e&&(nl.nonce=e),nl.setAttribute("type","text/css"),document.head.appendChild(nl)),nl.sheet&&(nl.sheet.insertRule(`@media ${n} {body{ }}`,0),xE.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(wo),a.LFG(a.Ojb,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xS(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let CS=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Jt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return np($i(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let c=bg(np($i(t)).map(u=>this._registerQuery(u).observable));return c=wg(c.pipe(bs(1)),c.pipe(_g(1),rv(0))),c.pipe((0,rt.U)(u=>{const p={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:w})=>{p.matches=p.matches||_,p.breakpoints[w]=_}),p}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),c={observable:new Cr.y(u=>{const p=_=>this._zone.run(()=>u.next(_));return r.addListener(p),()=>{r.removeListener(p)}}).pipe(qo(r),(0,rt.U)(({matches:u})=>({query:t,matches:u})),or(this._destroySubject)),mql:r};return this._queries.set(t,c),c}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(wS),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function np(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class IE{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Jt.x,this._typeaheadSubscription=qi.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Jt.x,this.change=new Jt.x,e instanceof a.n_E&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,$r.b)(t=>this._pressedLetters.push(t)),rv(e),pn(()=>this._pressedLetters.length>0),(0,rt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const c=(this._activeItemIndex+i)%r.length,u=r[c];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(c);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(c=>!e[c]||this._allowedModifierKeys.indexOf(c)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const c=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(c>0?c:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const c=this._activeItemIndex+this._pageUpAndDown.delta,u=this._getItemsArray().length;this._setActiveItemByIndex(c<u?c:u-1,-1);break}return;default:return void((i||Ec(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e);this._activeItem=t[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}class DE extends IE{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let TE=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Eg(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function SE(n){try{return n.frameElement}catch{return null}}(function MS(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===xg(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),c=xg(t);return t.hasAttribute("contenteditable")?-1!==c:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function RE(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==c:"video"===i?-1!==c&&(null!==c||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function AS(n){return!function cv(n){return function Dr(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function AE(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function TS(n){return function SS(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||ME(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(wo))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ME(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function xg(n){if(!ME(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class RS{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,i,c=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(bs(1)).subscribe(e)}}let kS=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new RS(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(TE),a.LFG(a.R0b),a.LFG(ae))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lv(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function uv(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const kE=new a.OlP("cdk-input-modality-detector-options"),dv={ignoreKeys:[18,17,224,91,16]},xu=vc({passive:!0,capture:!0});let PE=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,c){this._platform=t,this._mostRecentTarget=null,this._modality=new Wi.X(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(p=>p===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=bc(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(lv(u)?"keyboard":"mouse"),this._mostRecentTarget=bc(u))},this._onTouchstart=u=>{uv(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=bc(u))},this._options={...dv,...c},this.modalityDetected=this._modality.pipe(_g(1)),this.modalityChanged=this.modalityDetected.pipe((0,Xf.x)()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,xu),i.addEventListener("mousedown",this._onMousedown,xu),i.addEventListener("touchstart",this._onTouchstart,xu)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,xu),document.removeEventListener("mousedown",this._onMousedown,xu),document.removeEventListener("touchstart",this._onTouchstart,xu))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(wo),a.LFG(a.R0b),a.LFG(ae),a.LFG(kE,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VE=new a.OlP("cdk-focus-monitor-default-options"),Sa=vc({passive:!0,capture:!0});let rp=(()=>{class n{constructor(t,r,i,c,u){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Jt.x,this._rootNodeFocusAndBlurListener=p=>{for(let w=bc(p);w;w=w.parentElement)"focus"===p.type?this._onFocus(p,w):this._onBlur(p,w)},this._document=c,this._detectionMode=u?.detectionMode||0}monitor(t,r=!1){const i=yo(t);if(!this._platform.isBrowser||1!==i.nodeType)return(0,ct.of)();const c=function Ia(n){if(function pu(){if(null==fu){const n=typeof document<"u"?document.head:null;fu=!(!n||!n.createShadowRoot&&!n.attachShadow)}return fu}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),u=this._elementInfo.get(i);if(u)return r&&(u.checkChildren=!0),u.subject;const p={checkChildren:r,subject:new Jt.x,rootNode:c};return this._elementInfo.set(i,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(t){const r=yo(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const c=yo(t);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([p,_])=>this._originChanged(p,r,_)):(this._setOrigin(r),"function"==typeof c.focus&&c.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),c=bc(t);!i||!i.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Sa),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Sa)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(or(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Sa),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Sa),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,c)=>{(c===t||i.checkChildren&&c.contains(t))&&r.push([c,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const c=t.labels;if(c)for(let u=0;u<c.length;u++)if(c[u].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(wo),a.LFG(PE),a.LFG(ae,8),a.LFG(VE,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ip="cdk-high-contrast-black-on-white",UE="cdk-high-contrast-white-on-black",op="cdk-high-contrast-active";let Dg=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,a.f3M)(CS).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,c=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(op,ip,UE),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(op,ip):2===r&&t.add(op,UE)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(wo),a.LFG(ae))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hv=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function jE(){return!0}});let fr=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function ng(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Dg),a.LFG(hv,8),a.LFG(ae))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[de,de]}),n})();function eN(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=In(e)}constructor(...e){super(...e),this._disabled=!1}}}function zE(n,e){return class extends n{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function ap(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=In(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function $E(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?_o(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}let cp=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fr,fr]}),n})();class YE{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const QE=vc({passive:!0,capture:!0});class BS{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=bc(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(c=>c.handleEvent(e))})}}addHandler(e,t,r,i){const c=this._events.get(t);if(c){const u=c.get(r);u?u.add(i):c.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,QE)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const c=i.get(t);c&&(c.delete(r),0===c.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,QE)))}}const US={enterDuration:225,exitDuration:150},kg=vc({passive:!0,capture:!0}),Og=["mousedown","touchstart"],XE=["mouseup","mouseleave","touchend","touchcancel"];class Cu{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=yo(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c={...US,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const u=r.radius||function _v(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),p=e-i.left,_=t-i.top,w=c.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=p-u+"px",D.style.top=_-u+"px",D.style.height=2*u+"px",D.style.width=2*u+"px",null!=r.color&&(D.style.backgroundColor=r.color),D.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(D);const M=window.getComputedStyle(D),$=M.transitionDuration,W="none"===M.transitionProperty||"0s"===$||"0s, 0s"===$||0===i.width&&0===i.height,J=new YE(this,D,r,W);D.style.transform="scale3d(1, 1, 1)",J.state=0,r.persistent||(this._mostRecentTransientRipple=J);let he=null;return!W&&(w||c.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const He=()=>this._finishRippleTransition(J),et=()=>this._destroyRipple(J);D.addEventListener("transitionend",He),D.addEventListener("transitioncancel",et),he={onTransitionEnd:He,onTransitionCancel:et}}),this._activeRipples.set(J,he),(W||!w)&&this._finishRippleTransition(J),J}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...US,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=yo(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Og.forEach(r=>{Cu._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{XE.forEach(t=>{this._triggerElement.addEventListener(t,this,kg)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=lv(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!uv(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(Og.forEach(t=>Cu._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&XE.forEach(t=>e.removeEventListener(t,this,kg)))}}Cu._eventManager=new BS;const up=new a.OlP("mat-ripple-global-options");let yv=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,c,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new Cu(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(wo),a.Y36(up,8),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&a.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Pg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fr,fr]}),n})();var hp=O(3019);function Iu(n){return(0,rt.U)(()=>n)}class vv{}class lN{}const Us="*";function Hs(n,e){return{type:7,name:n,definitions:e,options:{}}}function Aa(n,e=null){return{type:4,styles:e,timings:n}}function bv(n,e=null){return{type:3,steps:n,options:e}}function wv(n,e=null){return{type:2,steps:n,options:e}}function ki(n){return{type:6,styles:n,offset:null}}function Zo(n,e,t){return{type:0,name:n,styles:e,options:t}}function Du(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function JE(n=null){return{type:9,options:n}}function Tu(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}class ph{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class ZS{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const c=this.players.length;0==c?queueMicrotask(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==c&&this._onFinish()}),u.onDestroy(()=>{++r==c&&this._onDestroy()}),u.onStart(()=>{++i==c&&this._onStart()})}),this.totalTime=this.players.reduce((u,p)=>Math.max(u,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const xv=["*"],hN=["content"];function ex(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",2),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i._onBackdropClicked())}),a.qZA()}if(2&n){const t=a.oxw();a.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function tx(n,e){1&n&&(a.TgZ(0,"mat-drawer-content"),a.Hsn(1,2),a.qZA())}const fN=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],nx=["mat-drawer","mat-drawer-content","*"];function Lg(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",2),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i._onBackdropClicked())}),a.qZA()}if(2&n){const t=a.oxw();a.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function rx(n,e){1&n&&(a.TgZ(0,"mat-sidenav-content"),a.Hsn(1,2),a.qZA())}const ix=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],ox=["mat-sidenav","mat-sidenav-content","*"],Cv={transformDrawer:Hs("transform",[Zo("open, open-instant",ki({transform:"none",visibility:"visible"})),Zo("void",ki({"box-shadow":"none",visibility:"hidden"})),Du("void => open-instant",Aa("0ms")),Du("void <=> open, open-instant => void",Aa("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},pN=new a.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function sx(){return!1}}),Iv=new a.OlP("MAT_DRAWER_CONTAINER");let Vg=(()=>{class n extends Eo{constructor(t,r,i,c,u){super(i,c,u),this._changeDetectorRef=t,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36((0,a.Gpc)(()=>Dv)),a.Y36(a.SBq),a.Y36(gs),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,r){2&t&&a.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[a._Bn([{provide:Eo,useExisting:n}]),a.qOj],ngContentSelectors:xv,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),ax=(()=>{class n{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=In(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=In(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(In(t))}constructor(t,r,i,c,u,p,_,w){this._elementRef=t,this._focusTrapFactory=r,this._focusMonitor=i,this._platform=c,this._ngZone=u,this._interactivityChecker=p,this._doc=_,this._container=w,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Jt.x,this._animationEnd=new Jt.x,this._animationState="void",this.openedChange=new a.vpe(!0),this._openedStream=this.openedChange.pipe(pn(D=>D),(0,rt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(pn(D=>D.fromState!==D.toState&&0===D.toState.indexOf("open")),Iu(void 0)),this._closedStream=this.openedChange.pipe(pn(D=>!D),(0,rt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(pn(D=>D.fromState!==D.toState&&"void"===D.toState),Iu(void 0)),this._destroyed=new Jt.x,this.onPositionChanged=new a.vpe,this._modeChanged=new Jt.x,this.openedChange.subscribe(D=>{D?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{hs(this._elementRef.nativeElement,"keydown").pipe(pn(D=>27===D.keyCode&&!this.disableClose&&!Ec(D)),or(this._destroyed)).subscribe(D=>this._ngZone.run(()=>{this.close(),D.stopPropagation(),D.preventDefault()}))}),this._animationEnd.pipe((0,Xf.x)((D,M)=>D.fromState===M.fromState&&D.toState===M.toState)).subscribe(D=>{const{fromState:M,toState:L}=D;(0===L.indexOf("open")&&"void"===M||"void"===L&&0===M.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{!r&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,r){t&&r&&(this._openedVia=r);const i=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),i}_setOpen(t,r,i){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(i)),this._updateFocusTrapState(),new Promise(c=>{this.openedChange.pipe(bs(1)).subscribe(u=>c(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const r=this._elementRef.nativeElement,i=r.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),i.insertBefore(this._anchor,r)),i.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(kS),a.Y36(rp),a.Y36(wo),a.Y36(a.R0b),a.Y36(TE),a.Y36(ae,8),a.Y36(Iv,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,r){if(1&t&&a.Gf(hN,5),2&t){let i;a.iGM(i=a.CRH())&&(r._content=i.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(t,r){1&t&&a.WFA("@transform.start",function(c){return r._animationStarted.next(c)})("@transform.done",function(c){return r._animationEnd.next(c)}),2&t&&(a.uIk("align",null),a.d8E("@transform",r._animationState),a.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:xv,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,r){1&t&&(a.F$t(),a.TgZ(0,"div",0,1),a.Hsn(2),a.qZA())},dependencies:[Eo],encapsulation:2,data:{animation:[Cv.transformDrawer]},changeDetection:0}),n})(),Dv=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=In(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:In(t)}get scrollable(){return this._userContent||this._content}constructor(t,r,i,c,u,p=!1,_){this._dir=t,this._element=r,this._ngZone=i,this._changeDetectorRef=c,this._animationMode=_,this._drawers=new a.n_E,this.backdropClick=new a.vpe,this._destroyed=new Jt.x,this._doCheckSubject=new Jt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Jt.x,t&&t.change.pipe(or(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(or(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=p}ngAfterContentInit(){this._allDrawers.changes.pipe(qo(this._allDrawers),or(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(qo(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(rv(10),or(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,r=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const i=this._left._getWidth();t+=i,r-=i}if(this._right&&this._right.opened)if("side"==this._right.mode)r+=this._right._getWidth();else if("push"==this._right.mode){const i=this._right._getWidth();r+=i,t-=i}t=t||null,r=r||null,(t!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:t,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(pn(r=>r.fromState!==r.toState),or(this._drawers.changes)).subscribe(r=>{"open-instant"!==r.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(or(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(or(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(bs(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(or((0,hp.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const r=this._element.nativeElement.classList,i="mat-drawer-container-has-open";t?r.add(i):r.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(z,8),a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(ri),a.Y36(pN),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,r,i){if(1&t&&(a.Suo(i,Vg,5),a.Suo(i,ax,5)),2&t){let c;a.iGM(c=a.CRH())&&(r._content=c.first),a.iGM(c=a.CRH())&&(r._allDrawers=c)}},viewQuery:function(t,r){if(1&t&&a.Gf(Vg,5),2&t){let i;a.iGM(i=a.CRH())&&(r._userContent=i.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,r){2&t&&a.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[a._Bn([{provide:Iv,useExisting:n}])],ngContentSelectors:nx,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,r){1&t&&(a.F$t(fN),a.YNc(0,ex,1,2,"div",0),a.Hsn(1),a.Hsn(2,1),a.YNc(3,tx,2,0,"mat-drawer-content",1)),2&t&&(a.Q6J("ngIf",r.hasBackdrop),a.xp6(3),a.Q6J("ngIf",!r._content))},dependencies:[hi,Vg],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),cx=(()=>{class n extends Vg{constructor(t,r,i,c,u){super(t,r,i,c,u)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36((0,a.Gpc)(()=>lx)),a.Y36(a.SBq),a.Y36(gs),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,r){2&t&&a.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[a._Bn([{provide:Eo,useExisting:n}]),a.qOj],ngContentSelectors:xv,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),Tv=(()=>{class n extends ax{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=In(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=_o(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=_o(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,r){2&t&&(a.uIk("align",null),a.Udp("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),a.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[a.qOj],ngContentSelectors:xv,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,r){1&t&&(a.F$t(),a.TgZ(0,"div",0,1),a.Hsn(2),a.qZA())},dependencies:[Eo],encapsulation:2,data:{animation:[Cv.transformDrawer]},changeDetection:0}),n})(),lx=(()=>{class n extends Dv{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,r,i){if(1&t&&(a.Suo(i,cx,5),a.Suo(i,Tv,5)),2&t){let c;a.iGM(c=a.CRH())&&(r._content=c.first),a.iGM(c=a.CRH())&&(r._allDrawers=c)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,r){2&t&&a.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[a._Bn([{provide:Iv,useExisting:n}]),a.qOj],ngContentSelectors:ox,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,r){1&t&&(a.F$t(ix),a.YNc(0,Lg,1,2,"div",0),a.Hsn(1),a.Hsn(2,1),a.YNc(3,rx,2,0,"mat-sidenav-content",1)),2&t&&(a.Q6J("ngIf",r.hasBackdrop),a.xp6(3),a.Q6J("ngIf",!r._content))},dependencies:[hi,cx],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),KS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rn,fr,Vf,Vf,fr]}),n})();const mN=["mat-button",""],ux=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],dx=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Av={capture:!0},Ug=["focus","click","mouseenter","touchstart"],Au="mat-button-ripple-uninitialized";let Mv=(()=>{class n{constructor(){this._document=(0,a.f3M)(ae,{optional:!0}),this._animationMode=(0,a.f3M)(a.QbO,{optional:!0}),this._globalRippleOptions=(0,a.f3M)(up,{optional:!0}),this._platform=(0,a.f3M)(wo),this._ngZone=(0,a.f3M)(a.R0b),this._onInteraction=t=>{if(t.target===this._document)return;const i=t.target.closest(`[${Au}]`);i&&(i.removeAttribute(Au),this._appendRipple(i))},this._ngZone.runOutsideAngular(()=>{for(const t of Ug)this._document?.addEventListener(t,this._onInteraction,Av)})}ngOnDestroy(){for(const t of Ug)this._document?.removeEventListener(t,this._onInteraction,Av)}_appendRipple(t){if(!this._document)return;const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const i=new fx(t,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);i.rippleConfig.centered=t.hasAttribute("mat-icon-button"),new Cu(i,this._ngZone,r,this._platform).setupTriggerEvents(t),t.append(r)}_createMatRipple(t){if(!this._document)return;t.querySelector(".mat-mdc-button-ripple")?.remove(),t.removeAttribute(Au);const r=this._document.createElement("span");r.classList.add("mat-mdc-button-ripple");const i=new yv(new a.SBq(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return i._isInitialized=!0,i.trigger=t,t.append(r),i}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class fx{constructor(e,t,r){this._button=e,this._globalRippleOptions=t,this._setRippleConfig(t,r)}_setRippleConfig(e,t){this.rippleConfig=e||{},"NoopAnimations"===t&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const QS=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],XS=zE(eN(ap(class{constructor(n){this._elementRef=n}})));let mx=(()=>{class n extends XS{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(t){this._ripple=t}constructor(t,r,i,c){super(t),this._platform=r,this._ngZone=i,this._animationMode=c,this._focusMonitor=(0,a.f3M)(rp),this._rippleLoader=(0,a.f3M)(Mv),this._isFab=!1;const u=t.nativeElement.classList;for(const p of QS)this._hasHostAttributes(p.selector)&&p.mdcClasses.forEach(_=>{u.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...t){return t.some(r=>this._elementRef.nativeElement.hasAttribute(r))}}return n.\u0275fac=function(t){a.$Z()},n.\u0275dir=a.lG2({type:n,features:[a.qOj,a.TTD]}),n})(),gx=(()=>{class n extends mx{constructor(t,r,i,c){super(t,r,i,c)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(wo),a.Y36(a.R0b),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(t,r){2&t&&(a.uIk("disabled",r.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:mN,ngContentSelectors:dx,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(t,r){1&t&&(a.F$t(ux),a._UZ(0,"span",0),a.Hsn(1),a.TgZ(2,"span",1),a.Hsn(3,1),a.qZA(),a.Hsn(4,2),a._UZ(5,"span",2)(6,"span",3)),2&t&&a.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),mp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fr,Pg,fr]}),n})(),Rv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rn,KS,mp]}),n})(),kv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rn,Rv]}),n})();const iA=["*"],cA=new a.OlP("MAT_CARD_CONFIG");let yx=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(cA,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,r){2&t&&a.ekj("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:iA,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),Hg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),Pv=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(t,r){2&t&&a.ekj("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),Nv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]}),n})(),jg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fr,rn,fr]}),n})(),mh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rn,mp,jg]}),n})(),Ra=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rn,mh]}),n})();const gh=(0,O(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function wx(n){return new Cr.y(e=>{(0,us.Xf)(n()).subscribe(e)})}var _A=O(8407);function _h(n,e){const t=(0,ir.m)(n)?n:()=>n,r=i=>i.error(t());return new Cr.y(e?i=>e.schedule(r,0,i):r)}function Ex(){return(0,Qn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,On.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,c=t;t=null,i&&(!c||i===c)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Lv extends Cr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Qn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new qi.w0;const t=this.getSubject();e.add(this.source.subscribe((0,On.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=qi.w0.EMPTY)}return e}refCount(){return Ex()(this)}}var Gr=O(4664);function Mu(n){return(0,Qn.e)((e,t)=>{let r=!1;e.subscribe((0,On.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function yh(n=zg){return(0,Qn.e)((e,t)=>{let r=!1;e.subscribe((0,On.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function zg(){return new gh}function Ru(n,e){const t=arguments.length>=2;return r=>r.pipe(n?pn((i,c)=>n(i,c,r)):vg.y,bs(1),t?Mu(e):yh(()=>new gh))}function vh(n,e){return(0,ir.m)(e)?(0,Ir.z)(n,e,1):(0,Ir.z)(n,1)}function Cc(n){return(0,Qn.e)((e,t)=>{let c,r=null,i=!1;r=e.subscribe((0,On.x)(t,void 0,void 0,u=>{c=(0,us.Xf)(n(u,Cc(n)(e))),r?(r.unsubscribe(),r=null,c.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,c.subscribe(t))})}function $g(n,e){return(0,Qn.e)(function xx(n,e,t,r,i){return(c,u)=>{let p=t,_=e,w=0;c.subscribe((0,On.x)(u,D=>{const M=w++;_=p?n(_,D,M):(p=!0,D),r&&u.next(_)},i&&(()=>{p&&u.next(_),u.complete()})))}}(n,e,arguments.length>=2,!0))}function Vv(n){return n<=0?()=>tl.E:(0,Qn.e)((e,t)=>{let r=[];e.subscribe((0,On.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ku(n){return(0,Qn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ut="primary",gp=Symbol("RouteTitle");class Ix{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ou(n){return new Ix(n)}function yA(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let c=0;c<r.length;c++){const u=r[c],p=n[c];if(u.startsWith(":"))i[u.substring(1)]=p;else if(u!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Co(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let c=0;c<t.length;c++)if(i=t[c],!Dx(n[i],e[i]))return!1;return!0}function Dx(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,c)=>r[c]===i)}return n===e}function bA(n){return n.length>0?n[n.length-1]:null}function ol(n){return function mA(n){return!!n&&(n instanceof Cr.y||(0,ir.m)(n.lift)&&(0,ir.m)(n.subscribe))}(n)?n:(0,a.QGY)(n)?(0,Dn.D)(Promise.resolve(n)):(0,ct.of)(n)}const wA={exact:function Ax(n,e,t){if(!Pu(n.segments,e.segments)||!qg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Ax(n.children[r],e.children[r],t))return!1;return!0},subset:Bv},Tx={exact:function EA(n,e){return Co(n,e)},subset:function xA(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Dx(n[t],e[t]))},ignored:()=>!0};function Sx(n,e,t){return wA[t.paths](n.root,e.root,t.matrixParams)&&Tx[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Bv(n,e,t){return Gg(n,e,e.segments,t)}function Gg(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Pu(i,t)||e.hasChildren()||!qg(i,t,r))}if(n.segments.length===t.length){if(!Pu(n.segments,t)||!qg(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Bv(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(Pu(n.segments,i)&&qg(n.segments,i,r)&&n.children[Ut])&&Gg(n.children[Ut],e,c,r)}}function qg(n,e,t){return e.every((r,i)=>Tx[t](n[i].parameters,r.parameters))}class Ic{constructor(e=new Tn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ou(this.queryParams)),this._queryParamMap}toString(){return Mx.serialize(this)}}class Tn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vp(this)}}class _p{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ou(this.parameters)),this._parameterMap}toString(){return Px(this)}}function Pu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let yp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new Uv},providedIn:"root"}),n})();class Uv{parse(e){const t=new wh(e);return new Ic(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${bp(e.root,!0)}`,r=function TA(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${wp(t)}=${wp(i)}`).join("&"):`${wp(t)}=${wp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Rx(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Mx=new Uv;function vp(n){return n.segments.map(e=>Px(e)).join("/")}function bp(n,e){if(!n.hasChildren())return vp(n);if(e){const t=n.children[Ut]?bp(n.children[Ut],!1):"",r=[];return Object.entries(n.children).forEach(([i,c])=>{i!==Ut&&r.push(`${i}:${bp(c,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function IA(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ut&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ut&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Ut?[bp(n.children[Ut],!1)]:[`${i}:${bp(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ut]?`${vp(n)}/${t[0]}`:`${vp(n)}/(${t.join("//")})`}}function DA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wp(n){return DA(n).replace(/%3B/gi,";")}function kx(n){return DA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nu(n){return decodeURIComponent(n)}function Ox(n){return Nu(n.replace(/\+/g,"%20"))}function Px(n){return`${kx(n.path)}${function Hv(n){return Object.keys(n).map(e=>`;${kx(e)}=${kx(n[e])}`).join("")}(n.parameters)}`}const ka=/^[^\/()?;#]+/;function Fu(n){const e=n.match(ka);return e?e[0]:""}const Oi=/^[^\/()?;=#]+/,Zg=/^[^=?&#]+/,jv=/^[^&#]+/;class wh{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tn([],{}):new Tn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ut]=new Tn(e,t)),r}parseSegment(){const e=Fu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(e),new _p(Nu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Lu(n){const e=n.match(Oi);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Fu(this.remaining);i&&(r=i,this.capture(r))}e[Nu(t)]=Nu(r)}parseQueryParam(e){const t=function Es(n){const e=n.match(Zg);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function bh(n){const e=n.match(jv);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=Ox(t),c=Ox(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(c)}else e[i]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Fu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new a.vHH(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=Ut);const u=this.parseChildren();t[c]=1===Object.keys(u).length?u[Ut]:new Tn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new a.vHH(4011,!1)}}function Vu(n){return n.segments.length>0?new Tn([],{[Ut]:n}):n}function Bu(n){const e={};for(const r of Object.keys(n.children)){const c=Bu(n.children[r]);if(r===Ut&&0===c.segments.length&&c.hasChildren())for(const[u,p]of Object.entries(c.children))e[u]=p;else(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function Eh(n){if(1===n.numberOfChildren&&n.children[Ut]){const e=n.children[Ut];return new Tn(n.segments.concat(e.segments),e.children)}return n}(new Tn(n.segments,e))}function xs(n){return n instanceof Ic}function Uu(n){let e;const i=Vu(function t(c){const u={};for(const _ of c.children){const w=t(_);u[_.outlet]=w}const p=new Tn(c.url,u);return c===n&&(e=p),p}(n.root));return e??i}function Hu(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return Wg(i,i,i,t,r);const c=function Nx(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new $v(!0,0,n);let e=0,t=!1;const r=n.reduce((i,c,u)=>{if("object"==typeof c&&null!=c){if(c.outlets){const p={};return Object.entries(c.outlets).forEach(([_,w])=>{p[_]="string"==typeof w?w.split("/"):w}),[...i,{outlets:p}]}if(c.segmentPath)return[...i,c.segmentPath]}return"string"!=typeof c?[...i,c]:0===u?(c.split("/").forEach((p,_)=>{0==_&&"."===p||(0==_&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,c]},[]);return new $v(t,e,r)}(e);if(c.toRoot())return Wg(i,i,new Tn([],{}),t,r);const u=function Fx(n,e,t){if(n.isAbsolute)return new xp(e,!0,0);if(!t)return new xp(e,!1,NaN);if(null===t.parent)return new xp(t,!0,0);const r=Ep(n.commands[0])?0:1;return function Lx(n,e,t){let r=n,i=e,c=t;for(;c>i;){if(c-=i,r=r.parent,!r)throw new a.vHH(4005,!1);i=r.segments.length}return new xp(r,!1,i-c)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(c,i,n),p=u.processChildren?Kg(u.segmentGroup,u.index,c.commands):Vx(u.segmentGroup,u.index,c.commands);return Wg(i,u.segmentGroup,p,t,r)}function Ep(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ch(n){return"object"==typeof n&&null!=n&&n.outlets}function Wg(n,e,t,r,i){let u,c={};r&&Object.entries(r).forEach(([_,w])=>{c[_]=Array.isArray(w)?w.map(D=>`${D}`):`${w}`}),u=n===e?t:zv(n,e,t);const p=Vu(Bu(u));return new Ic(p,c,i)}function zv(n,e,t){const r={};return Object.entries(n.children).forEach(([i,c])=>{r[i]=c===e?t:zv(c,e,t)}),new Tn(n.segments,r)}class $v{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ep(r[0]))throw new a.vHH(4003,!1);const i=r.find(Ch);if(i&&i!==bA(r))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xp{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Vx(n,e,t){if(n||(n=new Tn([],{})),0===n.segments.length&&n.hasChildren())return Kg(n,e,t);const r=function CN(n,e,t){let r=0,i=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return c;const u=n.segments[i],p=t[r];if(Ch(p))break;const _=`${p}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!Bx(_,w,u))return c;r+=2}else{if(!Bx(_,{},u))return c;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Tn(n.segments.slice(0,r.pathIndex),{});return c.children[Ut]=new Tn(n.segments.slice(r.pathIndex),n.children),Kg(c,0,i)}return r.match&&0===i.length?new Tn(n.segments,{}):r.match&&!n.hasChildren()?qv(n,e,t):r.match?Kg(n,0,i):qv(n,e,t)}function Kg(n,e,t){if(0===t.length)return new Tn(n.segments,{});{const r=function Gv(n){return Ch(n[0])?n[0].outlets:{[Ut]:n}}(t),i={};if(!r[Ut]&&n.children[Ut]&&1===n.numberOfChildren&&0===n.children[Ut].segments.length){const c=Kg(n.children[Ut],e,t);return new Tn(n.segments,c.children)}return Object.entries(r).forEach(([c,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=Vx(n.children[c],e,u))}),Object.entries(n.children).forEach(([c,u])=>{void 0===r[c]&&(i[c]=u)}),new Tn(n.segments,i)}}function qv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const c=t[i];if(Ch(c)){const _=SA(c.outlets);return new Tn(r,_)}if(0===i&&Ep(t[0])){r.push(new _p(n.segments[e].path,AA(t[0]))),i++;continue}const u=Ch(c)?c.outlets[Ut]:`${c}`,p=i<t.length-1?t[i+1]:null;u&&p&&Ep(p)?(r.push(new _p(u,AA(p))),i+=2):(r.push(new _p(u,{})),i++)}return new Tn(r,{})}function SA(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=qv(new Tn([],{}),0,r))}),e}function AA(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Bx(n,e,t){return n==t.path&&Co(e,t.parameters)}const Yg="imperative";class Oa{constructor(e,t){this.id=e,this.url=t}}class Zv extends Oa{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ju extends Oa{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ih extends Oa{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dc extends Oa{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Cp extends Oa{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qg extends Oa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ux extends Oa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ip extends Oa{constructor(e,t,r,i,c){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hx extends Oa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MA extends Oa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dp{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class RA{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kA{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OA{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PA{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wv{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tp{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class IN{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Sp,this.attachRef=null}}let Sp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new IN,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class jx{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ap(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Ap(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Yv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Yv(e,this._root).map(t=>t.value)}}function Ap(n,e){if(n===e.value)return e;for(const t of e.children){const r=Ap(n,t);if(r)return r}return null}function Yv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Yv(n,t);if(r.length)return r.unshift(e),r}return[]}class Pa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Dh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class zx extends jx{constructor(e,t){super(e),this.snapshot=t,Mp(this,e)}toString(){return this.snapshot.toString()}}function Qv(n,e){const t=function $x(n,e){const u=new Xg([],{},{},"",{},Ut,e,null,{});return new Xv("",new Pa(u,[]))}(0,e),r=new Wi.X([new _p("",{})]),i=new Wi.X({}),c=new Wi.X({}),u=new Wi.X({}),p=new Wi.X(""),_=new zu(r,i,u,p,c,Ut,e,t.root);return _.snapshot=t.root,new zx(new Pa(_,[]),t)}class zu{constructor(e,t,r,i,c,u,p,_){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=c,this.outlet=u,this.component=p,this._futureSnapshot=_,this.title=this.dataSubject?.pipe((0,rt.U)(w=>w[gp]))??(0,ct.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rt.U)(e=>Ou(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rt.U)(e=>Ou(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gx(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],c=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(c.component)break;r--}}return function NA(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Xg{get title(){return this.data?.[gp]}constructor(e,t,r,i,c,u,p,_,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=c,this.outlet=u,this.component=p,this.routeConfig=_,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ou(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ou(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xv extends jx{constructor(e,t){super(t),this.url=e,Mp(this,t)}toString(){return Jg(this._root)}}function Mp(n,e){e.value._routerState=n,e.children.forEach(t=>Mp(n,t))}function Jg(n){const e=n.children.length>0?` { ${n.children.map(Jg).join(", ")} } `:"";return`${n.value}${e}`}function Jv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Co(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Co(e.params,t.params)||n.paramsSubject.next(t.params),function vA(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Co(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Co(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Th(n,e){const t=Co(n.params,e.params)&&function CA(n,e){return Pu(n,e)&&n.every((t,r)=>Co(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Th(n.parent,e.parent))}let Sh=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ut,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(Sp),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb),this.inputBinder=(0,a.f3M)(Rp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new a.vHH(4013,!1);this._activatedRoute=t;const i=this.location,u=t.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,_=new eb(t,p,i.injector);this.activated=i.createComponent(u,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),n})();class eb{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===zu?this.route:e===Sp?this.childContexts:this.parent.get(e,t)}}const Rp=new a.OlP("");let qx=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=bg([r.queryParams,r.params,r.data]).pipe((0,Gr.w)(([c,u,p],_)=>(p={...c,...u,...p},0===_?(0,ct.of)(p):Promise.resolve(p)))).subscribe(c=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const u=(0,a.qFp)(r.component);if(u)for(const{templateName:p}of u.inputs)t.activatedComponentRef.setInput(p,c[p]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function kp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function e_(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return kp(n,r,i);return kp(n,r)})}(n,e,t);return new Pa(r,i)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const u=c.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(p=>kp(n,p)),u}}const r=function t_(n){return new zu(new Wi.X(n.url),new Wi.X(n.params),new Wi.X(n.queryParams),new Wi.X(n.fragment),new Wi.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(c=>kp(n,c));return new Pa(r,i)}}const Op="ngNavigationCancelingError";function tb(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=xs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Zx(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Zx(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Op]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Wx(n){return nb(n)&&xs(n.url)}function nb(n){return n&&n[Op]}let n_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},dependencies:[Sh],encapsulation:2}),n})();function r_(n){const e=n.children&&n.children.map(r_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ut&&(t.component=n_),t}function Cs(n){return n.outlet||Ut}function sl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class tC{constructor(e,t,r,i,c){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=c}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Jv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Dh(t);e.children.forEach(c=>{const u=c.value.outlet;this.deactivateRoutes(c,i[u],r),delete i[u]}),Object.values(i).forEach(c=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const i=e.value,c=t?t.value:null;if(i===c)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,c=Dh(e);for(const u of Object.keys(c))this.deactivateRouteAndItsChildren(c[u],i);if(r&&r.outlet){const u=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,c=Dh(e);for(const u of Object.keys(c))this.deactivateRouteAndItsChildren(c[u],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Dh(t);e.children.forEach(c=>{this.activateRoutes(c,i[c.value.outlet],r),this.forwardEvent(new Wv(c.value.snapshot))}),e.children.length&&this.forwardEvent(new OA(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,c=t?t.value:null;if(Jv(i),i===c)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(p.contexts),u.attachRef=p.componentRef,u.route=p.route.value,u.outlet&&u.outlet.attach(p.componentRef,p.route.value),Jv(p.route.value),this.activateChildRoutes(e,null,u.children)}else{const p=sl(i.snapshot);u.attachRef=null,u.route=i,u.injector=p,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class ib{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Pp{constructor(e,t){this.component=e,this.route=t}}function nC(n,e,t){const r=n._root;return al(r,e?e._root:null,t,[r.value])}function $u(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,a.Z0I)(n)?e.get(n):n:r}function al(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=Dh(e);return n.children.forEach(u=>{(function cl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,u=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(u&&c.routeConfig===u.routeConfig){const _=function HA(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Pu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Pu(n.url,e.url)||!Co(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Th(n,e)||!Co(n.queryParams,e.queryParams);default:return!Th(n,e)}}(u,c,c.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new ib(r)):(c.data=u.data,c._resolvedData=u._resolvedData),al(n,e,c.component?p?p.children:null:t,r,i),_&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new Pp(p.outlet.component,u))}else u&&Np(e,p,i),i.canActivateChecks.push(new ib(r)),al(n,null,c.component?p?p.children:null:t,r,i)})(u,c[u.value.outlet],t,r.concat([u.value]),i),delete c[u.value.outlet]}),Object.entries(c).forEach(([u,p])=>Np(p,t.getContext(u),i)),i}function Np(n,e,t){const r=Dh(n),i=n.value;Object.entries(r).forEach(([c,u])=>{Np(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Pp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Gu(n){return"function"==typeof n}function ab(n){return n instanceof gh||"EmptyError"===n?.name}const i_=Symbol("INITIAL_VALUE");function Jn(){return(0,Gr.w)(n=>bg(n.map(e=>e.pipe(bs(1),qo(i_)))).pipe((0,rt.U)(e=>{for(const t of e)if(!0!==t){if(t===i_)return i_;if(!1===t||t instanceof Ic)return t}return!0}),pn(e=>e!==i_),bs(1)))}function cC(n){return(0,_A.z)((0,$r.b)(e=>{if(xs(e))throw tb(0,e)}),(0,rt.U)(e=>!0===e))}class o_{constructor(e){this.segmentGroup=e||null}}class cb{constructor(e){this.urlTree=e}}function Fp(n){return _h(new o_(n))}function s_(n){return _h(new cb(n))}class WA{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new a.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,ct.of)(r);if(i.numberOfChildren>1||!i.children[Ut])return _h(new a.vHH(4e3,!1));i=i.children[Ut]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const c=this.createSegmentGroup(e,t.root,r,i);return new Ic(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,c])=>{if("string"==typeof c&&c.startsWith(":")){const p=c.substring(1);r[i]=t[p]}else r[i]=c}),r}createSegmentGroup(e,t,r,i){const c=this.createSegments(e,t.segments,r,i);let u={};return Object.entries(t.children).forEach(([p,_])=>{u[p]=this.createSegmentGroup(e,_,r,i)}),new Tn(c,u)}createSegments(e,t,r,i){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,i):this.findOrReturn(c,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new a.vHH(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const ub={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fa(n,e,t,r,i){const c=Wo(n,e,t);return c.matched?(r=function Kx(n,e){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function lC(n,e,t,r){const i=e.canMatch;if(!i||0===i.length)return(0,ct.of)(!0);const c=i.map(u=>{const p=$u(u,n);return ol(function SN(n){return n&&Gu(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))});return(0,ct.of)(c).pipe(Jn(),cC())}(r,e,t).pipe((0,rt.U)(u=>!0===u?c:{...ub}))):(0,ct.of)(c)}function Wo(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ub}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||yA)(t,n,e);if(!i)return{...ub};const c={};Object.entries(i.posParams??{}).forEach(([p,_])=>{c[p]=_.path});const u=i.consumed.length>0?{...c,...i.consumed[i.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function Is(n,e,t,r){return t.length>0&&function KA(n,e,t){return t.some(r=>a_(n,e,r)&&Cs(r)!==Ut)}(n,t,r)?{segmentGroup:new Tn(e,dC(r,new Tn(t,n.children))),slicedSegments:[]}:0===t.length&&function YA(n,e,t){return t.some(r=>a_(n,e,r))}(n,t,r)?{segmentGroup:new Tn(n.segments,uC(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Tn(n.segments,n.children),slicedSegments:t}}function uC(n,e,t,r,i){const c={};for(const u of r)if(a_(n,t,u)&&!i[Cs(u)]){const p=new Tn([],{});c[Cs(u)]=p}return{...i,...c}}function dC(n,e){const t={};t[Ut]=e;for(const r of n)if(""===r.path&&Cs(r)!==Ut){const i=new Tn([],{});t[Cs(r)]=i}return t}function a_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class XA{constructor(e,t,r,i,c,u,p){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=c,this.paramsInheritanceStrategy=u,this.urlSerializer=p,this.allowRedirects=!0,this.applyRedirects=new WA(this.urlSerializer,this.urlTree)}noMatchError(e){return new a.vHH(4002,!1)}recognize(){const e=Is(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ut).pipe(Cc(t=>{if(t instanceof cb)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof o_?this.noMatchError(t):t}),(0,rt.U)(t=>{const r=new Xg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ut,this.rootComponentType,null,{}),i=new Pa(r,t),c=new Xv("",i),u=function xh(n,e,t=null,r=null){return Hu(Uu(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(c._root),{state:c,tree:u}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Ut).pipe(Cc(r=>{throw r instanceof o_?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=Gx(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const c of Object.keys(r.children))"primary"===c?i.unshift(c):i.push(c);return(0,Dn.D)(i).pipe(vh(c=>{const u=r.children[c],p=function rb(n,e){const t=n.filter(r=>Cs(r)===e);return t.push(...n.filter(r=>Cs(r)!==e)),t}(t,c);return this.processSegmentGroup(e,p,u,c)}),$g((c,u)=>(c.push(...u),c)),Mu(null),function Cx(n,e){const t=arguments.length>=2;return r=>r.pipe(n?pn((i,c)=>n(i,c,r)):vg.y,Vv(1),t?Mu(e):yh(()=>new gh))}(),(0,Ir.z)(c=>{if(null===c)return Fp(r);const u=fC(c);return function hC(n){n.sort((e,t)=>e.value.outlet===Ut?-1:t.value.outlet===Ut?1:e.value.outlet.localeCompare(t.value.outlet))}(u),(0,ct.of)(u)}))}processSegment(e,t,r,i,c,u){return(0,Dn.D)(t).pipe(vh(p=>this.processSegmentAgainstRoute(p._injector??e,t,p,r,i,c,u).pipe(Cc(_=>{if(_ instanceof o_)return(0,ct.of)(null);throw _}))),Ru(p=>!!p),Cc(p=>{if(ab(p))return function db(n,e,t){return 0===e.length&&!n.children[t]}(r,i,c)?(0,ct.of)([]):Fp(r);throw p}))}processSegmentAgainstRoute(e,t,r,i,c,u,p){return function QA(n,e,t,r){return!!(Cs(n)===r||r!==Ut&&a_(e,t,n))&&("**"===n.path||Wo(e,n,t).matched)}(r,i,c,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,c,u,p):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,c,u):Fp(i):Fp(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,c,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,c,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const c=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?s_(c):this.applyRedirects.lineralizeSegments(r,c).pipe((0,Ir.z)(u=>{const p=new Tn(u,{});return this.processSegment(e,t,p,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,c,u){const{matched:p,consumedSegments:_,remainingSegments:w,positionalParamSegments:D}=Wo(t,i,c);if(!p)return Fp(t);const M=this.applyRedirects.applyRedirectCommands(_,i.redirectTo,D);return i.redirectTo.startsWith("/")?s_(M):this.applyRedirects.lineralizeSegments(i,M).pipe((0,Ir.z)(L=>this.processSegment(e,r,t,L.concat(w),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,c,u){let p;if("**"===r.path){const _=i.length>0?bA(i).parameters:{},w=new Xg(i,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hb(r),Cs(r),r.component??r._loadedComponent??null,r,Vp(r));p=(0,ct.of)({snapshot:w,consumedSegments:[],remainingSegments:[]}),t.children={}}else p=Fa(t,r,i,e).pipe((0,rt.U)(({matched:_,consumedSegments:w,remainingSegments:D,parameters:M})=>_?{snapshot:new Xg(w,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hb(r),Cs(r),r.component??r._loadedComponent??null,r,Vp(r)),consumedSegments:w,remainingSegments:D}:null));return p.pipe((0,Gr.w)(_=>null===_?Fp(t):this.getChildConfig(e=r._injector??e,r,i).pipe((0,Gr.w)(({routes:w})=>{const D=r._loadedInjector??e,{snapshot:M,consumedSegments:L,remainingSegments:$}=_,{segmentGroup:W,slicedSegments:J}=Is(t,L,$,w);if(0===J.length&&W.hasChildren())return this.processChildren(D,w,W).pipe((0,rt.U)(He=>null===He?null:[new Pa(M,He)]));if(0===w.length&&0===J.length)return(0,ct.of)([new Pa(M,[])]);const he=Cs(r)===c;return this.processSegment(D,w,W,J,he?Ut:c,!0).pipe((0,rt.U)(He=>[new Pa(M,He)]))}))))}getChildConfig(e,t,r){return t.children?(0,ct.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,ct.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function ZA(n,e,t,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,ct.of)(!0);const c=i.map(u=>{const p=$u(u,n);return ol(function ob(n){return n&&Gu(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))});return(0,ct.of)(c).pipe(Jn(),cC())}(e,t,r).pipe((0,Ir.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,$r.b)(c=>{t._loadedRoutes=c.routes,t._loadedInjector=c.injector})):function Na(n){return _h(Zx(!1,3))}())):(0,ct.of)({routes:[],injector:e})}}function JA(n){const e=n.value.routeConfig;return e&&""===e.path}function fC(n){const e=[],t=new Set;for(const r of n){if(!JA(r)){e.push(r);continue}const i=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=fC(r.children);e.push(new Pa(r.value,i))}return e.filter(r=>!t.has(r))}function hb(n){return n.data||{}}function Vp(n){return n.resolve||{}}function c_(n){return"string"==typeof n.title||null===n.title}function Mh(n){return(0,Gr.w)(e=>{const t=n(e);return t?(0,Dn.D)(t).pipe((0,rt.U)(()=>e)):(0,ct.of)(e)})}const Zu=new a.OlP("ROUTES");let l_=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,ct.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ol(t.loadComponent()).pipe((0,rt.U)(fb),(0,$r.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=c}),ku(()=>{this.componentLoaders.delete(t)})),i=new Lv(r,()=>new Jt.x).pipe(Ex());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,ct.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,rt.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,w;return Array.isArray(p)?w=p:(_=p.create(t).injector,w=_.get(Zu,[],a.XFs.Self|a.XFs.Optional).flat()),{routes:w.map(r_),injector:_}}),ku(()=>{this.childrenLoaders.delete(r)})),u=new Lv(c,()=>new Jt.x).pipe(Ex());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return ol(t()).pipe((0,rt.U)(fb),(0,Ir.z)(r=>r instanceof a.YKP||Array.isArray(r)?(0,ct.of)(r):(0,Dn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fb(n){return function _C(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Bp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Jt.x,this.configLoader=(0,a.f3M)(l_),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(yp),this.rootContexts=(0,a.f3M)(Sp),this.inputBindingEnabled=null!==(0,a.f3M)(Rp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ct.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new RA(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Dp(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Wi.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yg,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(pn(r=>0!==r.id),(0,rt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),(0,Gr.w)(r=>{let i=!1,c=!1;return(0,ct.of)(r).pipe((0,$r.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Gr.w)(u=>{const p=t.browserUrlTree.toString(),_=!t.navigated||u.extractedUrl.toString()!==p||p!==t.currentUrlTree.toString();if(!_&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const D="";return this.events.next(new Dc(u.id,t.serializeUrl(r.rawUrl),D,0)),t.rawUrlTree=u.rawUrl,u.resolve(null),tl.E}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return pb(u.source)&&(t.browserUrlTree=u.extractedUrl),(0,ct.of)(u).pipe((0,Gr.w)(D=>{const M=this.transitions?.getValue();return this.events.next(new Zv(D.id,this.urlSerializer.serialize(D.extractedUrl),D.source,D.restoredState)),M!==this.transitions?.getValue()?tl.E:Promise.resolve(D)}),function tM(n,e,t,r,i,c){return(0,Ir.z)(u=>function Lp(n,e,t,r,i,c,u="emptyOnly"){return new XA(n,e,t,r,i,u,c).recognize()}(n,e,t,r,u.extractedUrl,i,c).pipe((0,rt.U)(({state:p,tree:_})=>({...u,targetSnapshot:p,urlAfterRedirects:_}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,$r.b)(D=>{if(r.targetSnapshot=D.targetSnapshot,r.urlAfterRedirects=D.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!D.extras.skipLocationChange){const L=t.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);t.setBrowserUrl(L,D)}t.browserUrlTree=D.urlAfterRedirects}const M=new Qg(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(M)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:D,extractedUrl:M,source:L,restoredState:$,extras:W}=u,J=new Zv(D,this.urlSerializer.serialize(M),L,$);this.events.next(J);const he=Qv(0,this.rootComponentType).snapshot;return r={...u,targetSnapshot:he,urlAfterRedirects:M,extras:{...W,skipLocationChange:!1,replaceUrl:!1}},(0,ct.of)(r)}{const D="";return this.events.next(new Dc(u.id,t.serializeUrl(r.extractedUrl),D,1)),t.rawUrlTree=u.rawUrl,u.resolve(null),tl.E}}),(0,$r.b)(u=>{const p=new Ux(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}),(0,rt.U)(u=>r={...u,guards:nC(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function iC(n,e){return(0,Ir.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:c,canDeactivateChecks:u}}=t;return 0===u.length&&0===c.length?(0,ct.of)({...t,guardsResult:!0}):function $A(n,e,t,r){return(0,Dn.D)(n).pipe((0,Ir.z)(i=>function Ah(n,e,t,r,i){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,ct.of)(!0);const u=c.map(p=>{const _=sl(e)??i,w=$u(p,_);return ol(function TN(n){return n&&Gu(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):_.runInContext(()=>w(n,e,t,r))).pipe(Ru())});return(0,ct.of)(u).pipe(Jn())}(i.component,i.route,t,e,r)),Ru(i=>!0!==i,!0))}(u,r,i,n).pipe((0,Ir.z)(p=>p&&function qu(n){return"boolean"==typeof n}(p)?function GA(n,e,t,r){return(0,Dn.D)(e).pipe(vh(i=>wg(function qA(n,e){return null!==n&&e&&e(new kA(n)),(0,ct.of)(!0)}(i.route.parent,r),function oC(n,e){return null!==n&&e&&e(new PA(n)),(0,ct.of)(!0)}(i.route,r),function aC(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(u=>function rC(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>wx(()=>{const p=u.guards.map(_=>{const w=sl(u.node)??t,D=$u(_,w);return ol(function sb(n){return n&&Gu(n.canActivateChild)}(D)?D.canActivateChild(r,n):w.runInContext(()=>D(r,n))).pipe(Ru())});return(0,ct.of)(p).pipe(Jn())}));return(0,ct.of)(c).pipe(Jn())}(n,i.path,t),function sC(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,ct.of)(!0);const i=r.map(c=>wx(()=>{const u=sl(e)??t,p=$u(c,u);return ol(function jA(n){return n&&Gu(n.canActivate)}(p)?p.canActivate(e,n):u.runInContext(()=>p(e,n))).pipe(Ru())}));return(0,ct.of)(i).pipe(Jn())}(n,i.route,t))),Ru(i=>!0!==i,!0))}(r,c,n,e):(0,ct.of)(p)),(0,rt.U)(p=>({...t,guardsResult:p})))})}(this.environmentInjector,u=>this.events.next(u)),(0,$r.b)(u=>{if(r.guardsResult=u.guardsResult,xs(u.guardsResult))throw tb(0,u.guardsResult);const p=new Ip(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(p)}),pn(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),Mh(u=>{if(u.guards.canActivateChecks.length)return(0,ct.of)(u).pipe((0,$r.b)(p=>{const _=new Hx(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}),(0,Gr.w)(p=>{let _=!1;return(0,ct.of)(p).pipe(function pC(n,e){return(0,Ir.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,ct.of)(t);let c=0;return(0,Dn.D)(i).pipe(vh(u=>function mC(n,e,t,r){const i=n.routeConfig,c=n._resolve;return void 0!==i?.title&&!c_(i)&&(c[gp]=i.title),function gC(n,e,t,r){const i=function nM(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,ct.of)({});const c={};return(0,Dn.D)(i).pipe((0,Ir.z)(u=>function rM(n,e,t,r){const i=sl(e)??r,c=$u(n,i);return ol(c.resolve?c.resolve(e,t):i.runInContext(()=>c(e,t)))}(n[u],e,t,r).pipe(Ru(),(0,$r.b)(p=>{c[u]=p}))),Vv(1),Iu(c),Cc(u=>ab(u)?tl.E:_h(u)))}(c,n,e,r).pipe((0,rt.U)(u=>(n._resolvedData=u,n.data=Gx(n,t).resolve,i&&c_(i)&&(n.data[gp]=i.title),null)))}(u.route,r,n,e)),(0,$r.b)(()=>c++),Vv(1),(0,Ir.z)(u=>c===i.length?(0,ct.of)(t):tl.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,$r.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,$r.b)(p=>{const _=new MA(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}))}),Mh(u=>{const p=_=>{const w=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,$r.b)(D=>{_.component=D}),(0,rt.U)(()=>{})));for(const D of _.children)w.push(...p(D));return w};return bg(p(u.targetSnapshot.root)).pipe(Mu(),bs(1))}),Mh(()=>this.afterPreactivation()),(0,rt.U)(u=>{const p=function FA(n,e,t){const r=kp(n,e._root,t?t._root:void 0);return new zx(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return r={...u,targetRouterState:p}}),(0,$r.b)(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t,r)=>(0,rt.U)(i=>(new tC(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),bs(1),(0,$r.b)({next:u=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ju(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{i=!0}}),ku(()=>{i||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Cc(u=>{if(c=!0,nb(u)){Wx(u)||(t.navigated=!0,t.restoreHistory(r,!0));const p=new Ih(r.id,this.urlSerializer.serialize(r.extractedUrl),u.message,u.cancellationCode);if(this.events.next(p),Wx(u)){const _=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),w={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||pb(r.source)};t.scheduleNavigation(_,Yg,null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const p=new Cp(r.id,this.urlSerializer.serialize(r.extractedUrl),u,r.targetSnapshot??void 0);this.events.next(p);try{r.resolve(t.errorHandler(u))}catch(_){r.reject(_)}}return tl.E}))}))}cancelNavigationTransition(t,r,i){const c=new Ih(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(c),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pb(n){return n!==Yg}let mb=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(c=>c.outlet===Ut);return r}getResolvedTitleForRoute(t){return t.data[gp]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(yC)},providedIn:"root"}),n})(),yC=(()=>{class n extends mb{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(hc))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(oM)},providedIn:"root"}),n})();class iM{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let oM=(()=>{class n extends iM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const u_=new a.OlP("",{providedIn:"root",factory:()=>({})});let sM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(aM)},providedIn:"root"}),n})(),aM=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ko=(()=>((Ko=Ko||{})[Ko.COMPLETE=0]="COMPLETE",Ko[Ko.FAILED=1]="FAILED",Ko[Ko.REDIRECTING=2]="REDIRECTING",Ko))();function bC(n,e){n.events.pipe(pn(t=>t instanceof ju||t instanceof Ih||t instanceof Cp||t instanceof Dc),(0,rt.U)(t=>t instanceof ju||t instanceof Dc?Ko.COMPLETE:t instanceof Ih&&(0===t.code||1===t.code)?Ko.REDIRECTING:Ko.FAILED),pn(t=>t!==Ko.REDIRECTING),bs(1)).subscribe(()=>{e()})}function cM(n){throw n}function lM(n,e,t){return e.parse("/")}const uM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(u_,{optional:!0})||{},this.pendingTasks=(0,a.f3M)(a.HDt),this.errorHandler=this.options.errorHandler||cM,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||lM,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(sM),this.routeReuseStrategy=(0,a.f3M)(vC),this.titleStrategy=(0,a.f3M)(mb),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.f3M)(Zu,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.f3M)(Bp),this.urlSerializer=(0,a.f3M)(yp),this.location=(0,a.f3M)(qe),this.componentInputBindingEnabled=!!(0,a.f3M)(Rp,{optional:!0}),this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ic,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Qv(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Yg,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const c={replaceUrl:!0},u=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(c.state=_)}const p=this.parseUrl(t);this.scheduleNavigation(p,r,u,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(r_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:c,fragment:u,queryParamsHandling:p,preserveFragment:_}=r,w=_?this.currentUrlTree.fragment:u;let M,D=null;switch(p){case"merge":D={...this.currentUrlTree.queryParams,...c};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=c||null}null!==D&&(D=this.removeEmptyProps(D));try{M=Uu(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),M=this.currentUrlTree.root}return Hu(M,t,D,w??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=xs(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(c,Yg,null,r)}navigate(t,r={skipLocationChange:!1}){return function hM(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new a.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...uM}:!1===r?{...dM}:r,xs(t))return Sx(this.currentUrlTree,t,i);const c=this.parseUrl(t);return Sx(this.currentUrlTree,c,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const c=t[i];return null!=c&&(r[i]=c),r},{})}scheduleNavigation(t,r,i,c,u){if(this.disposed)return Promise.resolve(!1);let p,_,w;u?(p=u.resolve,_=u.reject,w=u.promise):w=new Promise((M,L)=>{p=M,_=L});const D=this.pendingTasks.add();return bC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(D))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:c,resolve:p,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(M=>Promise.reject(M))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",u)}else{const c={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",c)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-(this.browserPageId??this.currentPageId);0!==c?this.location.historyGo(c):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class wC{}let EC=(()=>{class n{constructor(t,r,i,c,u){this.router=t,this.injector=i,this.preloadingStrategy=c,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(pn(t=>t instanceof ju),vh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,a.MMx)(c.providers,t,`Route: ${c.path}`));const u=c._injector??t,p=c._loadedInjector??u;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&i.push(this.preloadConfig(u,c)),(c.children||c._loadedRoutes)&&i.push(this.processRoutes(p,c.children??c._loadedRoutes))}return(0,Dn.D)(i).pipe((0,tp.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,ct.of)(null);const c=i.pipe((0,Ir.z)(u=>null===u?(0,ct.of)(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,Dn.D)([c,u]).pipe((0,tp.J)())}return c})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(qr),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(wC),a.LFG(l_))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const d_=new a.OlP("");let _b=(()=>{class n{constructor(t,r,i,c,u={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=c,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Zv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ju?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Dc&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Tp&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Tp(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function La(n,e){return{\u0275kind:n,\u0275providers:e}}function DC(){const n=(0,a.f3M)(a.zs3);return e=>{const t=n.get(a.z2F);if(e!==t.components[0])return;const r=n.get(qr),i=n.get(TC);1===n.get(ll)&&r.initialNavigation(),n.get(bb,null,a.XFs.Optional)?.setUpPreloading(),n.get(d_,null,a.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const TC=new a.OlP("",{factory:()=>new Jt.x}),ll=new a.OlP("",{providedIn:"root",factory:()=>1}),bb=new a.OlP("");function SC(n){return La(0,[{provide:bb,useExisting:EC},{provide:wC,useExisting:n}])}const Wu=new a.OlP("ROUTER_FORROOT_GUARD"),vM=[qe,{provide:yp,useClass:Uv},qr,Sp,{provide:zu,useFactory:function yb(n){return n.routerState.root},deps:[qr]},l_,[]];function h_(){return new a.PXZ("Router",qr)}let Up=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[vM,[],{provide:Zu,multi:!0,useValue:t},{provide:Wu,useFactory:MC,deps:[[qr,new a.FiY,new a.tp0]]},{provide:u_,useValue:r||{}},r?.useHash?{provide:Ve,useClass:Oe}:{provide:Ve,useClass:Ze},{provide:d_,useFactory:()=>{const n=(0,a.f3M)(uo),e=(0,a.f3M)(a.R0b),t=(0,a.f3M)(u_),r=(0,a.f3M)(Bp),i=(0,a.f3M)(yp);return t.scrollOffset&&n.setOffset(t.scrollOffset),new _b(i,r,n,e,t)}},r?.preloadingStrategy?SC(r.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:h_},r?.initialNavigation?bM(r):[],r?.bindToComponentInputs?La(8,[qx,{provide:Rp,useExisting:qx}]).\u0275providers:[],[{provide:wb,useFactory:DC},{provide:a.tb,multi:!0,useExisting:wb}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Zu,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Wu,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function MC(n){return"guarded"}function bM(n){return["disabled"===n.initialNavigation?La(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const e=(0,a.f3M)(qr);return()=>{e.setUpLocationChangeListener()}}},{provide:ll,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?La(2,[{provide:ll,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:e=>{const t=e.get(Pe,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(qr),c=e.get(TC);bC(i,()=>{r(!0)}),e.get(Bp).afterPreactivation=()=>(r(!0),c.closed?(0,ct.of)(void 0):c),i.initialNavigation()}))}}]).\u0275providers:[]]}const wb=new a.OlP("");class p_{}class m_{}class yi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),c=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,c),this.headers.has(c)?this.headers.get(c).push(u):this.headers.set(c,[u])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof yi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new yi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof yi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const c=e.value;if(c){let u=this.headers.get(t);if(!u)return;u=u.filter(p=>-1===c.indexOf(p)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(c=>c.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class kC{encodeKey(e){return kh(e)}encodeValue(e){return kh(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const PC=/%(\d[a-f0-9])/gi,xM={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kh(n){return encodeURIComponent(n).replace(PC,(e,t)=>xM[t]??e)}function ul(n){return`${n}`}class dl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new kC,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function OC(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const c=i.indexOf("="),[u,p]=-1==c?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,c)),e.decodeValue(i.slice(c+1))],_=t.get(u)||[];_.push(p),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(ul):[ul(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(c=>{t.push({param:r,value:c,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new dl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ul(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(ul(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class CM{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function xb(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Cb(n){return typeof Blob<"u"&&n instanceof Blob}function FC(n){return typeof FormData<"u"&&n instanceof FormData}class Hp{constructor(e,t,r,i){let c;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function NC(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,c=i):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new yi),this.context||(this.context=new CM),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+u}}else this.params=new dl,this.urlWithParams=t}serializeBody(){return null===this.body?null:xb(this.body)||Cb(this.body)||FC(this.body)||function LC(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof dl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||FC(this.body)?null:Cb(this.body)?this.body.type||null:xb(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof dl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,w=e.params||this.params;const D=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((M,L)=>M.set(L,e.setHeaders[L]),_)),e.setParams&&(w=Object.keys(e.setParams).reduce((M,L)=>M.set(L,e.setParams[L]),w)),new Hp(t,r,c,{params:w,headers:_,context:D,reportProgress:p,responseType:i,withCredentials:u})}}var Nr=(()=>((Nr=Nr||{})[Nr.Sent=0]="Sent",Nr[Nr.UploadProgress=1]="UploadProgress",Nr[Nr.ResponseHeader=2]="ResponseHeader",Nr[Nr.DownloadProgress=3]="DownloadProgress",Nr[Nr.Response=4]="Response",Nr[Nr.User=5]="User",Nr))();class VC{constructor(e,t=200,r="OK"){this.headers=e.headers||new yi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class BC extends VC{constructor(e={}){super(e),this.type=Nr.ResponseHeader}clone(e={}){return new BC({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class jp extends VC{constructor(e={}){super(e),this.type=Nr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new jp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class IM extends VC{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function g_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Pi=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let c;if(t instanceof Hp)c=t;else{let _,w;_=i.headers instanceof yi?i.headers:new yi(i.headers),i.params&&(w=i.params instanceof dl?i.params:new dl({fromObject:i.params})),c=new Hp(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=(0,ct.of)(c).pipe(vh(_=>this.handler.handle(_)));if(t instanceof Hp||"events"===i.observe)return u;const p=u.pipe(pn(_=>_ instanceof jp));switch(i.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return p.pipe((0,rt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return p.pipe((0,rt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return p.pipe((0,rt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return p.pipe((0,rt.U)(_=>_.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new dl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,g_(i,r))}post(t,r,i={}){return this.request("POST",t,g_(i,r))}put(t,r,i={}){return this.request("PUT",t,g_(i,r))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(p_))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function HC(n,e){return e(n)}function HN(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const jC=new a.OlP(""),zp=new a.OlP(""),zC=new a.OlP("");function $p(){let n=null;return(e,t)=>{null===n&&(n=((0,a.f3M)(jC,{optional:!0})??[]).reduceRight(HN,HC));const r=(0,a.f3M)(a.HDt),i=r.add();return n(e,t).pipe(ku(()=>r.remove(i)))}}let $C=(()=>{class n extends p_{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,a.f3M)(a.HDt)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(zp),...this.injector.get(zC,[])]));this.chain=i.reduceRight((c,u)=>function SM(n,e,t){return(r,i)=>t.runInContext(()=>e(r,c=>n(c,i)))}(c,u,this.injector),HC)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(ku(()=>this.pendingTasks.remove(r)))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(m_),a.LFG(a.lqb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const OM=/^\)\]\}',?\n/;let __=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new a.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,Dn.D)(r.\u0275loadImpl()):(0,ct.of)(null)).pipe((0,Gr.w)(()=>new Cr.y(c=>{const u=r.build();if(u.open(t.method,t.urlWithParams),t.withCredentials&&(u.withCredentials=!0),t.headers.forEach((J,he)=>u.setRequestHeader(J,he.join(","))),t.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const J=t.detectContentTypeHeader();null!==J&&u.setRequestHeader("Content-Type",J)}if(t.responseType){const J=t.responseType.toLowerCase();u.responseType="json"!==J?J:"text"}const p=t.serializeBody();let _=null;const w=()=>{if(null!==_)return _;const J=u.statusText||"OK",he=new yi(u.getAllResponseHeaders()),He=function PM(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(u)||t.url;return _=new BC({headers:he,status:u.status,statusText:J,url:He}),_},D=()=>{let{headers:J,status:he,statusText:He,url:et}=w(),Ge=null;204!==he&&(Ge=typeof u.response>"u"?u.responseText:u.response),0===he&&(he=Ge?200:0);let st=he>=200&&he<300;if("json"===t.responseType&&"string"==typeof Ge){const Tt=Ge;Ge=Ge.replace(OM,"");try{Ge=""!==Ge?JSON.parse(Ge):null}catch(Ft){Ge=Tt,st&&(st=!1,Ge={error:Ft,text:Ge})}}st?(c.next(new jp({body:Ge,headers:J,status:he,statusText:He,url:et||void 0})),c.complete()):c.error(new IM({error:Ge,headers:J,status:he,statusText:He,url:et||void 0}))},M=J=>{const{url:he}=w(),He=new IM({error:J,status:u.status||0,statusText:u.statusText||"Unknown Error",url:he||void 0});c.error(He)};let L=!1;const $=J=>{L||(c.next(w()),L=!0);let he={type:Nr.DownloadProgress,loaded:J.loaded};J.lengthComputable&&(he.total=J.total),"text"===t.responseType&&u.responseText&&(he.partialText=u.responseText),c.next(he)},W=J=>{let he={type:Nr.UploadProgress,loaded:J.loaded};J.lengthComputable&&(he.total=J.total),c.next(he)};return u.addEventListener("load",D),u.addEventListener("error",M),u.addEventListener("timeout",M),u.addEventListener("abort",M),t.reportProgress&&(u.addEventListener("progress",$),null!==p&&u.upload&&u.upload.addEventListener("progress",W)),u.send(p),c.next({type:Nr.Sent}),()=>{u.removeEventListener("error",M),u.removeEventListener("abort",M),u.removeEventListener("load",D),u.removeEventListener("timeout",M),t.reportProgress&&(u.removeEventListener("progress",$),null!==p&&u.upload&&u.upload.removeEventListener("progress",W)),u.readyState!==u.DONE&&u.abort()}})))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(hr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Tb=new a.OlP("XSRF_ENABLED"),ZC=new a.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),WC=new a.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class KC{}let FM=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ns(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ae),a.LFG(a.Lbi),a.LFG(ZC))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function LM(n,e){const t=n.url.toLowerCase();if(!(0,a.f3M)(Tb)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,a.f3M)(KC).getToken(),i=(0,a.f3M)(WC);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var er=(()=>((er=er||{})[er.Interceptors=0]="Interceptors",er[er.LegacyInterceptors=1]="LegacyInterceptors",er[er.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",er[er.NoXsrfProtection=3]="NoXsrfProtection",er[er.JsonpSupport=4]="JsonpSupport",er[er.RequestsMadeViaParent=5]="RequestsMadeViaParent",er[er.Fetch=6]="Fetch",er))();function hl(n,e){return{\u0275kind:n,\u0275providers:e}}function YC(...n){const e=[Pi,__,$C,{provide:p_,useExisting:$C},{provide:m_,useExisting:__},{provide:zp,useValue:LM,multi:!0},{provide:Tb,useValue:!0},{provide:KC,useClass:FM}];for(const t of n)e.push(...t.\u0275providers);return(0,a.MR2)(e)}const QC=new a.OlP("LEGACY_INTERCEPTOR_FN");let Sb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[YC(hl(er.LegacyInterceptors,[{provide:QC,useFactory:$p},{provide:zp,useExisting:QC,multi:!0}]))]}),n})();var Mb=O(3093),Rb=O(4552);class kb extends Jt.x{constructor(e=1/0,t=1/0,r=Rb.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:c,_windowTime:u}=this;t||(r.push(e),!i&&r.push(c.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,c=i.slice();for(let u=0;u<c.length&&!e.closed;u+=r?1:2)e.next(c[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,c=(i?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!i){const u=t.now();let p=0;for(let _=1;_<r.length&&r[_]<=u;_+=2)p=_;p&&r.splice(0,p+1)}}}var rI=O(3020);function Ob(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,rI.B)({connector:()=>new kb(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Pb(n,e){return(0,ir.m)(e)?(0,Gr.w)(()=>n,e):(0,Gr.w)(()=>n)}var Nb=O(5137),Zr=O(8186),Io=O(6304);O(3182);var ve=O(5861),Ku=O(534),v_=O(4537),mn=O(9058),fl=O(7879);const Vb=new Map,sI={activated:!1,tokenObservers:[]},$M={initialized:!1,enabled:!1};function Hn(n){return Vb.get(n)||Object.assign({},sI)}function qp(){return $M}const b_="https://content-firebaseappcheck.googleapis.com/v1",GM="exchangeDebugToken",uI={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class qM{constructor(e,t,r,i,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=i,i>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new mn.BH,yield function ZM(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new mn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const vi=new mn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Yu(n){if(!Hn(n).activated)throw vi.create("use-before-activation",{appName:n.name})}function Yo(n,e){return Ub.apply(this,arguments)}function Ub(){return(Ub=(0,ve.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const M=yield i.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const c={method:"POST",body:JSON.stringify(e),headers:r};let u,p;try{u=yield fetch(n,c)}catch(M){throw vi.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==u.status)throw vi.create("fetch-status-error",{httpStatus:u.status});try{p=yield u.json()}catch(M){throw vi.create("fetch-parse-error",{originalErrorMessage:M?.message})}const _=p.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw vi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const w=1e3*Number(_[1]),D=Date.now();return{token:p.token,expireTimeMillis:D+w,issuedAtTimeMillis:D}})).apply(this,arguments)}function dI(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${b_}/projects/${t}/apps/${r}:${GM}?key=${i}`,body:{debug_token:e}}}const KM="firebase-app-check-database",YM=1,pl="firebase-app-check-store";let x_=null;function zb(){return(zb=(0,ve.Z)(function*(n,e){const r=(yield function hI(){return x_||(x_=new Promise((n,e)=>{try{const t=indexedDB.open(KM,YM);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(vi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(pl,{keyPath:"compositeKey"})}}catch(t){e(vi.create("storage-open",{originalErrorMessage:t?.message}))}}),x_)}()).transaction(pl,"readwrite"),c=r.objectStore(pl).put({compositeKey:n,value:e});return new Promise((u,p)=>{c.onsuccess=_=>{u()},r.onerror=_=>{var w;p(vi.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const Wp=new fl.Yd("@firebase/app-check");function Kp(n,e){return(0,mn.hl)()?function QM(n,e){return function pI(n,e){return zb.apply(this,arguments)}(function mI(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Wp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function I_(){return qp().enabled}function D_(){return qb.apply(this,arguments)}function qb(){return(qb=(0,ve.Z)(function*(){const n=qp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Zb={error:"UNKNOWN_ERROR"};function Wb(n){return mn.US.encodeString(JSON.stringify(n),!1)}function Yp(n){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,ve.Z)(function*(n,e=!1){const t=n.app;Yu(t);const r=Hn(t);let c,i=r.token;if(i&&!Qu(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(Qu(_)?i=_:yield Kp(t,void 0))}if(!e&&i&&Qu(i))return{token:i.token};let p,u=!1;if(I_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Yo(dI(t,yield D_()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const _=yield r.exchangeTokenPromise;return yield Kp(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield Hn(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Wp.warn(_.message):Wp.error(_),c=_}return i?c?p=Qu(i)?{token:i.token,internalError:c}:Xb(c):(p={token:i.token},r.token=i,yield Kp(t,i)):p=Xb(c),u&&function S_(n,e){const t=Hn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,p),p})).apply(this,arguments)}function T_(n){return Kb.apply(this,arguments)}function Kb(){return(Kb=(0,ve.Z)(function*(n){const e=n.app;Yu(e);const{provider:t}=Hn(e);if(I_()){const r=yield D_(),{token:i}=yield Yo(dI(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function Qb(n,e){const t=Hn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function yI(n){const{app:e}=n,t=Hn(e);let r=t.tokenRefresher;r||(r=function vI(n){const{app:e}=n;return new qM((0,ve.Z)(function*(){let r;if(r=Hn(e).token?yield Yp(n,!0):yield Yp(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Hn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},uI.RETRIAL_MIN_WAIT,uI.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Qu(n){return n.expireTimeMillis-Date.now()>0}function Xb(n){return{token:Wb(Zb),error:n}}class bI{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Hn(this.app);for(const t of e)Qb(this.app,t.next);return Promise.resolve()}}const r1="app-check-internal";!function OI(){(0,Ku._registerComponent)(new v_.wA("app-check",n=>function wI(n,e){return new bI(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(r1).initialize()})),(0,Ku._registerComponent)(new v_.wA(r1,n=>function e1(n){return{getToken:e=>Yp(n,e),getLimitedUseToken:()=>T_(n),addTokenListener:e=>function Yb(n,e,t,r){const{app:i}=n,c=Hn(i);if(c.tokenObservers=[...c.tokenObservers,{next:t,error:r,type:e}],c.token&&Qu(c.token)){const p=c.token;Promise.resolve().then(()=>{t({token:p.token}),yI(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>yI(n))}(n,"INTERNAL",e),removeTokenListener:e=>Qb(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ku.registerVersion)("@firebase/app-check","0.8.0")}();class ml{constructor(){return(0,Zr.vb)("app-check")}}typeof window<"u"&&window;var LI=O(7142);const BI=new a.OlP("angularfire2.auth.use-emulator"),r0=new a.OlP("angularfire2.auth.settings"),o0=new a.OlP("angularfire2.auth.tenant-id"),s0=new a.OlP("angularfire2.auth.langugage-code"),a0=new a.OlP("angularfire2.auth.use-device-language"),UI=new a.OlP("angularfire.auth.persistence"),HI=(n,e,t,r,i,c,u,p)=>(0,Io.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,c&&_.useDeviceLanguage(),u)for(const[w,D]of Object.entries(u))_.settings[w]=D;return p&&_.setPersistence(p),_},[t,r,i,c,u,p]);let c0=(()=>{class n{constructor(t,r,i,c,u,p,_,w,D,M,L,$){const W=new Jt.x,J=(0,ct.of)(void 0).pipe((0,Mb.Q)(u.outsideAngular),(0,Gr.w)(()=>c.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,5967)))),(0,rt.U)(()=>(0,Io.on)(t,c,r)),(0,rt.U)(he=>HI(he,c,p,w,D,M,_,L)),Ob({bufferSize:1,refCount:!1}));if(Ms(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ct.of)(null);else{J.pipe(Ru()).subscribe();const He=J.pipe((0,Gr.w)(st=>st.getRedirectResult().then(Tt=>Tt,()=>null)),Zr.iC,Ob({bufferSize:1,refCount:!1})),et=J.pipe((0,Gr.w)(st=>new Cr.y(Tt=>({unsubscribe:c.runOutsideAngular(()=>st.onAuthStateChanged(Ft=>Tt.next(Ft),Ft=>Tt.error(Ft),()=>Tt.complete()))})))),Ge=J.pipe((0,Gr.w)(st=>new Cr.y(Tt=>({unsubscribe:c.runOutsideAngular(()=>st.onIdTokenChanged(Ft=>Tt.next(Ft),Ft=>Tt.error(Ft),()=>Tt.complete()))}))));this.authState=He.pipe(Pb(et),(0,Nb.R)(u.outsideAngular),(0,Mb.Q)(u.insideAngular)),this.user=He.pipe(Pb(Ge),(0,Nb.R)(u.outsideAngular),(0,Mb.Q)(u.insideAngular)),this.idToken=this.user.pipe((0,Gr.w)(st=>st?(0,Dn.D)(st.getIdToken()):(0,ct.of)(null))),this.idTokenResult=this.user.pipe((0,Gr.w)(st=>st?(0,Dn.D)(st.getIdTokenResult()):(0,ct.of)(null))),this.credential=(0,hp.T)(He,W,this.authState.pipe(pn(st=>!st))).pipe((0,rt.U)(st=>st?.user?st:null),(0,Nb.R)(u.outsideAngular),(0,Mb.Q)(u.insideAngular))}return(0,Io.pX)(this,J,c,{spy:{apply:(he,He,et)=>{(he.startsWith("signIn")||he.startsWith("createUser"))&&et.then(Ge=>W.next(Ge))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Io.Dh),a.LFG(Io.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Zr.HU),a.LFG(BI,8),a.LFG(r0,8),a.LFG(o0,8),a.LFG(s0,8),a.LFG(a0,8),a.LFG(UI,8),a.LFG(ml,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),l0=(()=>{class n{constructor(){LI.Z.registerVersion("angularfire",Zr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[c0]}),n})(),Xu=(()=>{class n{constructor(t,r,i){this.afAuth=t,this.http=r,this.router=i,this.apiUrl="api/usuarios/login",this.tokenKey="authToken"}registerUser(t,r){return this.afAuth.createUserWithEmailAndPassword(t,r)}loginUser(t,r){return this.afAuth.signInWithEmailAndPassword(t,r)}login(t,r){const i=new yi({"Content-Type":"application/json"});this.http.post(this.apiUrl,{email:t,password:r},{headers:i}).subscribe(u=>{const p=u.token;0!=p&&(this.saveToken(p),this.router.navigate(["/profile"]))},u=>{console.error("Error de login usuario:",u)})}saveToken(t){localStorage.setItem(this.tokenKey,t)}getToken(){return localStorage.getItem(this.tokenKey)}logout(){localStorage.removeItem(this.tokenKey)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(c0),a.LFG(Pi),a.LFG(qr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bF=(()=>{class n{constructor(t){this.auth=t,this.href="/login"}ngOnInit(){let t=this.auth.getToken();"0"!=t&&null!=t&&(this.href="/profile")}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Xu))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-menu-desktop"]],decls:20,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["href",""],["src","../../assets/img/logo_ecoMarket.png","alt","logotipo EcoMarket","width","300rem","height","auto"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","href","",1,"nav-link","active"],["href","/products",1,"nav-link"],["href","/cart",1,"nav-link"],["href","mailto:info@ecomarket.com",1,"nav-link"],[3,"href"],[1,"fa-solid","fa-user"]],template:function(t,r){1&t&&(a.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),a._UZ(3,"img",3),a.qZA(),a.TgZ(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),a._uU(8,"Home"),a.qZA()(),a.TgZ(9,"li",6)(10,"a",8),a._uU(11,"Productos"),a.qZA()(),a.TgZ(12,"li",6)(13,"a",9),a._uU(14,"Carrito"),a.qZA()(),a.TgZ(15,"li",6)(16,"a",10),a._uU(17,"Contacto"),a.qZA()()()()(),a.TgZ(18,"a",11),a._UZ(19,"i",12),a.qZA()()),2&t&&(a.xp6(18),a.s9C("href",r.href,a.LSH))},styles:["img[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{display:none}@media (min-width: 992px){img[_ngcontent-%COMP%]{display:block}.container-fluid[_ngcontent-%COMP%]{padding:1rem}i[_ngcontent-%COMP%]{display:block;padding:2rem;font-size:1.5rem;color:#00b597}.navbar-nav[_ngcontent-%COMP%]{font-size:1.7rem;padding-top:1rem;padding-left:1rem}}"]}),n})(),Sc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-navtop-container"]],decls:18,vars:0,consts:[[1,"navtop_container"],[1,"navtop_container_phone"],[1,"fa-brands","fa-whatsapp"],[1,"navtop_container_rrss"],["href","https://www.instagram.com/"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-instagram"],["d","M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"],["href","https://twitter.com/?lang=es"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-twitter"],["d","M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"],["href","https://www.facebook.com/"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-facebook"],["d","M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"],[1,"logo"],["href",""],["src","../../assets/img/logo_ecoMarket.png","alt","logotipo EcoMarket","width","150rem","height","auto"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"i",2),a._uU(3," 954654654 "),a.qZA(),a.TgZ(4,"div",3)(5,"a",4),a.O4$(),a.TgZ(6,"svg",5),a._UZ(7,"path",6),a.qZA()(),a.kcU(),a.TgZ(8,"a",7),a.O4$(),a.TgZ(9,"svg",8),a._UZ(10,"path",9),a.qZA()(),a.kcU(),a.TgZ(11,"a",10),a.O4$(),a.TgZ(12,"svg",11),a._UZ(13,"path",12),a.qZA()()()(),a.kcU(),a._UZ(14,"app-menu-desktop"),a.TgZ(15,"div",13)(16,"a",14),a._UZ(17,"img",15),a.qZA()())},dependencies:[bF],styles:[".navtop_container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:#005746;height:2rem}.navtop_container_phone[_ngcontent-%COMP%]{color:#fff;height:auto;width:8.5rem;display:flex;justify-content:space-evenly;align-items:center}.navtop_container_rrss[_ngcontent-%COMP%]{height:auto;width:5rem;display:flex;justify-content:space-evenly}.navtop_container_rrss[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:4.6rem;width:auto}@media (min-width: 992px){.navtop_container[_ngcontent-%COMP%]{height:3rem;font-size:1.5rem;padding:1rem}i[_ngcontent-%COMP%]{margin:1rem}svg[_ngcontent-%COMP%]{height:1.5rem;width:1.5rem;margin:.4rem}.logo[_ngcontent-%COMP%]{display:none}}"]}),n})();function wF(n,e){if(1&n&&(a.TgZ(0,"div",4)(1,"div")(2,"a",5),a._UZ(3,"img",6),a.qZA()(),a.TgZ(4,"div",7),a._uU(5),a.qZA()()),2&n){const t=e.$implicit;a.xp6(2),a.s9C("href",t.href,a.LSH),a.xp6(1),a.s9C("src",t.imgsrc,a.LSH),a.MGl("alt","Image of ",t.name,""),a.xp6(2),a.Oqu(t.name)}}let EF=(()=>{class n{constructor(t){this.http=t}ngOnInit(){this.cargarDatos(),this.categoryName=window.location.pathname.split("/").pop()}cargarDatos(){this.http.get("../../assets/category_product.json").subscribe(t=>{this.category=t.category})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Pi))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-categories"]],decls:5,vars:2,consts:[[1,"grid"],[1,"row"],["class","col-4 col-sm-4 col-md-2 col-lg-2 col-xl-2 col-xxl-2 category",4,"ngFor","ngForOf"],[1,"category-name"],[1,"col-4","col-sm-4","col-md-2","col-lg-2","col-xl-2","col-xxl-2","category"],[3,"href"],["width","90%","height","auto",3,"src","alt"],[1,"category-general"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1),a.YNc(2,wF,6,4,"div",2),a.qZA()(),a.TgZ(3,"div",3),a._uU(4),a.qZA()),2&t&&(a.xp6(2),a.Q6J("ngForOf",r.category),a.xp6(2),a.hij(" ",r.categoryName,"\n"))},dependencies:[rs],styles:[".category[_ngcontent-%COMP%]{border:0 1px 1px 0 solid #91AD8B;background-image:linear-gradient(to bottom left,#FFF484,#91AD88);border-radius:10px;box-shadow:4px 4px 5px gray;padding-bottom:.2rem}.row[_ngcontent-%COMP%]{--bs-gutter-x: 0}.category-general[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:center;height:auto;width:100%;text-align:center;font-family:fontawesome;font-weight:600;font-size:smaller}img[_ngcontent-%COMP%]{padding:1rem}.category-name[_ngcontent-%COMP%]{text-align:center;padding:1rem;font-family:FontAwesome;font-weight:700;font-size:2rem;text-shadow:4px 4px grey}"]}),n})(),xF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-slider"]],decls:32,vars:0,consts:[["id","carouselExampleIndicators","data-bs-ride","carousel",1,"carousel","slide","mb-2"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","2","aria-label","Slide 3"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","3","aria-label","Slide 3"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","4","aria-label","Slide 3"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","5","aria-label","Slide 3"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","6","aria-label","Slide 3"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","../../../assets/img/sliders/s1letra.jpg","alt","frutas",1,"d-block","w-100"],[1,"carousel-item"],["src","../../../assets/img/sliders/s2letras.jpg","alt","hortalizas",1,"d-block","w-100"],["src","../../../assets/img/sliders/s3letras.jpg","alt","ensalada",1,"d-block","w-100"],["src","../../../assets/img/sliders/s4letras.jpg","alt","ensalada",1,"d-block","w-100"],["src","../../../assets/img/sliders/s5letras.jpg","alt","ensalada",1,"d-block","w-100"],["src","../../../assets/img/sliders/s6letras.jpg","alt","ensalada",1,"d-block","w-100"],["src","../../../assets/img/sliders/s7letras.jpg","alt","ensalada",1,"d-block","w-100"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"button",2)(3,"button",3)(4,"button",4)(5,"button",5)(6,"button",6)(7,"button",7)(8,"button",8),a.qZA(),a.TgZ(9,"div",9)(10,"div",10),a._UZ(11,"img",11),a.qZA(),a.TgZ(12,"div",12),a._UZ(13,"img",13),a.qZA(),a.TgZ(14,"div",12),a._UZ(15,"img",14),a.qZA(),a.TgZ(16,"div",12),a._UZ(17,"img",15),a.qZA(),a.TgZ(18,"div",12),a._UZ(19,"img",16),a.qZA(),a.TgZ(20,"div",12),a._UZ(21,"img",17),a.qZA(),a.TgZ(22,"div",12),a._UZ(23,"img",18),a.qZA()(),a.TgZ(24,"button",19),a._UZ(25,"span",20),a.TgZ(26,"span",21),a._uU(27,"Previous"),a.qZA()(),a.TgZ(28,"button",22),a._UZ(29,"span",23),a.TgZ(30,"span",21),a._uU(31,"Next"),a.qZA()()())}}),n})();function CF(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",4)(1,"mat-card",5)(2,"a",6),a._UZ(3,"img",7),a.qZA(),a.TgZ(4,"mat-card-content")(5,"p",8),a._uU(6),a.qZA(),a.TgZ(7,"div",9)(8,"p",10),a._uU(9),a.qZA(),a.TgZ(10,"span"),a._uU(11),a.qZA()()(),a.TgZ(12,"mat-card-actions")(13,"button",11),a.NdJ("click",function(){const c=a.CHM(t).$implicit,u=a.oxw();return a.KtG(u.addToCart(c))}),a._uU(14,"A\xf1adir al carrito"),a.qZA()()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.MGl("href","/product/",t.href,"",a.LSH),a.xp6(1),a.s9C("src",t.imgsrc,a.LSH),a.MGl("alt","Photo of ",t.name,""),a.xp6(3),a.Oqu(t.name),a.xp6(3),a.Oqu(t.price),a.xp6(2),a.Oqu(t.kgprice)}}let l1=(()=>{class n{constructor(t,r,i){this.http=t,this.router=r,this.authService=i,this.datos=[]}ngOnInit(){this.cargarDatos()}cargarDatos(){this.http.get("../../assets/category_product.json").subscribe(t=>{for(let r of t.category)switch(window.location.pathname){case"/products":if(null!=r.products)for(let i of r.products)this.datos.some(u=>u.id===i.id)||this.datos.push(i);break;case"/novedades":case"/":"/novedades"==r.href&&(this.datos=r.products);break;case"/ofertas":"/ofertas"==r.href&&(this.datos=r.products);break;case"/packs":"/packs"==r.href&&(this.datos=r.products);break;case"/frutas":"/frutas"==r.href&&(this.datos=r.products);break;case"/verdurashortalizas":"/verdurashortalizas"==r.href&&(this.datos=r.products);break;case"/temporada":"/temporada"==r.href&&(this.datos=r.products)}})}addToCart(t){const i=new yi({"Content-Type":"application/json"});if(null!=this.authService.getToken()){const c={user:this.authService.getToken(),product:t.id,name:t.name,price:t.price,kgprice:t.kgprice,quantity:1,imgsrc:t.imgsrc};this.http.post("api/usuarios/addtocart",c,{headers:i}).subscribe(u=>{console.log("cart registrado:",u)},u=>{console.error("Error al registrar usuario:",u)})}else this.router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Pi),a.Y36(qr),a.Y36(Xu))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-card"]],decls:4,vars:1,consts:[[1,"container","mt-3","mb-5"],[1,"grid"],[1,"row"],["class","col-6 col-sm-6 col-md-6 col-lg-4 col-xl-3 col-xxl-3",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-6","col-lg-4","col-xl-3","col-xxl-3"],[1,"card"],[1,"center-img",3,"href"],["mat-card-image","",3,"src","alt"],[1,"product_name"],[1,"subcontent"],[1,"price"],["mat-button","",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2),a.YNc(3,CF,15,6,"div",3),a.qZA()()()),2&t&&(a.xp6(3),a.Q6J("ngForOf",r.datos))},dependencies:[rs,gx,yx,Pv,Hg,Nv],styles:[".card[_ngcontent-%COMP%]{max-width:25rem}.subcontent[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.product_name[_ngcontent-%COMP%]{text-align:center}.price[_ngcontent-%COMP%]{margin-bottom:0}.mdc-card__actions[_ngcontent-%COMP%]{align-self:center;background-color:#005746;margin:1rem;border-radius:.5rem}.mat-mdc-button-base[_ngcontent-%COMP%]{color:#fff!important}img[_ngcontent-%COMP%]{height:6rem;width:auto}.center-img[_ngcontent-%COMP%]{display:flex;justify-content:center}@media (min-width : 768px){img[_ngcontent-%COMP%]{height:9rem;width:auto}}"]}),n})();const IF=["sidenav"];let Va=(()=>{class n{constructor(t){this.auth=t,this.reason="",this.href="/login"}ngOnInit(){let t=this.auth.getToken();"0"!=t&&null!=t&&(this.href="/profile")}open(){this.sidenav.open(),document.getElementById("container").style.zIndex="99"}close(t){this.reason=t,this.sidenav.close(),document.getElementById("container").style.zIndex="-2"}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Xu))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-menufixed"]],viewQuery:function(t,r){if(1&t&&a.Gf(IF,5),2&t){let i;a.iGM(i=a.CRH())&&(r.sidenav=i.first)}},decls:23,vars:1,consts:[["id","container",1,"example-container",3,"backdropClick"],["disableClose","",3,"keydown.escape"],["sidenav",""],["href",""],["href","/products"],["href","/cart"],["href","mailto:info@ecomarket.com"],[1,"menufixed"],[1,"fa-solid","fa-home","icostyle"],[3,"href"],[1,"fa-solid","fa-user","icostyle"],[1,"fa-solid","fa-shopping-cart","icostyle"],[1,"fa-solid","fa-bars","icostyle",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"mat-sidenav-container",0),a.NdJ("backdropClick",function(){return r.close("backdrop")}),a.TgZ(1,"mat-sidenav",1,2),a.NdJ("keydown.escape",function(){return r.close("escape")}),a.TgZ(3,"a",3)(4,"p"),a._uU(5,"Home"),a.qZA()(),a.TgZ(6,"a",4)(7,"p"),a._uU(8,"Productos"),a.qZA()(),a.TgZ(9,"a",5)(10,"p"),a._uU(11,"Carrito"),a.qZA()(),a.TgZ(12,"a",6)(13,"p"),a._uU(14,"Contacto"),a.qZA()()()(),a.TgZ(15,"div",7)(16,"a",3),a._UZ(17,"i",8),a.qZA(),a.TgZ(18,"a",9),a._UZ(19,"i",10),a.qZA(),a.TgZ(20,"a",5),a._UZ(21,"i",11),a.qZA(),a.TgZ(22,"i",12),a.NdJ("click",function(){return r.open()}),a.qZA()()),2&t&&(a.xp6(18),a.s9C("href",r.href,a.LSH))},dependencies:[Tv,lx],styles:[".menufixed[_ngcontent-%COMP%]{position:fixed;display:flex;justify-content:space-around;align-items:center;height:3.75rem;background-color:#fff484;bottom:0;left:0;right:0;z-index:1}.menu_items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-top:1rem;font-size:2rem}.icostyle[_ngcontent-%COMP%]{color:#9dcf24;font-size:1.4rem}.example-container[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:-1}.example-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:1rem}@media (min-width: 992px){.menufixed[_ngcontent-%COMP%]{display:none}}"]}),n})(),u0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-body-footer"]],decls:65,vars:0,consts:[[1,"contenedor"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-5","py-5","my-5","border-top"],[1,"col","mb-3","padding-title"],["href",""],["src","../../assets/img/logo_ecoMarket.png","alt","logotipo EcoMarket","width","300rem","height","auto"],[1,"text-body-secondary","p-2"],[1,"col","mb-3"],[1,"nav","flex-column"],[1,"nav-item","mb-2"],["href","#",1,"nav-link","p-0","text-body-secondary"],[1,"fa-brands","fa-twitter"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-instagram"],[1,"fa-brands","fa-github"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"footer",1)(2,"div",2)(3,"a",3),a._UZ(4,"img",4),a.qZA(),a.TgZ(5,"p",5),a._uU(6,"2023 \xa9 "),a.qZA()(),a._UZ(7,"div",6),a.TgZ(8,"div",6)(9,"h5"),a._uU(10,"Quienes somos"),a.qZA(),a.TgZ(11,"ul",7)(12,"li",8)(13,"a",9),a._uU(14,"Nosotros"),a.qZA()(),a.TgZ(15,"li",8)(16,"a",9),a._uU(17,"Nuestros cultivadores"),a.qZA()(),a.TgZ(18,"li",8)(19,"a",9),a._uU(20,"fotos"),a.qZA()(),a.TgZ(21,"li",8)(22,"a",9),a._uU(23,"FAQs"),a.qZA()(),a.TgZ(24,"li",8)(25,"a",9),a._uU(26,"About"),a.qZA()()()(),a.TgZ(27,"div",6)(28,"h5"),a._uU(29,"Legal"),a.qZA(),a.TgZ(30,"ul",7)(31,"li",8)(32,"a",9),a._uU(33,"Terminos y Condiciones"),a.qZA()(),a.TgZ(34,"li",8)(35,"a",9),a._uU(36,"Politica de privacidad"),a.qZA()(),a.TgZ(37,"li",8)(38,"a",9),a._uU(39,"Politica de cookis"),a.qZA()(),a.TgZ(40,"li",8)(41,"a",9),a._uU(42,"Aviso legal"),a.qZA()()()(),a.TgZ(43,"div",6)(44,"h5"),a._uU(45,"Siguenos"),a.qZA(),a.TgZ(46,"p"),a._uU(47,"\xdanete a nuestra manera de comer m\xe1s sano"),a.qZA(),a.TgZ(48,"ul",7)(49,"li",8)(50,"a",9),a._UZ(51,"i",10),a._uU(52," Twitter"),a.qZA()(),a.TgZ(53,"li",8)(54,"a",9),a._UZ(55,"i",11),a._uU(56," Facebook "),a.qZA()(),a.TgZ(57,"li",8)(58,"a",9),a._UZ(59,"i",12),a._uU(60," Instagram"),a.qZA()(),a.TgZ(61,"li",8)(62,"a",9),a._UZ(63,"i",13),a._uU(64," Github"),a.qZA()()()()()())},styles:[".padding-title[_ngcontent-%COMP%]{padding-left:2rem}.contenedor[_ngcontent-%COMP%]{background-color:#aec5ae;display:none}@media (min-width: 992px){.contenedor[_ngcontent-%COMP%]{display:block}}"]}),n})(),gl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-home"]],decls:6,vars:0,template:function(t,r){1&t&&a._UZ(0,"app-navtop-container")(1,"app-slider")(2,"app-categories")(3,"app-card")(4,"app-body-footer")(5,"app-menufixed")},dependencies:[Sc,EF,xF,l1,Va,u0]}),n})(),u1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-grid"]],decls:3,vars:0,template:function(t,r){1&t&&a._UZ(0,"app-navtop-container")(1,"app-card")(2,"app-menufixed")},dependencies:[Sc,l1,Va]}),n})();function Xp(...n){const e=(0,ep.jO)(n),{args:t,keys:r}=ov(n),i=new Cr.y(c=>{const{length:u}=t;if(!u)return void c.complete();const p=new Array(u);let _=u,w=u;for(let D=0;D<u;D++){let M=!1;(0,us.Xf)(t[D]).subscribe((0,On.x)(c,L=>{M||(M=!0,w--),p[D]=L},()=>_--,void 0,()=>{(!_||!M)&&(w||c.next(r?EE(r,p):p),c.complete())}))}});return e?i.pipe(ds(e)):i}let jI=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),Vh=(()=>{class n extends jI{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const Ba=new a.OlP("NgValueAccessor"),d1={provide:Ba,useExisting:(0,a.Gpc)(()=>Jp),multi:!0},f1=new a.OlP("CompositionEventMode");let Jp=(()=>{class n extends jI{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function h1(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(f1,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&a.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[a._Bn([d1]),a.qOj]}),n})();function _l(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function h0(n){return null!=n&&"number"==typeof n.length}const bi=new a.OlP("NgValidators"),Ju=new a.OlP("NgAsyncValidators"),js=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class zs{static min(e){return function zI(n){return e=>{if(_l(e.value)||_l(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function p1(n){return e=>{if(_l(e.value)||_l(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Ni(e)}static requiredTrue(e){return function $I(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function O_(n){return _l(n.value)||js.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function GI(n){return e=>_l(e.value)||!h0(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return qI(e)}static pattern(e){return function P_(n){if(!n)return em;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(_l(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return KI(e)}static composeAsync(e){return YI(e)}}function Ni(n){return _l(n.value)?{required:!0}:null}function qI(n){return e=>h0(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function em(n){return null}function f0(n){return null!=n}function ZI(n){return(0,a.QGY)(n)?(0,Dn.D)(n):n}function p0(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function m0(n,e){return e.map(t=>t(n))}function g0(n){return n.map(e=>function WI(n){return!n.validate}(e)?e:t=>e.validate(t))}function KI(n){if(!n)return null;const e=n.filter(f0);return 0==e.length?null:function(t){return p0(m0(t,e))}}function N_(n){return null!=n?KI(g0(n)):null}function YI(n){if(!n)return null;const e=n.filter(f0);return 0==e.length?null:function(t){return Xp(m0(t,e).map(ZI)).pipe((0,rt.U)(p0))}}function tm(n){return null!=n?YI(g0(n)):null}function Ac(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function _0(n){return n._rawValidators}function F_(n){return n._rawAsyncValidators}function nm(n){return n?Array.isArray(n)?n:[n]:[]}function L_(n,e){return Array.isArray(n)?n.includes(e):n===e}function m1(n,e){const t=nm(e);return nm(n).forEach(i=>{L_(t,i)||t.push(i)}),t}function y0(n,e){return nm(e).filter(t=>!L_(n,t))}class QI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=N_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Qi extends QI{get formDirective(){return null}get path(){return null}}class yl extends QI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class XI{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let rm=(()=>{class n extends XI{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(yl,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.qOj]}),n})(),im=(()=>{class n extends XI{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Qi,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[a.qOj]}),n})();const sm="VALID",E0="INVALID",am="PENDING",U_="DISABLED";function H_(n){return(C0(n)?n.validators:n)||null}function x0(n,e){return(C0(e)?e.asyncValidators:n)||null}function C0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function I1(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new a.vHH(1e3,"");if(!r[t])throw new a.vHH(1001,"")}function D1(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new a.vHH(1002,"")})}class I0{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===sm}get invalid(){return this.status===E0}get pending(){return this.status==am}get disabled(){return this.status===U_}get enabled(){return this.status!==U_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(m1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(m1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(y0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(y0(e,this._rawAsyncValidators))}hasValidator(e){return L_(this._rawValidators,e)}hasAsyncValidator(e){return L_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=am,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=U_,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=sm,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sm||this.status===am)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?U_:sm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=am,this._hasOwnPendingAsyncValidator=!0;const t=ZI(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?U_:this.errors?E0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(am)?am:this._anyControlsHaveStatus(E0)?E0:sm}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){C0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function x1(n){return Array.isArray(n)?N_(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function C1(n){return Array.isArray(n)?tm(n):n||null}(this._rawAsyncValidators)}}class j_ extends I0{constructor(e,t,r){super(H_(t),x0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){D1(this,0,e),Object.keys(e).forEach(r=>{I1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,c)=>{r=t(r,i,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class tD extends j_{}const vl=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>$s}),$s="always";function ed(n,e,t=$s){lm(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function RF(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&T1(n,e)})}(n,e),function nD(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function kF(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&T1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function T0(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Bh(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),td(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function z_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lm(n,e){const t=_0(n);null!==e.validator?n.setValidators(Ac(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=F_(n);null!==e.asyncValidator?n.setAsyncValidators(Ac(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();z_(e._rawValidators,i),z_(e._rawAsyncValidators,i)}function td(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=_0(n);if(Array.isArray(i)&&i.length>0){const c=i.filter(u=>u!==e.validator);c.length!==i.length&&(t=!0,n.setValidators(c))}}if(null!==e.asyncValidator){const i=F_(n);if(Array.isArray(i)&&i.length>0){const c=i.filter(u=>u!==e.asyncValidator);c.length!==i.length&&(t=!0,n.setAsyncValidators(c))}}}const r=()=>{};return z_(e._rawValidators,r),z_(e._rawAsyncValidators,r),t}function T1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function P1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function N1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const hm=class extends I0{constructor(e=null,t,r){super(H_(t),x0(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),C0(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=N1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){P1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){P1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){N1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let fm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const aD={provide:Ba,useExisting:(0,a.Gpc)(()=>lD),multi:!0};let cD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),q_=(()=>{class n{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t)return void this._accessors.splice(r,1)}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return!!t[0].control&&t[0]._parent===r._control._parent&&t[1].name===r.name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:cD}),n})(),lD=(()=>{class n extends Vh{constructor(t,r,i,c){super(t,r),this._registry=i,this._injector=c,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,a.f3M)(vl,{optional:!0})??$s}ngOnInit(){this._control=this._injector.get(yl),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(q_),a.Y36(a.zs3))},n.\u0275dir=a.lG2({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,r){1&t&&a.NdJ("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[a._Bn([aD]),a.qOj]}),n})();const uD=new a.OlP("NgModelWithFormControlWarning"),LF={provide:Qi,useExisting:(0,a.Gpc)(()=>Uh)};let Uh=(()=>{class n extends Qi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(td(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return ed(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Bh(t.control||null,t,!1),function PF(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function A0(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Bh(r||null,t),(n=>n instanceof hm)(i)&&(ed(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function rD(n,e){lm(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function S1(n,e){return td(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lm(this.form,this),this._oldForm&&td(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(bi,10),a.Y36(Ju,10),a.Y36(vl,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([LF]),a.qOj,a.TTD]}),n})();const BF={provide:yl,useExisting:(0,a.Gpc)(()=>Z_)};let Z_=(()=>{class n extends yl{set isDisabled(t){}constructor(t,r,i,c,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.name=null,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function um(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(c=>{c.constructor===Jp?t=c:function k1(n){return Object.getPrototypeOf(n.constructor)===Vh}(c)?r=c:i=c}),i||r||t||null}(0,c)}ngOnChanges(t){this._added||this._setUpControl(),function S0(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function cm(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(a.Y36(Qi,13),a.Y36(bi,10),a.Y36(Ju,10),a.Y36(Ba,10),a.Y36(uD,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([BF]),a.qOj,a.TTD]}),n})();const UF={provide:Ba,useExisting:(0,a.Gpc)(()=>o),multi:!0};function fD(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let o=(()=>{class n extends Vh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=fD(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function HF(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&a.NdJ("change",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([UF]),a.qOj]}),n})(),s=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(fD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(o,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const l={provide:Ba,useExisting:(0,a.Gpc)(()=>y),multi:!0};function d(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let y=(()=>{class n extends Vh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(c=>this._getOptionId(c));r=(c,u)=>{c._setSelected(i.indexOf(u.toString())>-1)}}else r=(i,c)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],c=r.selectedOptions;if(void 0!==c){const u=c;for(let p=0;p<u.length;p++){const w=this._getOptionValue(u[p].value);i.push(w)}}else{const u=r.options;for(let p=0;p<u.length;p++){const _=u[p];if(_.selected){const w=this._getOptionValue(_.value);i.push(w)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function h(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&a.NdJ("change",function(c){return r.onChange(c.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([l]),a.qOj]}),n})(),E=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(d(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(d(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(y,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let k=(()=>{class n{constructor(){this._validator=em}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):em,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const Le={provide:bi,useExisting:(0,a.Gpc)(()=>pt),multi:!0};let pt=(()=>{class n extends k{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.VuI,this.createValidator=t=>Ni}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&a.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([Le]),a.qOj]}),n})();const W_={provide:bi,useExisting:(0,a.Gpc)(()=>N0),multi:!0};let N0=(()=>{class n extends k{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function C(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>qI(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&a.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[a._Bn([W_]),a.qOj]}),n})(),zF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[cD]}),n})();class $F extends I0{constructor(e,t,r){super(H_(t),x0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){D1(this,0,e),e.forEach((r,i)=>{I1(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function GF(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let pD=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let c={};return GF(r)?c=r:null!==r&&(c.validators=r.validator,c.asyncValidators=r.asyncValidator),new j_(i,c)}record(t,r=null){const i=this._reduceControls(t);return new tD(i,r)}control(t,r,i){let c={};return this.useNonNullable?(GF(r)?c=r:(c.validators=r,c.asyncValidators=i),new hm(t,{...c,nonNullable:!0})):new hm(t,r,i)}array(t,r,i){const c=t.map(u=>this._createControl(u));return new $F(c,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof hm||t instanceof I0?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xH=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vl,useValue:t.callSetDisabledState??$s}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[zF]}),n})(),mD=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:uD,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:vl,useValue:t.callSetDisabledState??$s}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[zF]}),n})();function CH(n,e){1&n&&(a.TgZ(0,"label"),a._uU(1,"* El email no es v\xe1lido."),a.qZA())}function IH(n,e){1&n&&(a.TgZ(0,"label"),a._uU(1,"*La contrase\xf1a debe tener al menos 6 caracteres"),a.qZA())}let DH=(()=>{class n{constructor(t,r,i){this.fb=t,this.auth=r,this.router=i,this.usuario=this.fb.group({email:["",[zs.required,zs.email]],password:["",[zs.required,zs.minLength(4)]]})}ngOnInit(){}login(){this.auth.login(this.usuario.value.email,this.usuario.value.password)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(pD),a.Y36(Xu),a.Y36(qr))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-body-login"]],decls:21,vars:4,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-4"],[3,"formGroup"],["for","validationServerUsername",1,"form-label","color-label"],["formControlName","email","autocapitalize","off","placeholder","Introduce tu email",1,"form-control"],[4,"ngIf"],[1,"form-label","color-label","mt-1"],["formControlName","password","placeholder","Introduce una contrase\xf1a","type","password",1,"form-control"],[1,"padding"],[1,"col-12","mt-1"],["type","submit","color","primary","expand","block",1,"btn","btn-color","mt-1",3,"disabled","click"],["href","/register",1,"color-label"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div")(5,"label",4),a._uU(6,"Email"),a.qZA(),a._UZ(7,"input",5),a.qZA(),a.YNc(8,CH,2,0,"label",6),a.TgZ(9,"div")(10,"label",7),a._uU(11,"Contrase\xf1a"),a.qZA(),a._UZ(12,"input",8),a.qZA(),a.YNc(13,IH,2,0,"label",6),a.TgZ(14,"div",9)(15,"div",10)(16,"button",11),a.NdJ("click",function(){return r.login()}),a._uU(17,"Entrar"),a.qZA()(),a.TgZ(18,"div",10)(19,"a",12),a._uU(20,"Registrate con nosotros"),a.qZA()()()()()()()),2&t&&(a.xp6(3),a.Q6J("formGroup",r.usuario),a.xp6(5),a.Q6J("ngIf",(null==r.usuario.controls.email.errors?null:r.usuario.controls.email.errors.email)&&(r.usuario.touched||r.usuario.dirty)),a.xp6(5),a.Q6J("ngIf",(null==r.usuario.controls.password.errors?null:r.usuario.controls.password.errors.minlength)&&(r.usuario.touched||r.usuario.dirty)),a.xp6(3),a.Q6J("disabled",!r.usuario.valid))},dependencies:[hi,fm,Jp,rm,im,Uh,Z_],styles:[".btn-color[_ngcontent-%COMP%]{background-color:#00b597;color:#fff}.color-label[_ngcontent-%COMP%]{color:#005746}"]}),n})(),TH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-header-login"]],decls:7,vars:0,consts:[[1,"header"],[1,"heading"],[1,"text-1"],[1,"subtitle"],[1,"text-2"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"p",2),a._uU(3,"Iniciar sesi\xf3n"),a.qZA(),a.TgZ(4,"div",3)(5,"p",4),a._uU(6,"\xa1Feliz compra!"),a.qZA()()()())},styles:["@font-face{font-family:Montserrat;src:url(MontserratAlternates-Bold.0f4f51f93438aac3.ttf)}@font-face{font-family:Roboto;src:url(Roboto-Regular.d0bc87a819730d23.ttf)}header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;gap:24px}.heading[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;gap:12px;background-color:#fff0}.text-1[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;font-size:24px;font-family:Montserrat;line-height:auto;color:#00b597}.subtitle[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;background-color:#fff0}.text-2[_ngcontent-%COMP%]{text-align:left;vertical-align:middle;font-size:16px;font-family:Roboto;line-height:auto;color:#6c757d}"]}),n})(),SH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-login"]],decls:4,vars:0,template:function(t,r){1&t&&a._UZ(0,"app-navtop-container")(1,"app-header-login")(2,"app-body-login")(3,"app-menufixed")},dependencies:[Sc,Va,DH,TH]}),n})(),AH=(()=>{class n{constructor(t){this.http=t,this.apiUrl="api/usuarios/cart/",this.tokenKey="authToken"}getCartData(){const t=new yi({"Content-Type":"application/json"});return this.apiUrl=this.apiUrl+localStorage.getItem(this.tokenKey),this.http.get(this.apiUrl,{headers:t})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Pi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-logo-cart"]],decls:8,vars:0,consts:[[1,"logo"],[1,"fa-solid","fa-shopping-cart"],["href",""]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div"),a._UZ(2,"i",1),a.qZA(),a.TgZ(3,"div"),a._uU(4,"Tu carrito"),a.qZA()(),a.TgZ(5,"a",2)(6,"p"),a._uU(7,"Seguir comprando"),a.qZA()())},styles:[".logo[_ngcontent-%COMP%]{display:flex;justify-content:center;color:#00b597;font-size:1.5rem}.logo[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2){margin-left:.3em}p[_ngcontent-%COMP%]{color:#005746;padding-top:1rem;text-align:center;text-decoration:underline}@media (min-width: 992px){.logo[_ngcontent-%COMP%]{font-size:2.5rem}p[_ngcontent-%COMP%]{font-size:1.5rem}}"]}),n})(),RH=(()=>{class n{constructor(t){this.router=t,this.productNumber=1}ngOnInit(){null==this.inputData?this.router.navigate(["/login"]):console.log(this.inputData)}add(){let t=document.getElementById("count"+this.productNumber).innerHTML;document.getElementById("count"+this.productNumber).innerHTML=(1+parseInt(t,10)).toString()}remove(){let t=document.getElementById("count"+this.productNumber).innerHTML;document.getElementById("count"+this.productNumber).innerHTML=(parseInt(t,10)-1).toString()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(qr))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-products"]],inputs:{inputData:"inputData"},decls:22,vars:6,consts:[[1,"product-card"],["alt","",3,"src"],[1,"info"],[1,"price"],[1,"counter"],[1,"counter-box"],[3,"click"],[3,"id"],[1,"fa-solid","fa-trash"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a._UZ(1,"img",1),a.TgZ(2,"div",2)(3,"div"),a._uU(4,"categoria"),a.qZA(),a.TgZ(5,"div"),a._uU(6),a.qZA(),a.TgZ(7,"div",3)(8,"div"),a._uU(9),a.qZA(),a.TgZ(10,"div"),a._uU(11),a.qZA()(),a.TgZ(12,"div",4)(13,"div",5)(14,"div",6),a.NdJ("click",function(){return r.remove()}),a._uU(15,"-"),a.qZA(),a.TgZ(16,"div",7),a._uU(17),a.qZA(),a.TgZ(18,"div",6),a.NdJ("click",function(){return r.add()}),a._uU(19,"+"),a.qZA()(),a.TgZ(20,"div"),a._UZ(21,"i",8),a.qZA()()()()),2&t&&(a.xp6(1),a.s9C("src",r.inputData.imgsrc,a.LSH),a.xp6(5),a.Oqu(r.inputData.name),a.xp6(3),a.Oqu(r.inputData.price),a.xp6(2),a.Oqu(r.inputData.kgprice),a.xp6(5),a.MGl("id","count",r.productNumber,""),a.xp6(1),a.Oqu(r.inputData.quantity))},styles:[".product-card[_ngcontent-%COMP%]{display:flex;border-bottom:solid 1px #00B597;margin:1rem}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;height:auto}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:50%}.price[_ngcontent-%COMP%], .counter[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-right:1rem}.counter-box[_ngcontent-%COMP%]{display:flex}.counter-box[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(1){border:solid 1px #00B597;padding:0 1rem}.counter-box[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2){border:solid 1px #00B597;padding:0 1.5rem}.counter-box[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3){border:solid 1px #00B597;padding:0 1rem}@media (min-width: 992px){.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40%}.info[_ngcontent-%COMP%]{width:60%;font-size:2.5rem;padding-right:.5rem}}"]}),n})(),Z1=(()=>{class n{constructor(t){this.http=t,this.apiUrl="",this.tokenKey="authToken"}getUserFormData(){const t=new yi({"Content-Type":"application/json"});return this.apiUrl="api/usuarios/form/",this.apiUrl=this.apiUrl+localStorage.getItem(this.tokenKey),this.http.get(this.apiUrl,{headers:t})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Pi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kH=(()=>{class n{constructor(t,r,i){this.authService=t,this.http=r,this.userFormService=i,this.href="/formulario"}ngOnInit(){this.userFormService.getUserFormData().subscribe(t=>{this.href="/checkout"},t=>{console.error("Error de obtenci\xf3n de datos de usuario:",t)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Xu),a.Y36(Pi),a.Y36(Z1))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-payment"]],decls:20,vars:1,consts:[[1,"container"],[1,"address-container"],[1,"fa-solid","fa-truck","icostyle"],["data-bs-toggle","collapse","href","#direction","role","button","aria-expanded","false"],[1,"fa-solid","fa-caret-down","icostyle"],["id","direction",1,"collapse"],[1,"card","card-body"],[1,"price-container"],[1,"card"],[3,"href"],["mat-button",""],["src","../../../assets/img/pago.jpg","alt","cards"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"i",2),a.TgZ(3,"p"),a._uU(4,"Comprobar direcci\xf3n de entrega"),a.qZA(),a.TgZ(5,"a",3),a._UZ(6,"i",4),a.qZA()(),a.TgZ(7,"div",5)(8,"div",6),a._uU(9," Some placeholder content for the collapse component. This panel is hidden by default but revealed when the user activates the relevant trigger. "),a.qZA()(),a.TgZ(10,"div",7)(11,"p"),a._uU(12,"Total a pagar:"),a.qZA(),a.TgZ(13,"p"),a._uU(14,"8.40\u20ac"),a.qZA()(),a.TgZ(15,"div",8)(16,"a",9)(17,"button",10),a._uU(18,"Pagar"),a.qZA()(),a._UZ(19,"img",11),a.qZA()()),2&t&&(a.xp6(16),a.s9C("href",r.href,a.LSH))},styles:[".address-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.address-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.1rem}.address-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:0 1rem}.price-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:1rem}.price-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0 1rem;margin:0}.card[_ngcontent-%COMP%]{margin-bottom:4rem;border:none}.card-body[_ngcontent-%COMP%]{margin:1rem}.icostyle[_ngcontent-%COMP%]{color:#005746}button[_ngcontent-%COMP%]{color:#fff!important;background-color:#005746;margin:0 1rem 1rem;width:95%;border-radius:.5rem}@media (min-width: 911px){button[_ngcontent-%COMP%]{color:#fff!important;background-color:#005746;margin:0 1rem 1rem;width:100%;border-radius:.5rem}img[_ngcontent-%COMP%]{width:25%;margin:0 auto}}"]}),n})();function OH(n,e){if(1&n&&(a.TgZ(0,"div"),a._UZ(1,"app-products",1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Q6J("inputData",t)}}let PH=(()=>{class n{constructor(t){this.cartService=t,this.cartList=[]}ngOnInit(){this.cartService.getCartData().subscribe(t=>{this.cartList=t},t=>{console.error("Error de obtenci\xf3n de datos de usuario:",t)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(AH))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-cart"]],decls:5,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"inputData"]],template:function(t,r){1&t&&(a._UZ(0,"app-navtop-container")(1,"app-logo-cart"),a.YNc(2,OH,2,1,"div",0),a._UZ(3,"app-payment")(4,"app-menufixed")),2&t&&(a.xp6(2),a.Q6J("ngForOf",r.cartList))},dependencies:[rs,Sc,Va,MH,RH,kH]}),n})(),NH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-header-profile"]],decls:4,vars:0,consts:[[1,"profile","d-flex","align-items-center","justify-content-center"],[1,"fa-solid","fa-user"],[1,"text-1"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a._UZ(1,"i",1),a.TgZ(2,"p",2),a._uU(3,"Mi perfil"),a.qZA()())},styles:["@font-face{font-family:Montserrat;src:url(MontserratAlternates-Bold.0f4f51f93438aac3.ttf)}.text-1[_ngcontent-%COMP%]{font-size:24px;font-family:Montserrat;color:#00b597}i[_ngcontent-%COMP%]{height:32px;width:32px;color:#00b597}"]}),n})(),FH=(()=>{class n{constructor(t){this.http=t,this.apiUrl="api/usuarios/",this.tokenKey="authToken"}getUserData(){const t=new yi({"Content-Type":"application/json"});return this.apiUrl=this.apiUrl+localStorage.getItem(this.tokenKey),this.http.get(this.apiUrl,{headers:t})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Pi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LH=(()=>{class n{constructor(t,r,i){this.userService=t,this.authService=r,this.router=i}ngOnInit(){this.userService.getUserData().subscribe(t=>{this.username=t.username,this.email=t.email},t=>{console.error("Error de obtenci\xf3n de datos de usuario:",t)})}logout(){this.authService.logout(),this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(FH),a.Y36(Xu),a.Y36(qr))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-body-profile"]],decls:30,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","custom-card"],[1,"card-body"],[1,"card-title"],["href","#",1,"modify-link"],[1,"card-text"],[1,"card-text",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),a._uU(6,"Mis datos"),a.qZA(),a._UZ(7,"hr"),a.TgZ(8,"p")(9,"span"),a._uU(10,"Nombre: "),a.qZA(),a.TgZ(11,"span"),a._uU(12),a.qZA()(),a.TgZ(13,"p")(14,"span"),a._uU(15,"Email: "),a.qZA(),a.TgZ(16,"span"),a._uU(17),a.qZA()(),a.TgZ(18,"p")(19,"a",6),a._uU(20,"Modificar contrase\xf1a"),a.qZA()(),a._UZ(21,"hr"),a.TgZ(22,"p",7),a._uU(23,"Mis compras"),a.qZA(),a._UZ(24,"hr"),a.TgZ(25,"p",7),a._uU(26,"Mis direcciones"),a.qZA(),a._UZ(27,"hr"),a.TgZ(28,"p",8),a.NdJ("click",function(){return r.logout()}),a._uU(29,"Logout"),a.qZA()()()()()()),2&t&&(a.xp6(12),a.Oqu(r.username),a.xp6(5),a.Oqu(r.email))},styles:["@font-face{font-family:Roboto;src:url(Roboto-Regular.d0bc87a819730d23.ttf)}.custom-card[_ngcontent-%COMP%]{border:none;border-radius:0;margin:3rem 0;padding:2rem;box-shadow:0 2px 4px #0000001a;font-family:Roboto}.custom-card[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}.custom-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-weight:700}.custom-card[_ngcontent-%COMP%]   .modify-link[_ngcontent-%COMP%]{color:#00b597;font-weight:700}"]}),n})(),VH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-profile"]],decls:4,vars:0,template:function(t,r){1&t&&a._UZ(0,"app-navtop-container")(1,"app-header-profile")(2,"app-body-profile")(3,"app-menufixed")},dependencies:[Sc,Va,NH,LH],styles:[".profile[_ngcontent-%COMP%]{height:32px;width:153px}.text-1[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;font-size:24px;font-family:Montserrat;line-height:auto;color:#00b597}.img-2[_ngcontent-%COMP%]{height:32px;width:32px}"]}),n})();function BH(n,e){if(1&n&&(a.TgZ(0,"div")(1,"div",2)(2,"div",3)(3,"h4"),a._uU(4),a.qZA()()(),a.TgZ(5,"div",4),a._UZ(6,"img",5)(7,"i",6),a.qZA(),a.TgZ(8,"div",7)(9,"h4"),a._uU(10,"Descripci\xf3n:"),a.qZA(),a.TgZ(11,"span"),a._uU(12),a.qZA()(),a.TgZ(13,"div",8)(14,"button",9),a._uU(15," Productos en stock Kg. "),a.TgZ(16,"span",10),a._uU(17),a.qZA()()(),a.TgZ(18,"div",11)(19,"div",12)(20,"div",13)(21,"div",14)(22,"span"),a._uU(23,"Precio"),a.qZA(),a.TgZ(24,"p"),a._uU(25),a.TgZ(26,"span",15),a._uU(27,"Kg."),a.qZA()(),a.TgZ(28,"span"),a._uU(29,"IVA INCLUIDO"),a.qZA()()()(),a.TgZ(30,"div",12)(31,"div",16)(32,"span",17),a._uU(33,"Precio anterior"),a.qZA(),a.TgZ(34,"p"),a._uU(35),a.qZA()(),a.TgZ(36,"div",18)(37,"span"),a._uU(38,"Ahorra hasta un "),a.TgZ(39,"p",19),a._uU(40,"30%"),a._UZ(41,"i",20),a.qZA()()()()()()),2&n){const t=a.oxw().$implicit;a.xp6(4),a.Oqu(t.name),a.xp6(2),a.s9C("src",t.imgsrc,a.LSH),a.xp6(6),a.Oqu(t.descripcion),a.xp6(5),a.Oqu(t.stock),a.xp6(8),a.Oqu(t.price),a.xp6(10),a.Oqu(t.kgprice)}}function UH(n,e){if(1&n&&(a.TgZ(0,"div"),a.YNc(1,BH,42,6,"div",1),a.qZA()),2&n){const t=e.$implicit,r=a.oxw();a.xp6(1),a.Q6J("ngIf",t.href===r.path)}}let HH=(()=>{class n{constructor(t){this.http=t,this.products=[],this.vista=!1}ngOnInit(){this.path=window.location.pathname.split("/product/").pop(),this.cargarDatos()}cargarDatos(){this.http.get("../../assets/category_product.json").subscribe(t=>{this.categories=t.category;for(let r of this.categories)if(null!=r.products)for(let i of r.products)this.products.some(u=>u.id===i.id)||this.products.push(i)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Pi))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-product"]],decls:3,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"container"],[1,"cont-top"],[1,"imgprod"],[3,"src"],[1,"fa-solid","fa-magnifying-glass-plus"],[1,"cont-des"],[1,"butinfo"],["type","button",1,"btn","btn-info","prodstock"],[1,"badge","text-bg-secondary"],[1,"row","w-100"],[1,"col","bord"],[1,"priceprod"],[1,"col"],[1,"spkg"],[1,"descu"],[1,""],[1,"col","oferta"],[2,"color","blue"],[1,"fa-solid","fa-award","ms-3",2,"color","red"]],template:function(t,r){1&t&&(a._UZ(0,"app-navtop-container"),a.YNc(1,UH,2,1,"div",0),a._UZ(2,"app-menufixed")),2&t&&(a.xp6(1),a.Q6J("ngForOf",r.products))},dependencies:[rs,hi,Sc,Va],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 1rem}.categor[_ngcontent-%COMP%]{color:#9dcf24}.star[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 1rem}.colstar[_ngcontent-%COMP%]{fill:#9dcf24;stroke:#9dcf24}.ratiostar[_ngcontent-%COMP%]{font-size:x-small;margin-right:.6rem}.hstar[_ngcontent-%COMP%]{margin-left:.6rem}.imgprod[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin:0 auto;height:auto;margin-bottom:.5rem}.imgprod[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:flex-end;margin-right:2rem}.cont-des[_ngcontent-%COMP%]{margin-left:1rem}.prodstock[_ngcontent-%COMP%]{margin-top:.5rem}.priceprod[_ngcontent-%COMP%]{padding:.5rem}.priceprod[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.spkg[_ngcontent-%COMP%]{font-size:medium}.descu[_ngcontent-%COMP%]{font-size:medium;margin-left:1rem;padding:1rem}.descu[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:medium;color:gray;text-decoration:line-through}.bord[_ngcontent-%COMP%]{display:flex;border:2px solid gray;margin:0 1.5rem 5rem;border-radius:10px;box-shadow:5px 5px 8px gray}.butinfo[_ngcontent-%COMP%]{margin-left:1rem}.butinfo[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:small;font-weight:700}.col1[_ngcontent-%COMP%]{border-radius:2px}.row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:1rem;width:100%}.oferta[_ngcontent-%COMP%]{margin:1rem}.oferta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;font-weight:900}.oferta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}@media (min-width: 576px) and (max-width: 991px){.imgprod[_ngcontent-%COMP%]{border-radius:20px;width:70%;margin:0 auto;height:auto;margin-bottom:.5rem}}@media (min-width: 992px) and (max-width: 1399px){.imgprod[_ngcontent-%COMP%]{border-radius:20px;width:60%;margin:0 auto;height:auto;margin-bottom:.5rem}}"]}),n})();function jH(n,e){1&n&&a.Hsn(0)}const zH=["*"];let qF=(()=>{class n{constructor(t){this._elementRef=t}focus(){this._elementRef.nativeElement.focus()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),n})(),ZF=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkStepLabel",""]]}),n})(),$H=0;const W1=new a.OlP("STEPPER_GLOBAL_OPTIONS");let K1=(()=>{class n{get editable(){return this._editable}set editable(t){this._editable=In(t)}get optional(){return this._optional}set optional(t){this._optional=In(t)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(t){this._completedOverride=In(t)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(t){this._customError=In(t)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(t,r){this._stepper=t,this.interacted=!1,this.interactedStream=new a.vpe,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=r||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??null!=this._customError}}return n.\u0275fac=function(t){return new(t||n)(a.Y36((0,a.Gpc)(()=>gD)),a.Y36(W1,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-step"]],contentQueries:function(t,r,i){if(1&t&&a.Suo(i,ZF,5),2&t){let c;a.iGM(c=a.CRH())&&(r.stepLabel=c.first)}},viewQuery:function(t,r){if(1&t&&a.Gf(a.Rgc,7),2&t){let i;a.iGM(i=a.CRH())&&(r.content=i.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state",editable:"editable",optional:"optional",completed:"completed",hasError:"hasError"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[a.TTD],ngContentSelectors:zH,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.YNc(0,jH,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),n})(),gD=(()=>{class n{get linear(){return this._linear}set linear(t){this._linear=In(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){const r=_o(t);this.steps&&this._steps?(this._isValidIndex(r),this.selected?._markAsInteracted(),this._selectedIndex!==r&&!this._anyControlsInvalidOrPending(r)&&(r>=this._selectedIndex||this.steps.toArray()[r].editable)&&this._updateSelectedItemIndex(r)):this._selectedIndex=r}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(t){this.selectedIndex=t&&this.steps?this.steps.toArray().indexOf(t):-1}get orientation(){return this._orientation}set orientation(t){this._orientation=t,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===t)}constructor(t,r,i){this._dir=t,this._changeDetectorRef=r,this._elementRef=i,this._destroyed=new Jt.x,this.steps=new a.n_E,this._sortedHeaders=new a.n_E,this._linear=!1,this._selectedIndex=0,this.selectionChange=new a.vpe,this.selectedIndexChange=new a.vpe,this._orientation="horizontal",this._groupId=$H++}ngAfterContentInit(){this._steps.changes.pipe(qo(this._steps),or(this._destroyed)).subscribe(t=>{this.steps.reset(t.filter(r=>r._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe(qo(this._stepHeader),or(this._destroyed)).subscribe(t=>{this._sortedHeaders.reset(t.toArray().sort((r,i)=>r._elementRef.nativeElement.compareDocumentPosition(i._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new DE(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:(0,ct.of)()).pipe(qo(this._layoutDirection()),or(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(t=>t.reset()),this._stateChanged()}_getStepLabelId(t){return`cdk-step-label-${this._groupId}-${t}`}_getStepContentId(t){return`cdk-step-content-${this._groupId}-${t}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(t){const r=t-this._selectedIndex;return r<0?"rtl"===this._layoutDirection()?"next":"previous":r>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(t,r="number"){const i=this.steps.toArray()[t],c=this._isCurrentStep(t);return i._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(i,c):this._getGuidelineLogic(i,c,r)}_getDefaultIndicatorLogic(t,r){return t._showError()&&t.hasError&&!r?"error":!t.completed||r?"number":t.editable?"edit":"done"}_getGuidelineLogic(t,r,i="number"){return t._showError()&&t.hasError&&!r?"error":t.completed&&!r?"done":t.completed&&r?i:t.editable&&r?"edit":i}_isCurrentStep(t){return this._selectedIndex===t}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(t){const r=this.steps.toArray();this.selectionChange.emit({selectedIndex:t,previouslySelectedIndex:this._selectedIndex,selectedStep:r[t],previouslySelectedStep:r[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(t):this._keyManager.updateActiveItem(t),this._selectedIndex=t,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(t){const r=Ec(t),i=t.keyCode,c=this._keyManager;null==c.activeItemIndex||r||32!==i&&13!==i?c.setFocusOrigin("keyboard").onKeydown(t):(this.selectedIndex=c.activeItemIndex,t.preventDefault())}_anyControlsInvalidOrPending(t){return!!(this._linear&&t>=0)&&this.steps.toArray().slice(0,t).some(r=>{const i=r.stepControl;return(i?i.invalid||i.pending||!r.interacted:!r.completed)&&!r.optional&&!r._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const t=this._elementRef.nativeElement,r=function Ff(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}();return t===r||t.contains(r)}_isValidIndex(t){return t>-1&&(!this.steps||t<this.steps.length)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(z,8),a.Y36(a.sBO),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkStepper",""]],contentQueries:function(t,r,i){if(1&t&&(a.Suo(i,K1,5),a.Suo(i,qF,5)),2&t){let c;a.iGM(c=a.CRH())&&(r._steps=c),a.iGM(c=a.CRH())&&(r._stepHeader=c)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"]}),n})(),GH=(()=>{class n{constructor(t){this._stepper=t,this.type="submit"}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(gD))},n.\u0275dir=a.lG2({type:n,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r._stepper.next()}),2&t&&a.Ikx("type",r.type)},inputs:{type:"type"}}),n})(),qH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[de]}),n})();class Y1{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class ZH extends Y1{constructor(e,t,r,i,c){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=c}}class Q1 extends Y1{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class WH extends Y1{constructor(e){super(),this.element=e instanceof a.SBq?e.nativeElement:e}}class KH{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof ZH?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Q1?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof WH?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}let WF=(()=>{class n extends KH{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=c=>{const u=c.element,p=this._document.createComment("dom-portal");c.setAttachedHost(this),u.parentNode.insertBefore(p,u),this._getRootNode().appendChild(u),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(u,p)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,c=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=r.createComponent(c,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(ae))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),n})(),KF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const YH=["*"];let _D;function F0(n){return function QH(){if(void 0===_D&&(_D=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(_D=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return _D}()?.createHTML(n)||n}function YF(n){return Error(`Unable to find icon with the name "${n}"`)}function QF(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function XF(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class pm{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let yD=(()=>{class n{constructor(t,r,i,c){this._httpClient=t,this._sanitizer=r,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,c){return this._addSvgIconConfig(t,r,new pm(i,null,c))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,c){const u=this._sanitizer.sanitize(a.q3G.HTML,i);if(!u)throw XF(i);const p=F0(u);return this._addSvgIconConfig(t,r,new pm("",p,c))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new pm(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const c=this._sanitizer.sanitize(a.q3G.HTML,r);if(!c)throw XF(r);const u=F0(c);return this._addSvgIconSetConfig(t,new pm("",u,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,t);if(!r)throw QF(t);const i=this._cachedIconsByUrl.get(r);return i?(0,ct.of)(vD(i)):this._loadSvgIconFromConfig(new pm(t,null)).pipe((0,$r.b)(c=>this._cachedIconsByUrl.set(r,c)),(0,rt.U)(c=>vD(c)))}getNamedSvgIcon(t,r=""){const i=JF(r,t);let c=this._svgIconConfigs.get(i);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(r,t),c)return this._svgIconConfigs.set(i,c),this._getSvgFromConfig(c);const u=this._iconSetConfigs.get(r);return u?this._getSvgFromIconSetConfigs(t,u):_h(YF(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,ct.of)(vD(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,rt.U)(r=>vD(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?(0,ct.of)(i):Xp(r.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Cc(p=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,u.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(w)),(0,ct.of)(null)})))).pipe((0,rt.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,r);if(!u)throw YF(t);return u}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const c=r[i];if(c.svgText&&c.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(c),p=this._extractSvgIconFromSet(u,t,c.options);if(p)return p}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,$r.b)(r=>t.svgText=r),(0,rt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,ct.of)(null):this._fetchIcon(t).pipe((0,$r.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const c=t.querySelector(`[id="${r}"]`);if(!c)return null;const u=c.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,i);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),i);const p=this._svgElementFromString(F0("<svg></svg>"));return p.appendChild(u),this._setSvgAttributes(p,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(F0("<svg></svg>")),i=t.attributes;for(let c=0;c<i.length;c++){const{name:u,value:p}=i[c];"id"!==u&&r.setAttribute(u,p)}for(let c=0;c<t.childNodes.length;c++)t.childNodes[c].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[c].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,c=i?.withCredentials??!1;if(!this._httpClient)throw function XH(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const u=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,r);if(!u)throw QF(r);const p=this._inProgressUrlFetches.get(u);if(p)return p;const _=this._httpClient.get(u,{responseType:"text",withCredentials:c}).pipe((0,rt.U)(w=>F0(w)),ku(()=>this._inProgressUrlFetches.delete(u)),(0,rI.B)());return this._inProgressUrlFetches.set(u,_),_}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(JF(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const c=this._resolvers[i](r,t);if(c)return e4(c)?new pm(c.url,null,c.options):new pm(c,null)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Pi,8),a.LFG(ya),a.LFG(ae,8),a.LFG(a.qLn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vD(n){return n.cloneNode(!0)}function JF(n,e){return n+":"+e}function e4(n){return!(!n.url||!n.options)}const t4=zE(class{constructor(n){this._elementRef=n}}),n4=new a.OlP("MAT_ICON_DEFAULT_OPTIONS"),r4=new a.OlP("mat-icon-location",{providedIn:"root",factory:function o4(){const n=(0,a.f3M)(ae),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),eL=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],s4=eL.map(n=>`[${n}]`).join(", "),a4=/^url\(['"]?#(.*?)['"]?\)$/;let c4=(()=>{class n extends t4{get inline(){return this._inline}set inline(t){this._inline=In(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,i,c,u,p){super(t),this._iconRegistry=r,this._location=c,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=qi.w0.EMPTY,p&&(p.color&&(this.color=this.defaultColor=p.color),p.fontSet&&(this.fontSet=p.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,c)=>{i.forEach(u=>{c.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(s4),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<r.length;c++)eL.forEach(u=>{const p=r[c],_=p.getAttribute(u),w=_?_.match(a4):null;if(w){let D=i.get(p);D||(D=[],i.set(p,D)),D.push({name:u,value:w[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(bs(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${c.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(yD),a.$8M("aria-hidden"),a.Y36(r4),a.Y36(a.qLn),a.Y36(n4,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,r){2&t&&(a.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),a.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:YH,decls:1,vars:0,template:function(t,r){1&t&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),l4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fr,fr]}),n})();function u4(n,e){if(1&n&&a.GkF(0,8),2&n){const t=a.oxw();a.Q6J("ngTemplateOutlet",t.iconOverrides[t.state])("ngTemplateOutletContext",t._getIconContext())}}function d4(n,e){if(1&n&&(a.TgZ(0,"span",13),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Oqu(t._getDefaultTextForState(t.state))}}function h4(n,e){if(1&n&&(a.TgZ(0,"span",14),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Oqu(t._intl.completedLabel)}}function f4(n,e){if(1&n&&(a.TgZ(0,"span",14),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Oqu(t._intl.editableLabel)}}function p4(n,e){if(1&n&&(a.TgZ(0,"mat-icon",13),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Oqu(t._getDefaultTextForState(t.state))}}function m4(n,e){if(1&n&&(a.ynx(0,9),a.YNc(1,d4,2,1,"span",10),a.YNc(2,h4,2,1,"span",11),a.YNc(3,f4,2,1,"span",11),a.YNc(4,p4,2,1,"mat-icon",12),a.BQk()),2&n){const t=a.oxw();a.Q6J("ngSwitch",t.state),a.xp6(1),a.Q6J("ngSwitchCase","number"),a.xp6(1),a.Q6J("ngIf","done"===t.state),a.xp6(1),a.Q6J("ngIf","edit"===t.state)}}function g4(n,e){if(1&n&&(a.TgZ(0,"div",15),a.GkF(1,16),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",t._templateLabel().template)}}function _4(n,e){if(1&n&&(a.TgZ(0,"div",15),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Oqu(t.label)}}function y4(n,e){if(1&n&&(a.TgZ(0,"div",17),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Oqu(t._intl.optionalLabel)}}function v4(n,e){if(1&n&&(a.TgZ(0,"div",18),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Oqu(t.errorMessage)}}function b4(n,e){}function w4(n,e){if(1&n&&(a.Hsn(0),a.YNc(1,b4,0,0,"ng-template",0)),2&n){const t=a.oxw();a.xp6(1),a.Q6J("cdkPortalOutlet",t._portal)}}const E4=["*"];function x4(n,e){1&n&&a._UZ(0,"div",11)}const tL=function(n,e){return{step:n,i:e}};function C4(n,e){if(1&n&&(a.ynx(0),a.GkF(1,9),a.YNc(2,x4,1,0,"div",10),a.BQk()),2&n){const t=e.$implicit,r=e.index,i=e.last;a.oxw(2);const c=a.MAs(4);a.xp6(1),a.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",a.WLB(3,tL,t,r)),a.xp6(1),a.Q6J("ngIf",!i)}}const nL=function(n){return{animationDuration:n}},rL=function(n,e){return{value:n,params:e}};function I4(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",12),a.NdJ("@horizontalStepTransition.done",function(i){a.CHM(t);const c=a.oxw(2);return a.KtG(c._animationDone.next(i))}),a.GkF(1,13),a.qZA()}if(2&n){const t=e.$implicit,r=e.index,i=a.oxw(2);a.ekj("mat-horizontal-stepper-content-inactive",i.selectedIndex!==r),a.Q6J("@horizontalStepTransition",a.WLB(8,rL,i._getAnimationDirection(r),a.VKq(6,nL,i._getAnimationDuration())))("id",i._getStepContentId(r)),a.uIk("aria-labelledby",i._getStepLabelId(r)),a.xp6(1),a.Q6J("ngTemplateOutlet",t.content)}}function D4(n,e){if(1&n&&(a.TgZ(0,"div",4)(1,"div",5),a.YNc(2,C4,3,6,"ng-container",6),a.qZA(),a.TgZ(3,"div",7),a.YNc(4,I4,2,11,"div",8),a.qZA()()),2&n){const t=a.oxw();a.xp6(2),a.Q6J("ngForOf",t.steps),a.xp6(2),a.Q6J("ngForOf",t.steps)}}function T4(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",15),a.GkF(1,9),a.TgZ(2,"div",16)(3,"div",17),a.NdJ("@verticalStepTransition.done",function(i){a.CHM(t);const c=a.oxw(2);return a.KtG(c._animationDone.next(i))}),a.TgZ(4,"div",18),a.GkF(5,13),a.qZA()()()()}if(2&n){const t=e.$implicit,r=e.index,i=e.last,c=a.oxw(2),u=a.MAs(4);a.xp6(1),a.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",a.WLB(10,tL,t,r)),a.xp6(1),a.ekj("mat-stepper-vertical-line",!i),a.xp6(1),a.ekj("mat-vertical-stepper-content-inactive",c.selectedIndex!==r),a.Q6J("@verticalStepTransition",a.WLB(15,rL,c._getAnimationDirection(r),a.VKq(13,nL,c._getAnimationDuration())))("id",c._getStepContentId(r)),a.uIk("aria-labelledby",c._getStepLabelId(r)),a.xp6(2),a.Q6J("ngTemplateOutlet",t.content)}}function S4(n,e){if(1&n&&(a.ynx(0),a.YNc(1,T4,6,18,"div",14),a.BQk()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",t.steps)}}function A4(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"mat-step-header",19),a.NdJ("click",function(){const c=a.CHM(t).step;return a.KtG(c.select())})("keydown",function(i){a.CHM(t);const c=a.oxw();return a.KtG(c._onKeydown(i))}),a.qZA()}if(2&n){const t=e.step,r=e.i,i=a.oxw();a.ekj("mat-horizontal-stepper-header","horizontal"===i.orientation)("mat-vertical-stepper-header","vertical"===i.orientation),a.Q6J("tabIndex",i._getFocusIndex()===r?0:-1)("id",i._getStepLabelId(r))("index",r)("state",i._getIndicatorType(r,t.state))("label",t.stepLabel||t.label)("selected",i.selectedIndex===r)("active",i._stepIsNavigable(r,t))("optional",t.optional)("errorMessage",t.errorMessage)("iconOverrides",i._iconOverrides)("disableRipple",i.disableRipple||!i._stepIsNavigable(r,t))("color",t.color||i.color),a.uIk("aria-posinset",r+1)("aria-setsize",i.steps.length)("aria-controls",i._getStepContentId(r))("aria-selected",i.selectedIndex==r)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null)("aria-disabled",!i._stepIsNavigable(r,t)||null)}}let bD=(()=>{class n extends ZF{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matStepLabel",""]],features:[a.qOj]}),n})(),wD=(()=>{class n{constructor(){this.changes=new Jt.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const R4={provide:wD,deps:[[new a.FiY,new a.tp0,wD]],useFactory:function M4(n){return n||new wD}},k4=zE(class extends qF{constructor(e){super(e)}},"primary");let iL=(()=>{class n extends k4{constructor(t,r,i,c){super(i),this._intl=t,this._focusMonitor=r,this._intlSubscription=t.changes.subscribe(()=>c.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._elementRef,t,r):this._elementRef.nativeElement.focus(r)}_stringLabel(){return this.label instanceof bD?null:this.label}_templateLabel(){return this.label instanceof bD?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(t){return"number"==t?`${this.index+1}`:"edit"==t?"create":"error"==t?"warning":t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(wD),a.Y36(rp),a.Y36(a.SBq),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[a.qOj],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],["aria-hidden","true",4,"ngSwitchCase"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true",4,"ngSwitchDefault"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(t,r){1&t&&(a._UZ(0,"div",0),a.TgZ(1,"div")(2,"div",1),a.YNc(3,u4,1,2,"ng-container",2),a.YNc(4,m4,5,4,"ng-container",3),a.qZA()(),a.TgZ(5,"div",4),a.YNc(6,g4,2,1,"div",5),a.YNc(7,_4,2,1,"div",5),a.YNc(8,y4,2,1,"div",6),a.YNc(9,v4,2,1,"div",7),a.qZA()),2&t&&(a.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disableRipple),a.xp6(1),a.Gre("mat-step-icon-state-",r.state," mat-step-icon"),a.ekj("mat-step-icon-selected",r.selected),a.xp6(1),a.Q6J("ngSwitch",!(!r.iconOverrides||!r.iconOverrides[r.state])),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(2),a.ekj("mat-step-label-active",r.active)("mat-step-label-selected",r.selected)("mat-step-label-error","error"==r.state),a.xp6(1),a.Q6J("ngIf",r._templateLabel()),a.xp6(1),a.Q6J("ngIf",r._stringLabel()),a.xp6(1),a.Q6J("ngIf",r.optional&&"error"!=r.state),a.xp6(1),a.Q6J("ngIf","error"==r.state))},dependencies:[hi,Js,No,Pc,kl,c4,yv],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color)}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color)}@media(hover: none){.mat-step-header:hover{background:none}}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color)}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color);background-color:var(--mat-stepper-header-icon-background-color)}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color);color:var(--mat-stepper-header-error-state-icon-foreground-color)}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font);font-size:var(--mat-stepper-header-label-text-size);font-weight:var(--mat-stepper-header-label-text-weight);color:var(--mat-stepper-header-label-text-color)}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color)}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color);font-size:var(--mat-stepper-header-error-state-label-text-size)}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size);font-weight:var(--mat-stepper-header-selected-state-label-text-weight)}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color);color:var(--mat-stepper-header-selected-state-icon-foreground-color)}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color);color:var(--mat-stepper-header-edit-state-icon-foreground-color)}'],encapsulation:2,changeDetection:0}),n})();const aL={horizontalStepTransition:Hs("horizontalStepTransition",[Zo("previous",ki({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),Zo("current",ki({transform:"none",visibility:"inherit"})),Zo("next",ki({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),Du("* => *",bv([Aa("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),Tu("@*",JE(),{optional:!0})]),{params:{animationDuration:"500ms"}})]),verticalStepTransition:Hs("verticalStepTransition",[Zo("previous",ki({height:"0px",visibility:"hidden"})),Zo("next",ki({height:"0px",visibility:"hidden"})),Zo("current",ki({height:"*",visibility:"inherit"})),Du("* <=> current",bv([Aa("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),Tu("@*",JE(),{optional:!0})]),{params:{animationDuration:"225ms"}})])};let O4=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),n})(),P4=(()=>{class n{constructor(t){this._template=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","matStepContent",""]]}),n})(),cL=(()=>{class n extends K1{constructor(t,r,i,c){super(t,c),this._errorStateMatcher=r,this._viewContainerRef=i,this._isSelected=qi.w0.EMPTY,this.stepLabel=void 0}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe((0,Gr.w)(()=>this._stepper.selectionChange.pipe((0,rt.U)(t=>t.selectedStep===this),qo(this._stepper.selected===this)))).subscribe(t=>{t&&this._lazyContent&&!this._portal&&(this._portal=new Q1(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(t,r){return this._errorStateMatcher.isErrorState(t,r)||!!(t&&t.invalid&&this.interacted)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36((0,a.Gpc)(()=>lL)),a.Y36(cp,4),a.Y36(a.s_b),a.Y36(W1,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-step"]],contentQueries:function(t,r,i){if(1&t&&(a.Suo(i,bD,5),a.Suo(i,P4,5)),2&t){let c;a.iGM(c=a.CRH())&&(r.stepLabel=c.first),a.iGM(c=a.CRH())&&(r._lazyContent=c.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[a._Bn([{provide:cp,useExisting:n},{provide:K1,useExisting:n}]),a.qOj],ngContentSelectors:E4,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(t,r){1&t&&(a.F$t(),a.YNc(0,w4,2,1,"ng-template"))},dependencies:[WF],encapsulation:2,changeDetection:0}),n})(),lL=(()=>{class n extends gD{get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}constructor(t,r,i){super(t,r,i),this._stepHeader=void 0,this._steps=void 0,this.steps=new a.n_E,this.animationDone=new a.vpe,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new Jt.x,this._animationDuration="";const c=i.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===c?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:t,templateRef:r})=>this._iconOverrides[t]=r),this.steps.changes.pipe(or(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe((0,Xf.x)((t,r)=>t.fromState===r.fromState&&t.toState===r.toState),or(this._destroyed)).subscribe(t=>{"current"===t.toState&&this.animationDone.emit()})}_stepIsNavigable(t,r){return r.completed||this.selectedIndex===t||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:"horizontal"===this.orientation?"500ms":"225ms"}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(z,8),a.Y36(a.sBO),a.Y36(a.SBq))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(t,r,i){if(1&t&&(a.Suo(i,cL,5),a.Suo(i,O4,5)),2&t){let c;a.iGM(c=a.CRH())&&(r._steps=c),a.iGM(c=a.CRH())&&(r._icons=c)}},viewQuery:function(t,r){if(1&t&&a.Gf(iL,5),2&t){let i;a.iGM(i=a.CRH())&&(r._stepHeader=i)}},hostAttrs:["role","tablist","ngSkipHydration",""],hostVars:11,hostBindings:function(t,r){2&t&&(a.uIk("aria-orientation",r.orientation),a.ekj("mat-stepper-horizontal","horizontal"===r.orientation)("mat-stepper-vertical","vertical"===r.orientation)("mat-stepper-label-position-end","horizontal"===r.orientation&&"end"==r.labelPosition)("mat-stepper-label-position-bottom","horizontal"===r.orientation&&"bottom"==r.labelPosition)("mat-stepper-header-position-bottom","bottom"===r.headerPosition))},inputs:{selectedIndex:"selectedIndex",disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[a._Bn([{provide:gD,useExisting:n}]),a.qOj],decls:5,vars:3,consts:[[3,"ngSwitch"],["class","mat-horizontal-stepper-wrapper",4,"ngSwitchCase"],[4,"ngSwitchCase"],["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id","mat-horizontal-stepper-content-inactive",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"]],template:function(t,r){1&t&&(a.ynx(0,0),a.YNc(1,D4,5,2,"div",1),a.YNc(2,S4,2,1,"ng-container",2),a.BQk(),a.YNc(3,A4,1,23,"ng-template",null,3,a.W1O)),2&t&&(a.Q6J("ngSwitch",r.orientation),a.xp6(1),a.Q6J("ngSwitchCase","horizontal"),a.xp6(1),a.Q6J("ngSwitchCase","vertical"))},dependencies:[rs,hi,Js,No,Pc,iL],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font);background:var(--mat-stepper-container-color)}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color)}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color);top:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[aL.horizontalStepTransition,aL.verticalStepTransition]},changeDetection:0}),n})(),N4=(()=>{class n extends GH{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(t,r){2&t&&a.Ikx("type",r.type)},inputs:{type:"type"},features:[a.qOj]}),n})(),F4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[R4,cp],imports:[fr,rn,KF,qH,l4,Pg,fr]}),n})(),X1=(()=>{class n{constructor(){this._listeners=[]}notify(t,r){for(let i of this._listeners)i(t,r)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(r=>t!==r)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L4=0;const J1=new a.OlP("CdkAccordion");let V4=(()=>{class n{constructor(){this._stateChanges=new Jt.x,this._openCloseAllActions=new Jt.x,this.id="cdk-accordion-"+L4++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=In(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[a._Bn([{provide:J1,useExisting:n}]),a.TTD]}),n})(),B4=0,U4=(()=>{class n{get expanded(){return this._expanded}set expanded(t){t=In(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=In(t)}constructor(t,r,i){this.accordion=t,this._changeDetectorRef=r,this._expansionDispatcher=i,this._openCloseAllSubscription=qi.w0.EMPTY,this.closed=new a.vpe,this.opened=new a.vpe,this.destroyed=new a.vpe,this.expandedChange=new a.vpe,this.id="cdk-accordion-child-"+B4++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=i.listen((c,u)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===u&&this.id!==c&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(J1,12),a.Y36(a.sBO),a.Y36(X1))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[a._Bn([{provide:J1,useValue:void 0}])]}),n})(),H4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const j4=["body"];function z4(n,e){}const $4=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],G4=["mat-expansion-panel-header","*","mat-action-row"];function q4(n,e){if(1&n&&a._UZ(0,"span",2),2&n){const t=a.oxw();a.Q6J("@indicatorRotate",t._getExpandedState())}}const Z4=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],W4=["mat-panel-title","mat-panel-description","*"],eR=new a.OlP("MAT_ACCORDION"),uL="225ms cubic-bezier(0.4,0.0,0.2,1)",dL={indicatorRotate:Hs("indicatorRotate",[Zo("collapsed, void",ki({transform:"rotate(0deg)"})),Zo("expanded",ki({transform:"rotate(180deg)"})),Du("expanded <=> collapsed, void => collapsed",Aa(uL))]),bodyExpansion:Hs("bodyExpansion",[Zo("collapsed, void",ki({height:"0px",visibility:"hidden"})),Zo("expanded",ki({height:"*",visibility:"visible"})),Du("expanded <=> collapsed, void => collapsed",Aa(uL))])},hL=new a.OlP("MAT_EXPANSION_PANEL");let K4=(()=>{class n{constructor(t,r){this._template=t,this._expansionPanel=r}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc),a.Y36(hL,8))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),Y4=0;const fL=new a.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let pL=(()=>{class n extends U4{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=In(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,r,i,c,u,p,_){super(t,r,i),this._viewContainerRef=c,this._animationMode=p,this._hideToggle=!1,this.afterExpand=new a.vpe,this.afterCollapse=new a.vpe,this._inputChanges=new Jt.x,this._headerId="mat-expansion-panel-header-"+Y4++,this._bodyAnimationDone=new Jt.x,this.accordion=t,this._document=u,this._bodyAnimationDone.pipe((0,Xf.x)((w,D)=>w.fromState===D.fromState&&w.toState===D.toState)).subscribe(w=>{"void"!==w.fromState&&("expanded"===w.toState?this.afterExpand.emit():"collapsed"===w.toState&&this.afterCollapse.emit())}),_&&(this.hideToggle=_.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(qo(null),pn(()=>this.expanded&&!this._portal),bs(1)).subscribe(()=>{this._portal=new Q1(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,r=this._body.nativeElement;return t===r||r.contains(t)}return!1}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(eR,12),a.Y36(a.sBO),a.Y36(X1),a.Y36(a.s_b),a.Y36(ae),a.Y36(a.QbO,8),a.Y36(fL,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(t,r,i){if(1&t&&a.Suo(i,K4,5),2&t){let c;a.iGM(c=a.CRH())&&(r._lazyContent=c.first)}},viewQuery:function(t,r){if(1&t&&a.Gf(j4,5),2&t){let i;a.iGM(i=a.CRH())&&(r._body=i.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,r){2&t&&a.ekj("mat-expanded",r.expanded)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[a._Bn([{provide:eR,useValue:void 0},{provide:hL,useExisting:n}]),a.qOj,a.TTD],ngContentSelectors:G4,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,r){1&t&&(a.F$t($4),a.Hsn(0),a.TgZ(1,"div",0,1),a.NdJ("@bodyExpansion.done",function(c){return r._bodyAnimationDone.next(c)}),a.TgZ(3,"div",2),a.Hsn(4,1),a.YNc(5,z4,0,0,"ng-template",3),a.qZA(),a.Hsn(6,2),a.qZA()),2&t&&(a.xp6(1),a.Q6J("@bodyExpansion",r._getExpandedState())("id",r.id),a.uIk("aria-labelledby",r._headerId),a.xp6(4),a.Q6J("cdkPortalOutlet",r._portal))},dependencies:[WF],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[dL.bodyExpansion]},changeDetection:0}),n})();class Q4{}const X4=$E(Q4);let mL=(()=>{class n extends X4{constructor(t,r,i,c,u,p,_){super(),this.panel=t,this._element=r,this._focusMonitor=i,this._changeDetectorRef=c,this._animationMode=p,this._parentChangeSubscription=qi.w0.EMPTY;const w=t.accordion?t.accordion._stateChanges.pipe(pn(D=>!(!D.hideToggle&&!D.togglePosition))):tl.E;this.tabIndex=parseInt(_||"")||0,this._parentChangeSubscription=(0,hp.T)(t.opened,t.closed,w,t._inputChanges.pipe(pn(D=>!!(D.hideToggle||D.disabled||D.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(pn(()=>t._containsFocus())).subscribe(()=>i.focusVia(r,"program")),u&&(this.expandedHeight=u.expandedHeight,this.collapsedHeight=u.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Ec(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,r){t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(pL,1),a.Y36(a.SBq),a.Y36(rp),a.Y36(a.sBO),a.Y36(fL,8),a.Y36(a.QbO,8),a.$8M("tabindex"))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r._toggle()})("keydown",function(c){return r._keydown(c)}),2&t&&(a.uIk("id",r.panel._headerId)("tabindex",r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),a.Udp("height",r._getHeaderHeight()),a.ekj("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[a.qOj],ngContentSelectors:W4,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,r){1&t&&(a.F$t(Z4),a.TgZ(0,"span",0),a.Hsn(1),a.Hsn(2,1),a.Hsn(3,2),a.qZA(),a.YNc(4,q4,1,1,"span",1)),2&t&&(a.ekj("mat-content-hide-toggle",!r._showToggle()),a.xp6(4),a.Q6J("ngIf",r._showToggle()))},dependencies:[hi],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[dL.indicatorRotate]},changeDetection:0}),n})(),J4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),ej=(()=>{class n extends V4{constructor(){super(...arguments),this._ownHeaders=new a.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=In(t)}ngAfterContentInit(){this._headers.changes.pipe(qo(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(r=>r.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new DE(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(t,r,i){if(1&t&&a.Suo(i,mL,5),2&t){let c;a.iGM(c=a.CRH())&&(r._headers=c)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,r){2&t&&a.ekj("mat-accordion-multi",r.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[a._Bn([{provide:eR,useExisting:n}]),a.qOj]}),n})(),tj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rn,fr,H4,KF]}),n})(),nj=(()=>{class n{constructor(t){this.userFormService=t,this.sr="",this.nif="",this.nombre="",this.phone="",this.email="",this.empresa="",this.calle="",this.numero="",this.piso="",this.puerta="",this.localidad="",this.provincia="",this.comunidad="",this.cp="",this.puntoderecogida="",this.panelOpenState=!1}ngOnInit(){this.userFormService.getUserFormData().subscribe(t=>{this.sr=t.sr,this.nif=t.nif,this.nombre=t.nombre,this.phone=t.phone,this.email=t.email,this.calle=t.calle,this.numero=t.numero,this.piso=t.piso,this.puerta=t.puerta,this.localidad=t.localidad,this.provincia=t.provincia,this.comunidad=t.comunidad,this.cp=t.cp,this.puntoderecogida=t.puntoderecogida},t=>{console.error("Error de obtenci\xf3n de datos de usuario:",t)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Z1))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-address-accordion"]],decls:66,vars:15,consts:[["expanded","",3,"opened","closed"],[1,"title-accordion"]],template:function(t,r){1&t&&(a.TgZ(0,"mat-accordion")(1,"mat-expansion-panel",0),a.NdJ("opened",function(){return r.panelOpenState=!0})("closed",function(){return r.panelOpenState=!1}),a.TgZ(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"div",1),a._uU(5," Datos "),a.qZA()()(),a.TgZ(6,"p")(7,"strong"),a._uU(8,"sr:"),a.qZA(),a._uU(9),a.qZA(),a.TgZ(10,"p")(11,"strong"),a._uU(12,"nif:"),a.qZA(),a._uU(13),a.qZA(),a.TgZ(14,"p")(15,"strong"),a._uU(16,"nombre:"),a.qZA(),a._uU(17),a.qZA(),a.TgZ(18,"p")(19,"strong"),a._uU(20,"phone:"),a.qZA(),a._uU(21),a.qZA(),a.TgZ(22,"p")(23,"strong"),a._uU(24,"E-mail:"),a.qZA(),a._uU(25),a.qZA(),a.TgZ(26,"p")(27,"strong"),a._uU(28,"empresa:"),a.qZA(),a._uU(29),a.qZA(),a.TgZ(30,"p")(31,"strong"),a._uU(32,"calle:"),a.qZA(),a._uU(33),a.qZA(),a.TgZ(34,"p")(35,"strong"),a._uU(36,"numero:"),a.qZA(),a._uU(37),a.qZA(),a.TgZ(38,"p")(39,"strong"),a._uU(40,"piso:"),a.qZA(),a._uU(41),a.qZA(),a.TgZ(42,"p")(43,"strong"),a._uU(44,"puerta:"),a.qZA(),a._uU(45),a.qZA(),a.TgZ(46,"p")(47,"strong"),a._uU(48,"localidad:"),a.qZA(),a._uU(49),a.qZA(),a.TgZ(50,"p")(51,"strong"),a._uU(52,"provincia:"),a.qZA(),a._uU(53),a.qZA(),a.TgZ(54,"p")(55,"strong"),a._uU(56,"comunidad:"),a.qZA(),a._uU(57),a.qZA(),a.TgZ(58,"p")(59,"strong"),a._uU(60,"cp:"),a.qZA(),a._uU(61),a.qZA(),a.TgZ(62,"p")(63,"strong"),a._uU(64,"puntoderecogida:"),a.qZA(),a._uU(65),a.qZA()()()),2&t&&(a.xp6(9),a.hij(" ",r.sr,""),a.xp6(4),a.hij(" ",r.nif,""),a.xp6(4),a.hij(" ",r.nombre,""),a.xp6(4),a.hij(" ",r.phone,""),a.xp6(4),a.hij(" ",r.email,""),a.xp6(4),a.hij(" ",r.empresa,""),a.xp6(4),a.hij(" ",r.calle,""),a.xp6(4),a.hij(" ",r.numero,""),a.xp6(4),a.hij(" ",r.piso,""),a.xp6(4),a.hij(" ",r.puerta,""),a.xp6(4),a.hij(" ",r.localidad,""),a.xp6(4),a.hij(" ",r.provincia,""),a.xp6(4),a.hij(" ",r.comunidad,""),a.xp6(4),a.hij(" ",r.cp,""),a.xp6(4),a.hij(" ",r.puntoderecogida,""))},dependencies:[ej,pL,mL,J4],styles:[".mat-mdc-form-field[_ngcontent-%COMP%] + .mat-mdc-form-field[_ngcontent-%COMP%]{margin-left:8px}.country[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.title-accordion[_ngcontent-%COMP%]{color:#005746}"]}),n})(),rj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-logo-checkout"]],decls:5,vars:0,consts:[[1,"logo"],[1,"fa-solid","fa-shopping-cart"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div"),a._UZ(2,"i",1),a.qZA(),a.TgZ(3,"div"),a._uU(4,"Tu carrito"),a.qZA()())},styles:[".logo[_ngcontent-%COMP%]{display:flex;justify-content:center;color:#00b597;font-size:1.5rem;padding-bottom:1rem}.logo[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2){margin-left:.3em}"]}),n})();const ij=["input"],oj=["*"];let gL=0;class _L{constructor(e,t){this.source=e,this.value=t}}const sj={provide:Ba,useExisting:(0,a.Gpc)(()=>vL),multi:!0},yL=new a.OlP("MatRadioGroup"),aj=new a.OlP("mat-radio-default-options",{providedIn:"root",factory:function cj(){return{color:"accent"}}});let lj=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=In(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=In(t),this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+gL++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new a.vpe}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(r=>{r.checked=this.value===r.value,r.checked&&(this._selected=r)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new _L(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})();class uj{constructor(e){this._elementRef=e}}const dj=ap($E(uj));let hj=(()=>{class n extends dj{get checked(){return this._checked}set checked(t){const r=In(t);this._checked!==r&&(this._checked=r,r&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!r&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),r&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(In(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=In(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,r,i,c,u,p,_,w){super(r),this._changeDetector=i,this._focusMonitor=c,this._radioDispatcher=u,this._providerOverride=_,this._uniqueId="mat-radio-"+ ++gL,this.id=this._uniqueId,this.change=new a.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===p,w&&(this.tabIndex=_o(w,0))}focus(t,r){r?this._focusMonitor.focusVia(this._inputElement,r,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,r)=>{t!==this.id&&r===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new _L(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const r=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),r&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let r;if(r=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,r!==this._previousTabIndex){const i=this._inputElement?.nativeElement;i&&(i.setAttribute("tabindex",r+""),this._previousTabIndex=r)}}}return n.\u0275fac=function(t){a.$Z()},n.\u0275dir=a.lG2({type:n,viewQuery:function(t,r){if(1&t&&a.Gf(ij,5),2&t){let i;a.iGM(i=a.CRH())&&(r._inputElement=i.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[a.qOj]}),n})(),vL=(()=>{class n extends lj{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-radio-group"]],contentQueries:function(t,r,i){if(1&t&&a.Suo(i,bL,5),2&t){let c;a.iGM(c=a.CRH())&&(r._radios=c)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[a._Bn([sj,{provide:yL,useExisting:n}]),a.qOj]}),n})(),bL=(()=>{class n extends hj{constructor(t,r,i,c,u,p,_,w){super(t,r,i,c,u,p,_,w)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(yL,8),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(rp),a.Y36(X1),a.Y36(a.QbO,8),a.Y36(aj,8),a.$8M("tabindex"))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(t,r){1&t&&a.NdJ("focus",function(){return r._inputElement.nativeElement.focus()}),2&t&&(a.uIk("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),a.ekj("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[a.qOj],ngContentSelectors:oj,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(t,r){if(1&t&&(a.F$t(),a.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),a.NdJ("click",function(c){return r._onTouchTargetClick(c)}),a.qZA(),a.TgZ(4,"input",4,5),a.NdJ("change",function(c){return r._onInputInteraction(c)}),a.qZA(),a.TgZ(6,"div",6),a._UZ(7,"div",7)(8,"div",8),a.qZA(),a.TgZ(9,"div",9),a._UZ(10,"div",10),a.qZA()(),a.TgZ(11,"label",11),a.Hsn(12),a.qZA()()),2&t){const i=a.MAs(1);a.ekj("mdc-form-field--align-end","before"==r.labelPosition),a.xp6(2),a.ekj("mdc-radio--disabled",r.disabled),a.xp6(2),a.Q6J("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),a.uIk("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),a.xp6(5),a.Q6J("matRippleTrigger",i)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),a.xp6(2),a.Q6J("for",r.inputId)}},dependencies:[yv],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{--mdc-radio-disabled-selected-icon-opacity:0.38;--mdc-radio-disabled-unselected-icon-opacity:0.38;--mdc-radio-state-layer-size:40px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),n})(),fj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fr,rn,Pg,fr]}),n})(),pj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-paymentandshipping"]],decls:12,vars:0,consts:[[1,"payment-title"],["aria-label","Select an option",1,"payment"],["value","1"],["value","2"],["value","3"],[1,"observations"],["id","observaciones","name","observaciones","rows","3","cols","40",1,"mt-3"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a._uU(1,"Forma de pago"),a.qZA(),a.TgZ(2,"mat-radio-group",1)(3,"mat-radio-button",2),a._uU(4,"Tarjeta de cr\xe9dito / d\xe9bito"),a.qZA(),a.TgZ(5,"mat-radio-button",3),a._uU(6,"Amazon Pay"),a.qZA(),a.TgZ(7,"mat-radio-button",4),a._uU(8,"Transferencia bancaria"),a.qZA()(),a.TgZ(9,"div",5),a._uU(10,"Observaciones de entrega"),a.qZA(),a._UZ(11,"textarea",6))},dependencies:[vL,bL],styles:[".payment-title[_ngcontent-%COMP%]{color:#005746;text-align:center}.payment[_ngcontent-%COMP%]{display:flex;flex-direction:column}.observations[_ngcontent-%COMP%]{color:#005746}"]}),n})(),mj=(()=>{class n{constructor(t){this.userFormService=t,this.sr="",this.nif="",this.nombre="",this.phone="",this.email="",this.empresa="",this.calle="",this.numero="",this.piso="",this.puerta="",this.localidad="",this.provincia="",this.comunidad="",this.cp="",this.puntoderecogida="",this.payment="",this.tarjet=""}ngOnInit(){this.userFormService.getUserFormData().subscribe(t=>{this.sr=t.sr,this.nif=t.nif,this.nombre=t.nombre,this.phone=t.phone,this.email=t.email,this.calle=t.calle,this.numero=t.numero,this.piso=t.piso,this.puerta=t.puerta,this.localidad=t.localidad,this.provincia=t.provincia,this.comunidad=t.comunidad,this.cp=t.cp,this.puntoderecogida=t.puntoderecogida},t=>{console.error("Error de obtenci\xf3n de datos de usuario:",t)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Z1))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-confirmation"]],decls:78,vars:17,consts:[[1,"container"],[1,"payment"],["href","/shippingaddress"]],template:function(t,r){1&t&&(a.TgZ(0,"h5"),a._uU(1,"Datos de facturaci\xf3n"),a.qZA(),a.TgZ(2,"div",0)(3,"p")(4,"strong"),a._uU(5,"sr:"),a.qZA(),a._uU(6),a.qZA(),a.TgZ(7,"p")(8,"strong"),a._uU(9,"nif:"),a.qZA(),a._uU(10),a.qZA(),a.TgZ(11,"p")(12,"strong"),a._uU(13,"nombre:"),a.qZA(),a._uU(14),a.qZA(),a.TgZ(15,"p")(16,"strong"),a._uU(17,"phone:"),a.qZA(),a._uU(18),a.qZA(),a.TgZ(19,"p")(20,"strong"),a._uU(21,"E-mail:"),a.qZA(),a._uU(22),a.qZA(),a.TgZ(23,"p")(24,"strong"),a._uU(25,"empresa:"),a.qZA(),a._uU(26),a.qZA(),a.TgZ(27,"p")(28,"strong"),a._uU(29,"calle:"),a.qZA(),a._uU(30),a.qZA(),a.TgZ(31,"p")(32,"strong"),a._uU(33,"numero:"),a.qZA(),a._uU(34),a.qZA(),a.TgZ(35,"p")(36,"strong"),a._uU(37,"piso:"),a.qZA(),a._uU(38),a.qZA(),a.TgZ(39,"p")(40,"strong"),a._uU(41,"puerta:"),a.qZA(),a._uU(42),a.qZA(),a.TgZ(43,"p")(44,"strong"),a._uU(45,"localidad:"),a.qZA(),a._uU(46),a.qZA(),a.TgZ(47,"p")(48,"strong"),a._uU(49,"provincia:"),a.qZA(),a._uU(50),a.qZA(),a.TgZ(51,"p")(52,"strong"),a._uU(53,"comunidad:"),a.qZA(),a._uU(54),a.qZA(),a.TgZ(55,"p")(56,"strong"),a._uU(57,"cp:"),a.qZA(),a._uU(58),a.qZA(),a.TgZ(59,"p")(60,"strong"),a._uU(61,"puntoderecogida:"),a.qZA(),a._uU(62),a.qZA()(),a.TgZ(63,"h5"),a._uU(64,"Pago y env\xedo"),a.qZA(),a.TgZ(65,"div",0)(66,"p")(67,"strong"),a._uU(68,"Forma de pago:"),a.qZA(),a._uU(69),a.qZA(),a.TgZ(70,"p")(71,"strong"),a._uU(72,"Tarjeta de cr\xe9dito:"),a.qZA(),a._uU(73),a.qZA(),a.TgZ(74,"div",1)(75,"a",2)(76,"p"),a._uU(77,"Modificar"),a.qZA()()()()),2&t&&(a.xp6(6),a.hij(" ",r.sr,""),a.xp6(4),a.hij(" ",r.nif,""),a.xp6(4),a.hij(" ",r.nombre,""),a.xp6(4),a.hij(" ",r.phone,""),a.xp6(4),a.hij(" ",r.email,""),a.xp6(4),a.hij(" ",r.empresa,""),a.xp6(4),a.hij(" ",r.calle,""),a.xp6(4),a.hij(" ",r.numero,""),a.xp6(4),a.hij(" ",r.piso,""),a.xp6(4),a.hij(" ",r.puerta,""),a.xp6(4),a.hij(" ",r.localidad,""),a.xp6(4),a.hij(" ",r.provincia,""),a.xp6(4),a.hij(" ",r.comunidad,""),a.xp6(4),a.hij(" ",r.cp,""),a.xp6(4),a.hij(" ",r.puntoderecogida,""),a.xp6(7),a.hij(" ",r.payment,""),a.xp6(4),a.hij(" ",r.tarjet,""))},styles:[".container[_ngcontent-%COMP%]{border:solid 1px grey;padding:1rem;margin:1rem 0}.country[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.payment[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]}),n})();function gj(n,e){1&n&&a._uU(0,"Identificaci\xf3n")}function _j(n,e){1&n&&a._uU(0,"Pago y env\xedo")}function yj(n,e){1&n&&a._uU(0,"Confirmaci\xf3n")}let vj=(()=>{class n{constructor(t){this._formBuilder=t,this.firstFormGroup=this._formBuilder.group({firstCtrl:["",zs.required]}),this.secondFormGroup=this._formBuilder.group({secondCtrl:["",zs.required]})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(pD))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-checkout"]],features:[a._Bn([{provide:W1,useValue:{showError:!0}}])],decls:28,vars:2,consts:[["stepper",""],[3,"formGroup"],["matStepLabel",""],["mat-button","","matStepperNext",""],["href","/successful"],["mat-button",""],["href","/cart"]],template:function(t,r){1&t&&(a._UZ(0,"app-navtop-container")(1,"app-logo-checkout"),a.TgZ(2,"mat-stepper",null,0)(4,"mat-step")(5,"form",1),a.YNc(6,gj,1,0,"ng-template",2),a.TgZ(7,"div"),a._UZ(8,"app-address-accordion"),a.TgZ(9,"button",3),a._uU(10,"Continuar con el pago"),a.qZA()()()(),a.TgZ(11,"mat-step")(12,"form",1),a.YNc(13,_j,1,0,"ng-template",2),a._UZ(14,"app-paymentandshipping"),a.TgZ(15,"div")(16,"button",3),a._uU(17,"Continuar con el pago"),a.qZA()()()(),a.TgZ(18,"mat-step"),a.YNc(19,yj,1,0,"ng-template",2),a._UZ(20,"app-confirmation"),a.TgZ(21,"div")(22,"a",4)(23,"button",5),a._uU(24,"Pagar Ahora"),a.qZA()(),a.TgZ(25,"a",6)(26,"button",5),a._uU(27,"Modificar cesta"),a.qZA()()()()()),2&t&&(a.xp6(5),a.Q6J("formGroup",r.firstFormGroup),a.xp6(7),a.Q6J("formGroup",r.secondFormGroup))},dependencies:[Sc,cL,bD,lL,N4,gx,fm,im,Uh,nj,rj,pj,mj],styles:[".mat-mdc-form-field[_ngcontent-%COMP%]{margin-top:16px}.mat-horizontal-stepper-header[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{color:#fff!important;background-color:#005746;margin:1rem 0;width:100%;border-radius:.5rem}"]}),n})(),bj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-logo-successful"]],decls:15,vars:0,consts:[[1,"logo"],[1,"fa-solid","fa-shopping-cart"],[1,"icostyle"],[1,"fa-solid","fa-check"],[1,"thanks"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div"),a._UZ(2,"i",1),a.qZA(),a.TgZ(3,"div"),a._uU(4,"Tu compra segura"),a.qZA()(),a.TgZ(5,"div",2),a._UZ(6,"i",3),a.qZA(),a.TgZ(7,"div",4),a._uU(8," \xa1Gracias! "),a._UZ(9,"br"),a._uU(10,"su compra "),a._UZ(11,"br"),a._uU(12,"se ha efectuado "),a._UZ(13,"br"),a._uU(14,"correctamente "),a.qZA())},styles:[".logo[_ngcontent-%COMP%]{display:flex;justify-content:center;color:#00b597;font-size:1.5rem}.logo[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2){margin-left:.3em}.icostyle[_ngcontent-%COMP%]{text-align:center;padding:2rem 0;font-size:3rem}.thanks[_ngcontent-%COMP%]{text-align:center;color:#00b597;font-size:1.5rem}"]}),n})(),wj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-successful"]],decls:3,vars:0,template:function(t,r){1&t&&a._UZ(0,"app-navtop-container")(1,"app-logo-successful")(2,"app-menufixed")},dependencies:[Sc,Va,bj]}),n})();function Ej(n,e){1&n&&(a.TgZ(0,"label"),a._uU(1,"* El email no es v\xe1lido."),a.qZA())}function xj(n,e){1&n&&(a.TgZ(0,"label"),a._uU(1,"*La contrase\xf1a debe tener al menos 6 caracteres"),a.qZA())}let Cj=(()=>{class n{constructor(t,r,i,c){this.fb=t,this.auth=r,this.router=i,this.http=c,this.usuario=this.fb.group({nombre:[""],email:["",[zs.required,zs.email]],password:["",[zs.required,zs.minLength(4)]]})}ngOnInit(){}register(){this.auth.registerUser(this.usuario.value.email,this.usuario.value.password).then(t=>{this.router.navigate(["/"])}).catch(t=>{window.alert("Error"+t.message)})}registerUser(){const r=new yi({"Content-Type":"application/json"});this.http.post("api/usuarios/agregar",{username:this.usuario.value.nombre,email:this.usuario.value.email,password:this.usuario.value.password},{headers:r}).subscribe(c=>{console.log("Usuario registrado:",c),this.router.navigate(["/login"])},c=>{console.error("Error al registrar usuario:",c)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(pD),a.Y36(Xu),a.Y36(qr),a.Y36(Pi))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-body-register"]],decls:24,vars:4,consts:[[1,"container"],[3,"formGroup"],[1,"form-label"],["formControlName","nombre","placeholder","Introduce tu nombre","autocapitalize","off",1,"form-control"],["formControlName","email","placeholder","Introduce tu email","autocapitalize","off",1,"form-control"],[4,"ngIf"],["formControlName","password","placeholder","Introduce una contrase\xf1a","type","password",1,"form-control"],[1,"form-check","mt-2"],["type","checkbox","id","gridCheck",1,"form-check-input"],["for","gridCheck",1,"form-check-label"],[1,"padding"],[1,"col-12","margin-bottom","mt-4"],["type","submit","expand","block",1,"btn-color",3,"disabled","click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"form",1)(2,"div")(3,"label",2),a._uU(4,"Nombre"),a.qZA(),a._UZ(5,"input",3),a.qZA(),a.TgZ(6,"div")(7,"label",2),a._uU(8,"Email"),a.qZA(),a._UZ(9,"input",4),a.qZA(),a.YNc(10,Ej,2,0,"label",5),a.TgZ(11,"div")(12,"label",2),a._uU(13,"Contrase\xf1a"),a.qZA(),a._UZ(14,"input",6),a.qZA(),a.YNc(15,xj,2,0,"label",5),a.TgZ(16,"div",7),a._UZ(17,"input",8),a.TgZ(18,"label",9),a._uU(19," Acepto tratamiento de datos personales "),a.qZA()(),a.TgZ(20,"div",10)(21,"div",11)(22,"button",12),a.NdJ("click",function(){return r.registerUser()}),a._uU(23,"Registrar"),a.qZA()()()()()),2&t&&(a.xp6(1),a.Q6J("formGroup",r.usuario),a.xp6(9),a.Q6J("ngIf",(null==r.usuario.controls.email.errors?null:r.usuario.controls.email.errors.email)&&(r.usuario.touched||r.usuario.dirty)),a.xp6(5),a.Q6J("ngIf",(null==r.usuario.controls.password.errors?null:r.usuario.controls.password.errors.minlength)&&(r.usuario.touched||r.usuario.dirty)),a.xp6(7),a.Q6J("disabled",!r.usuario.valid))},dependencies:[hi,fm,Jp,rm,im,Uh,Z_],styles:[".margin-bottom[_ngcontent-%COMP%]{margin-bottom:5rem}.container[_ngcontent-%COMP%]{border:solid 2px grey;box-shadow:4px 4px 5px gray;border-radius:10px;padding:2rem}.btn-color[_ngcontent-%COMP%]{padding:.5rem;background-color:#00b597;color:#fff;border-radius:.5rem}.container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#005746;font-weight:600}"]}),n})();const Ij=[{path:"",component:gl},{path:"products",component:u1},{path:"novedades",component:gl},{path:"ofertas",component:gl},{path:"packs",component:gl},{path:"frutas",component:gl},{path:"verdurashortalizas",component:gl},{path:"temporada",component:gl},{path:"login",component:SH},{path:"profile",component:VH},{path:"product/:title",component:HH},{path:"cart",component:PH},{path:"checkout",component:vj},{path:"successful",component:wj},{path:"register",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-register-user"]],decls:3,vars:0,template:function(t,r){1&t&&a._UZ(0,"app-navtop-container")(1,"app-body-register")(2,"app-menufixed")},dependencies:[Sc,Va,Cj]}),n})()},{path:"formulario",component:(()=>{class n{constructor(t,r,i,c){this.fb=t,this.http=r,this.auth=i,this.router=c,this.usuario=this.fb.group({sr:"",nif:"",nombre:"",phone:"",email:"",empresa:"",calle:"",numero:"",piso:"",puerta:"",localidad:"",provincia:"",comunidad:"",cp:"",puntoderecogida:"0"})}save(){const r=new yi({"Content-Type":"application/json"}),i={user:this.auth.getToken(),sr:this.usuario.value.sr,nif:this.usuario.value.nif,nombre:this.usuario.value.nombre,phone:this.usuario.value.phone,email:this.usuario.value.email,empresa:this.usuario.value.empresa,calle:this.usuario.value.calle,numero:this.usuario.value.numero,piso:this.usuario.value.piso,puerta:this.usuario.value.puerta,localidad:this.usuario.value.localidad,provincia:this.usuario.value.provincia,comunidad:this.usuario.value.comunidad,cp:this.usuario.value.cp,puntoderecogida:this.usuario.value.puntoderecogida};this.http.post("api/usuarios/agregarform",i,{headers:r}).subscribe(c=>{console.log("Usuario registrado:",c),this.router.navigate(["/checkout"])},c=>{console.error("Error al registrar usuario:",c)})}cancel(){window.location.pathname=""}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(pD),a.Y36(Pi),a.Y36(Xu),a.Y36(qr))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-formulario-cliente"]],decls:136,vars:1,consts:[[1,"container"],[1,"formulario"],[1,"tith3"],[1,"infoform"],[1,"row",3,"formGroup"],["id","accord",1,"accordion"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","accord"],[1,"fa-solid","fa-children"],["id","collapseOne","data-bs-parent","#accord",1,"collapsed","accord"],[1,"accordion-body"],[1,"row"],[1,"inlinerad"],[1,"form-check-inline"],["formControlName","sr","type","radio","name","sr","id","sr","value","sr","checked","",1,"form-check-input"],["for","sr",1,"form-check-label","marsr"],["formControlName","sr","type","radio","name","sr","id","sra","value","sra",1,"form-check-input"],["for","sra",1,"form-check-label","marsr"],[1,"col"],["for","nif",1,"form-label"],["formControlName","nif","type","text","id","nif","placeholder","Introduzca su NIF","required","",1,"form-control"],["for","nombre",1,"form-label"],["formControlName","nombre","type","text","id","nombre","placeholder","Nombre de empresa o aut\xf3nomo","required","",1,"form-control"],["for","tel",1,"form-label"],[1,"input-group"],[1,"input-group-text"],["formControlName","phone","type","tel","id","tel","placeholder","Tel\xe9fono",1,"form-control"],["for","email",1,"form-label"],["formControlName","email","type","email","id","email","placeholder","Email",1,"form-control"],[1,"form-check-inline","rademp"],["formControlName","empresa","type","radio","name","empresa","id","autonomo","value","autonomo","checked","",1,"form-check-input"],["for","autonomo",1,"form-check-label","marsr"],["formControlName","empresa","type","radio","name","empresa","id","empresa","value","empresa",1,"form-check-input"],["for","empresa",1,"form-check-label","marsr"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"accordion-button","collapsed","accord"],[1,"fa-solid","fa-house-chimney"],["id","collapseTwo","data-bs-parent","#accord",1,"accordion-collapse","collapse"],["for","calle",1,"form-label"],["formControlName","calle","type","text","id","calle","placeholder","Ejmpl. C/ Cabanillas","required","",1,"form-control"],["for","numero",1,"form-label"],["formControlName","numero","type","text","id","numero","placeholder","Introduzca su n\xfamero de portal","required","",1,"form-control"],["for","piso",1,"form-label"],["formControlName","piso","type","text","id","piso","placeholder","Introduzca su piso","required","",1,"form-control"],["for","puerta",1,"form-label"],["formControlName","puerta","type","text","id","puerta","placeholder","Introduzca su puerta","required","",1,"form-control"],["for","localidad",1,"form-label"],["formControlName","localidad","type","tel","id","localidad","placeholder","Localidad",1,"form-control"],["for","provincia",1,"form-label"],["formControlName","provincia","type","text","id","provincia","placeholder","Provincia",1,"form-control"],["for","comunidad",1,"form-label"],["formControlName","comunidad","type","text","id","comunidad","placeholder","Comunidad",1,"form-control"],["for","cp",1,"form-label"],["formControlName","cp","type","text","maxlength","5","id","cp","placeholder","Introduce tu C.P.","C\xf3digo","","Postal","",1,"form-control"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"accordion-button","collapsed","accord"],[1,"fa-solid","fa-location-dot"],["id","collapseThree","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],["formControlName","puntoderecogida","aria-label","Default select example",1,"form-select"],["selected","","value","0"],["value","1"],["value","2"],["value","3"],[1,"container","container-buttons"],[1,"buttons"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,r){1&t&&(a._UZ(0,"app-navtop-container"),a.TgZ(1,"div",0)(2,"div",1)(3,"h3",2),a._uU(4,"Registro nuevo cliente"),a.qZA(),a.TgZ(5,"span",3),a._uU(6,"(solo deber\xe1 rellenar este formulario la primera vez)"),a.qZA()(),a.TgZ(7,"form",4)(8,"div",5)(9,"div",6)(10,"h2",7)(11,"button",8),a._UZ(12,"i",9),a.TgZ(13,"h5"),a._uU(14,"Datos personales"),a.qZA()()(),a.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"h5"),a._uU(19,"Informaci\xf3n personal"),a.qZA(),a.TgZ(20,"div",13)(21,"div",14),a._UZ(22,"input",15),a.TgZ(23,"label",16),a._uU(24," Sr. "),a.qZA()(),a.TgZ(25,"div",14),a._UZ(26,"input",17),a.TgZ(27,"label",18),a._uU(28," Sra. "),a.qZA()()(),a.TgZ(29,"div",19)(30,"label",20),a._uU(31,"N.I.F."),a.qZA(),a._UZ(32,"input",21),a.qZA(),a.TgZ(33,"div",19)(34,"label",22),a._uU(35,"Nombre"),a.qZA(),a._UZ(36,"input",23),a.qZA(),a.TgZ(37,"div",12)(38,"div",19)(39,"label",24),a._uU(40,"Tel\xe9fono"),a.qZA(),a.TgZ(41,"div",25)(42,"div",26),a._uU(43,"+34"),a.qZA(),a._UZ(44,"input",27),a.qZA()(),a.TgZ(45,"div",19)(46,"label",28),a._uU(47,"Email"),a.qZA(),a.TgZ(48,"div",25)(49,"div",26),a._uU(50,"@"),a.qZA(),a._UZ(51,"input",29),a.qZA()(),a.TgZ(52,"div",19)(53,"div",13)(54,"div",30),a._UZ(55,"input",31),a.TgZ(56,"label",32),a._uU(57," Aut\xf3nomo "),a.qZA()(),a.TgZ(58,"div",30),a._UZ(59,"input",33),a.TgZ(60,"label",34),a._uU(61," Empresa "),a.qZA()()()()()()()()(),a.TgZ(62,"div",6)(63,"h2",7)(64,"button",35),a._UZ(65,"i",36),a.TgZ(66,"h5"),a._uU(67,"Direcci\xf3n de facturaci\xf3n"),a.qZA()()(),a.TgZ(68,"div",37)(69,"div",11)(70,"div",12)(71,"div",19)(72,"label",38),a._uU(73,"Calle"),a.qZA(),a._UZ(74,"input",39),a.qZA(),a.TgZ(75,"div",19)(76,"label",40),a._uU(77,"N\xfamero"),a.qZA(),a._UZ(78,"input",41),a.qZA(),a.TgZ(79,"div",19)(80,"label",42),a._uU(81,"Piso"),a.qZA(),a._UZ(82,"input",43),a.qZA(),a.TgZ(83,"div",19)(84,"label",44),a._uU(85,"Puerta"),a.qZA(),a._UZ(86,"input",45),a.qZA(),a.TgZ(87,"div",12)(88,"div",19)(89,"label",46),a._uU(90,"Localidad"),a.qZA(),a.TgZ(91,"div",25),a._UZ(92,"input",47),a.qZA()(),a.TgZ(93,"div",19)(94,"label",48),a._uU(95,"Provincia"),a.qZA(),a.TgZ(96,"div",25),a._UZ(97,"input",49),a.qZA()(),a.TgZ(98,"div",19)(99,"label",50),a._uU(100,"Comunidad"),a.qZA(),a.TgZ(101,"div",25),a._UZ(102,"input",51),a.qZA()(),a.TgZ(103,"div",19)(104,"label",52),a._uU(105,"C.P."),a.qZA(),a.TgZ(106,"div",25),a._UZ(107,"input",53),a.qZA()()()()()()(),a.TgZ(108,"div",6)(109,"h2",7)(110,"button",54),a._UZ(111,"i",55),a.TgZ(112,"h5"),a._uU(113,"Punto de recogida"),a.qZA()()(),a.TgZ(114,"div",56)(115,"div",11)(116,"select",57)(117,"option",58),a._uU(118,"Seleccione su punto m\xe1s cercano"),a.qZA(),a.TgZ(119,"option",59),a._uU(120,"Madrid"),a.qZA(),a.TgZ(121,"option",60),a._uU(122,"Barcelona"),a.qZA(),a.TgZ(123,"option",61),a._uU(124,"Valencia"),a.qZA(),a.TgZ(125,"option",61),a._uU(126,"Bilbao"),a.qZA(),a.TgZ(127,"option",61),a._uU(128,"Sevilla"),a.qZA()()()()()()()(),a.TgZ(129,"div",62)(130,"div",63)(131,"button",64),a.NdJ("click",function(){return r.save()}),a._uU(132,"Guardar"),a.qZA(),a.TgZ(133,"button",65),a.NdJ("click",function(){return r.cancel()}),a._uU(134,"Cancelar"),a.qZA()()(),a._UZ(135,"app-menufixed")),2&t&&(a.xp6(7),a.Q6J("formGroup",r.usuario))},dependencies:[Sc,Va,fm,s,E,Jp,o,lD,rm,im,pt,N0,Uh,Z_],styles:[".container[_ngcontent-%COMP%]{border:2px solid grey;border-radius:15px;padding-bottom:2rem}.tith3[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;margin-bottom:2rem}h4[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}.nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:flex;justify-content:center}.accord[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:1rem;margin-bottom:.5rem}.inlinerad[_ngcontent-%COMP%]{display:inline;margin-bottom:1rem;margin-right:1rem}.col[_ngcontent-%COMP%]{margin-bottom:1rem}.marsr[_ngcontent-%COMP%]{padding:0 .5rem}.rademp[_ngcontent-%COMP%]{margin-top:2rem}.infoform[_ngcontent-%COMP%]{font-size:medium;opacity:50%;display:flex;justify-content:center;margin-bottom:2rem}.form-label[_ngcontent-%COMP%]{font-weight:600}.container-buttons[_ngcontent-%COMP%]{border:none}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-top:1rem;margin-bottom:4rem}"]}),n})()}];let Dj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Up.forRoot(Ij),Up]}),n})(),Tj=(()=>{class n{constructor(){this.title="ecomarket"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},dependencies:[Sh]}),n})();function wL(n){return new a.vHH(3e3,!1)}function Hh(n){switch(n.length){case 0:return new ph;case 1:return n[0];default:return new ZS(n)}}function EL(n,e,t=new Map,r=new Map){const i=[],c=[];let u=-1,p=null;if(e.forEach(_=>{const w=_.get("offset"),D=w==u,M=D&&p||new Map;_.forEach((L,$)=>{let W=$,J=L;if("offset"!==$)switch(W=n.normalizePropertyName(W,i),J){case"!":J=t.get($);break;case Us:J=r.get($);break;default:J=n.normalizeStyleValue($,W,J,i)}M.set(W,J)}),D||c.push(M),p=M,u=w}),i.length)throw function Yj(n){return new a.vHH(3502,!1)}();return c}function tR(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&nR(t,"start",n)));break;case"done":n.onDone(()=>r(t&&nR(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&nR(t,"destroy",n)))}}function nR(n,e,t){const c=rR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(c._data=u),c}function rR(n,e,t,r,i="",c=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:c,disabled:!!u}}function Gs(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function xL(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const cz=(()=>typeof document>"u"?null:document.documentElement)();function iR(n){const e=n.parentNode||n.host||null;return e===cz?null:e}let mm=null,CL=!1;function IL(n,e){for(;e;){if(e===n)return!0;e=iR(e)}return!1}function DL(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let TL=(()=>{class n{validateStyleProperty(t){return function uz(n){mm||(mm=function dz(){return typeof document<"u"?document.body:null}()||{},CL=!!mm.style&&"WebkitAppearance"in mm.style);let e=!0;return mm.style&&!function lz(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in mm.style,!e&&CL&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in mm.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return IL(t,r)}getParentElement(t){return iR(t)}query(t,r,i){return DL(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,c,u,p=[],_){return new ph(i,c)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),oR=(()=>{class n{}return n.NOOP=new TL,n})();const hz=1e3,sR="ng-enter",ED="ng-leave",xD="ng-trigger",CD=".ng-trigger",AL="ng-animating",aR=".ng-animating";function rd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:cR(parseFloat(e[1]),e[2])}function cR(n,e){return"s"===e?n*hz:n}function ID(n,e,t){return n.hasOwnProperty("duration")?n:function pz(n,e,t){let i,c=0,u="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(wL()),{duration:0,delay:0,easing:""};i=cR(parseFloat(p[1]),p[2]);const _=p[3];null!=_&&(c=cR(parseFloat(_),p[4]));const w=p[5];w&&(u=w)}else i=n;if(!t){let p=!1,_=e.length;i<0&&(e.push(function Sj(){return new a.vHH(3100,!1)}()),p=!0),c<0&&(e.push(function Aj(){return new a.vHH(3101,!1)}()),p=!0),p&&e.splice(_,0,wL())}return{duration:i,delay:c,easing:u}}(n,e,t)}function L0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ML(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function jh(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function bl(n,e,t){e.forEach((r,i)=>{const c=uR(i);t&&!t.has(i)&&t.set(i,n.style[c]),n.style[c]=r})}function gm(n,e){e.forEach((t,r)=>{const i=uR(r);n.style[i]=""})}function V0(n){return Array.isArray(n)?1==n.length?n[0]:wv(n):n}const lR=new RegExp("{{\\s*(.+?)\\s*}}","g");function kL(n){let e=[];if("string"==typeof n){let t;for(;t=lR.exec(n);)e.push(t[1]);lR.lastIndex=0}return e}function B0(n,e,t){const r=n.toString(),i=r.replace(lR,(c,u)=>{let p=e[u];return null==p&&(t.push(function Rj(n){return new a.vHH(3003,!1)}()),p=""),p.toString()});return i==r?n:i}function DD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const _z=/-+([a-z0-9])/g;function uR(n){return n.replace(_z,(...e)=>e[1].toUpperCase())}function qs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function kj(n){return new a.vHH(3004,!1)}()}}function OL(n,e){return window.getComputedStyle(n)[e]}const TD="*";function bz(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function wz(n,e,t){if(":"==n[0]){const _=function Ez(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function qj(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Gj(n){return new a.vHH(3015,!1)}()),e;const i=r[1],c=r[2],u=r[3];e.push(PL(i,u));"<"==c[0]&&!(i==TD&&u==TD)&&e.push(PL(u,i))}(r,t,e)):t.push(n),t}const SD=new Set(["true","1"]),AD=new Set(["false","0"]);function PL(n,e){const t=SD.has(n)||AD.has(n),r=SD.has(e)||AD.has(e);return(i,c)=>{let u=n==TD||n==i,p=e==TD||e==c;return!u&&t&&"boolean"==typeof i&&(u=i?SD.has(n):AD.has(n)),!p&&r&&"boolean"==typeof c&&(p=c?SD.has(e):AD.has(e)),u&&p}}const xz=new RegExp("s*:selfs*,?","g");function dR(n,e,t,r){return new Cz(n).build(e,t,r)}class Cz{constructor(e){this._driver=e}build(e,t,r){const i=new Tz(t);return this._resetContextStyleTimingState(i),qs(this,V0(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const c=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function Pj(){return new a.vHH(3006,!1)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const _=p,w=_.name;w.toString().split(/\s*,\s*/).forEach(D=>{_.name=D,c.push(this.visitState(_,t))}),_.name=w}else if(1==p.type){const _=this.visitTransition(p,t);r+=_.queryCount,i+=_.depCount,u.push(_)}else t.errors.push(function Nj(){return new a.vHH(3007,!1)}())}),{type:7,name:e.name,states:c,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const c=new Set,u=i||{};r.styles.forEach(p=>{p instanceof Map&&p.forEach(_=>{kL(_).forEach(w=>{u.hasOwnProperty(w)||c.add(w)})})}),c.size&&(DD(c.values()),t.errors.push(function Fj(n,e){return new a.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=qs(this,V0(e.animation),t);return{type:1,matchers:bz(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:_m(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>qs(this,r,t)),options:_m(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const c=e.steps.map(u=>{t.currentTime=r;const p=qs(this,u,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:c,options:_m(e.options)}}visitAnimate(e,t){const r=function Az(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return hR(ID(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=hR(0,0,"");return c.dynamic=!0,c.strValue=t,c}const i=ID(t,e);return hR(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,c=e.styles?e.styles:ki({});if(5==c.type)i=this.visitKeyframes(c,t);else{let u=e.styles,p=!1;if(!u){p=!0;const w={};r.easing&&(w.easing=r.easing),u=ki(w)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(u,t);_.isEmptyStep=p,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let p of i)"string"==typeof p?p===Us?r.push(p):t.errors.push(new a.vHH(3002,!1)):r.push(ML(p));let c=!1,u=null;return r.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(u=p.get("easing"),p.delete("easing")),!c))for(let _ of p.values())if(_.toString().indexOf("{{")>=0){c=!0;break}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,c=t.currentTime;r&&c>0&&(c-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((p,_)=>{const w=t.collectedStyles.get(t.currentQuerySelector),D=w.get(_);let M=!0;D&&(c!=i&&c>=D.startTime&&i<=D.endTime&&(t.errors.push(function Vj(n,e,t,r,i){return new a.vHH(3010,!1)}()),M=!1),c=D.startTime),M&&w.set(_,{startTime:c,endTime:i}),t.options&&function gz(n,e,t){const r=e.params||{},i=kL(n);i.length&&i.forEach(c=>{r.hasOwnProperty(c)||t.push(function Mj(n){return new a.vHH(3001,!1)}())})}(p,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Bj(){return new a.vHH(3011,!1)}()),r;let c=0;const u=[];let p=!1,_=!1,w=0;const D=e.steps.map(He=>{const et=this._makeStyleAst(He,t);let Ge=null!=et.offset?et.offset:function Sz(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(et.styles),st=0;return null!=Ge&&(c++,st=et.offset=Ge),_=_||st<0||st>1,p=p||st<w,w=st,u.push(st),et});_&&t.errors.push(function Uj(){return new a.vHH(3012,!1)}()),p&&t.errors.push(function Hj(){return new a.vHH(3200,!1)}());const M=e.steps.length;let L=0;c>0&&c<M?t.errors.push(function jj(){return new a.vHH(3202,!1)}()):0==c&&(L=1/(M-1));const $=M-1,W=t.currentTime,J=t.currentAnimateTimings,he=J.duration;return D.forEach((He,et)=>{const Ge=L>0?et==$?1:L*et:u[et],st=Ge*he;t.currentTime=W+J.delay+st,J.duration=st,this._validateStyleAst(He,t),He.offset=Ge,r.styles.push(He)}),r}visitReference(e,t){return{type:8,animation:qs(this,V0(e.animation),t),options:_m(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:_m(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:_m(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[c,u]=function Iz(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(xz,"")),n=n.replace(/@\*/g,CD).replace(/@\w+/g,t=>CD+"-"+t.slice(1)).replace(/:animating/g,aR),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+c:c,Gs(t.collectedStyles,t.currentQuerySelector,new Map);const p=qs(this,V0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:c,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:p,originalSelector:e.selector,options:_m(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function zj(){return new a.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:ID(e.timings,t.errors,!0);return{type:12,animation:qs(this,V0(e.animation),t),timings:r,options:null}}}class Tz{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function _m(n){return n?(n=L0(n)).params&&(n.params=function Dz(n){return n?L0(n):null}(n.params)):n={},n}function hR(n,e,t){return{duration:n,delay:e,easing:t}}function fR(n,e,t,r,i,c,u=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:c,totalTime:i+c,easing:u,subTimeline:p}}class MD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const kz=new RegExp(":enter","g"),Pz=new RegExp(":leave","g");function pR(n,e,t,r,i,c=new Map,u=new Map,p,_,w=[]){return(new Nz).buildKeyframes(n,e,t,r,i,c,u,p,_,w)}class Nz{buildKeyframes(e,t,r,i,c,u,p,_,w,D=[]){w=w||new MD;const M=new mR(e,t,w,i,c,D,[]);M.options=_;const L=_.delay?rd(_.delay):0;M.currentTimeline.delayNextStep(L),M.currentTimeline.setStyles([u],null,M.errors,_),qs(this,r,M);const $=M.timelines.filter(W=>W.containsAnimation());if($.length&&p.size){let W;for(let J=$.length-1;J>=0;J--){const he=$[J];if(he.element===t){W=he;break}}W&&!W.allowOnlyTimelineStyles()&&W.setStyles([p],null,M.errors,_)}return $.length?$.map(W=>W.buildKeyframes()):[fR(t,[],[],[],0,L,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),c=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);c!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const c=i?.delay;if(c){const u="number"==typeof c?c:rd(B0(c,i?.params??{},t.errors));r.delayNextStep(u)}}}_visitSubInstructions(e,t,r){let c=t.currentTimeline.currentTime;const u=null!=r.duration?rd(r.duration):null,p=null!=r.delay?rd(r.delay):null;return 0!==u&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,u,p);c=Math.max(c,w.duration+w.delay)}),c}visitReference(e,t){t.updateOptions(e.options,!0),qs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const c=e.options;if(c&&(c.params||c.delay)&&(i=t.createSubContext(c),i.transformIntoNewTimeline(),null!=c.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=RD);const u=rd(c.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>qs(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const c=e.options&&e.options.delay?rd(e.options.delay):0;e.steps.forEach(u=>{const p=t.createSubContext(e.options);c&&p.delayNextStep(c),qs(this,u,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return ID(t.params?B0(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const c=e.style;5==c.type?this.visitKeyframes(c,t):(t.incrementTime(r.duration),this.visitStyle(c,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const c=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(c):r.setStyles(e.styles,c,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,c=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(_=>{p.forwardTime((_.offset||0)*c),p.setStyles(_.styles,_.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+c),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},c=i.delay?rd(i.delay):0;c&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=RD);let u=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let _=null;p.forEach((w,D)=>{t.currentQueryIndex=D;const M=t.createSubContext(e.options,w);c&&M.delayNextStep(c),w===t.element&&(_=M.currentTimeline),qs(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,c=e.timings,u=Math.abs(c.duration),p=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":_=p-_;break;case"full":_=r.currentStaggerTime}const D=t.currentTimeline;_&&D.delayNextStep(_);const M=D.currentTime;qs(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const RD={};class mR{constructor(e,t,r,i,c,u,p,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=c,this.errors=u,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=RD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new kD(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=rd(r.duration)),null!=r.delay&&(i.delay=rd(r.delay));const c=r.params;if(c){let u=i.params;u||(u=this.options.params={}),Object.keys(c).forEach(p=>{(!t||!u.hasOwnProperty(p))&&(u[p]=B0(c[p],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,c=new mR(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(e),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(e){return this.previousNode=RD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},c=new Fz(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(c),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,c,u){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(kz,"."+this._enterClassName)).replace(Pz,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),p.push(...w)}return!c&&0==p.length&&u.push(function $j(n){return new a.vHH(3014,!1)}()),p}}class kD{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new kD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Us),this._currentKeyframe.set(t,Us);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const c=i&&i.params||{},u=function Lz(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let c of r)t.set(c,Us)}else jh(i,t)}),t}(e,this._globalTimelineStyles);for(let[p,_]of u){const w=B0(_,c,r);this._pendingStyles.set(p,w),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??Us),this._updateStyle(p,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,_)=>{const w=jh(p,new Map,this._backFill);w.forEach((D,M)=>{"!"===D?e.add(M):D===Us&&t.add(M)}),r||w.set("offset",_/this.duration),i.push(w)});const c=e.size?DD(e.values()):[],u=t.size?DD(t.values()):[];if(r){const p=i[0],_=new Map(p);p.set("offset",0),_.set("offset",1),i=[p,_]}return fR(this.element,i,c,u,this.duration,this.startTime,this.easing,!1)}}class Fz extends kD{constructor(e,t,r,i,c,u,p=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=c,this._stretchStartingKeyframe=p,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const c=[],u=r+t,p=t/u,_=jh(e[0]);_.set("offset",0),c.push(_);const w=jh(e[0]);w.set("offset",LL(p)),c.push(w);const D=e.length-1;for(let M=1;M<=D;M++){let L=jh(e[M]);const $=L.get("offset");L.set("offset",LL((t+$*r)/u)),c.push(L)}r=u,t=0,i="",e=c}return fR(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function LL(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class gR{}const Vz=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Bz extends gR{normalizePropertyName(e,t){return uR(e)}normalizeStyleValue(e,t,r,i){let c="";const u=r.toString().trim();if(Vz.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function Oj(n,e){return new a.vHH(3005,!1)}())}return u+c}}function VL(n,e,t,r,i,c,u,p,_,w,D,M,L){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:c,toState:r,toStyles:u,timelines:p,queriedElements:_,preStyleProps:w,postStyleProps:D,totalTime:M,errors:L}}const _R={};class BL{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Uz(n,e,t,r,i){return n.some(c=>c(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,c,u,p,_,w,D){const M=[],L=this.ast.options&&this.ast.options.params||_R,W=this.buildStyles(r,p&&p.params||_R,M),J=_&&_.params||_R,he=this.buildStyles(i,J,M),He=new Set,et=new Map,Ge=new Map,st="void"===i,Tt={params:Hz(J,L),delay:this.ast.options?.delay},Ft=D?[]:pR(e,t,this.ast.animation,c,u,W,he,Tt,w,M);let xn=0;if(Ft.forEach(Ga=>{xn=Math.max(Ga.duration+Ga.delay,xn)}),M.length)return VL(t,this._triggerName,r,i,st,W,he,[],[],et,Ge,xn,M);Ft.forEach(Ga=>{const pd=Ga.element,nH=Gs(et,pd,new Set);Ga.preStyleProps.forEach($m=>nH.add($m));const eE=Gs(Ge,pd,new Set);Ga.postStyleProps.forEach($m=>eE.add($m)),pd!==t&&He.add(pd)});const ro=DD(He.values());return VL(t,this._triggerName,r,i,st,W,he,Ft,ro,et,Ge,xn)}}function Hz(n,e){const t=L0(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class jz{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=L0(this.defaultParams);return Object.keys(e).forEach(c=>{const u=e[c];null!==u&&(i[c]=u)}),this.styles.styles.forEach(c=>{"string"!=typeof c&&c.forEach((u,p)=>{u&&(u=B0(u,i,t));const _=this.normalizer.normalizePropertyName(p,t);u=this.normalizer.normalizeStyleValue(p,_,u,t),r.set(p,u)})}),r}}class $z{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new jz(i.style,i.options&&i.options.params||{},r))}),UL(this.states,"true","1"),UL(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new BL(e,i,this.states))}),this.fallbackTransition=function Gz(n,e,t){return new BL(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function UL(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const qz=new MD;class Zz{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],c=dR(this._driver,t,r,[]);if(r.length)throw function Qj(n){return new a.vHH(3503,!1)}();this._animations.set(e,c)}_buildPlayer(e,t,r){const i=e.element,c=EL(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,c,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],c=this._animations.get(e);let u;const p=new Map;if(c?(u=pR(this._driver,t,c,sR,ED,new Map,new Map,r,qz,i),u.forEach(D=>{const M=Gs(p,D.element,new Map);D.postStyleProps.forEach(L=>M.set(L,null))})):(i.push(function Xj(){return new a.vHH(3300,!1)}()),u=[]),i.length)throw function Jj(n){return new a.vHH(3504,!1)}();p.forEach((D,M)=>{D.forEach((L,$)=>{D.set($,this._driver.computeStyle(M,$,Us))})});const w=Hh(u.map(D=>{const M=p.get(D.element);return this._buildPlayer(D,new Map,M)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function ez(n){return new a.vHH(3301,!1)}();return t}listen(e,t,r,i){const c=rR(t,"","","");return tR(this._getPlayer(e),r,c,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const c=this._getPlayer(e);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const HL="ng-animate-queued",yR="ng-animate-disabled",Xz=[],jL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Jz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ua="__ng_removed";class vR{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function r6(n){return n??null}(r?e.value:e),r){const c=L0(e);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const U0="void",bR=new vR(U0);class e6{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ha(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function tz(n,e){return new a.vHH(3302,!1)}();if(null==r||0==r.length)throw function nz(n){return new a.vHH(3303,!1)}();if(!function i6(n){return"start"==n||"done"==n}(r))throw function rz(n,e){return new a.vHH(3400,!1)}();const c=Gs(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};c.push(u);const p=Gs(this._engine.statesByElement,e,new Map);return p.has(t)||(Ha(e,xD),Ha(e,xD+"-"+t),p.set(t,bR)),()=>{this._engine.afterFlush(()=>{const _=c.indexOf(u);_>=0&&c.splice(_,1),this._triggers.has(t)||p.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function iz(n){return new a.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const c=this._getTrigger(t),u=new wR(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(Ha(e,xD),Ha(e,xD+"-"+t),this._engine.statesByElement.set(e,p=new Map));let _=p.get(t);const w=new vR(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),p.set(t,w),_||(_=bR),w.value!==U0&&_.value===w.value){if(!function a6(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const c=t[i];if(!e.hasOwnProperty(c)||n[c]!==e[c])return!1}return!0}(_.params,w.params)){const J=[],he=c.matchStyles(_.value,_.params,J),He=c.matchStyles(w.value,w.params,J);J.length?this._engine.reportError(J):this._engine.afterFlush(()=>{gm(e,he),bl(e,He)})}return}const L=Gs(this._engine.playersByElement,e,[]);L.forEach(J=>{J.namespaceId==this.id&&J.triggerName==t&&J.queued&&J.destroy()});let $=c.matchTransition(_.value,w.value,e,w.params),W=!1;if(!$){if(!i)return;$=c.fallbackTransition,W=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:$,fromState:_,toState:w,player:u,isFallbackTransition:W}),W||(Ha(e,HL),u.onStart(()=>{K_(e,HL)})),u.onDone(()=>{let J=this.players.indexOf(u);J>=0&&this.players.splice(J,1);const he=this._engine.playersByElement.get(e);if(he){let He=he.indexOf(u);He>=0&&he.splice(He,1)}}),this.players.push(u),L.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,CD,!0);r.forEach(i=>{if(i[Ua])return;const c=this._engine.fetchNamespacesByElement(i);c.size?c.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const c=this._engine.statesByElement.get(e),u=new Map;if(c){const p=[];if(c.forEach((_,w)=>{if(u.set(w,_.value),this._triggers.has(w)){const D=this.trigger(e,w,U0,i);D&&p.push(D)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&Hh(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(c=>{const u=c.name;if(i.has(u))return;i.add(u);const _=this._triggers.get(u).fallbackTransition,w=r.get(u)||bR,D=new vR(U0),M=new wR(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:w,toState:D,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(e):[];if(c&&c.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const c=e[Ua];(!c||c===jL)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ha(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const c=r.element,u=this._elementListeners.get(c);u&&u.forEach(p=>{if(p.name==r.triggerName){const _=rR(c,r.triggerName,r.fromState.value,r.toState.value);_._data=e,tR(r.player,p.phase,_,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const c=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==c||0==u?c-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class t6{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,c)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new e6(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let u=!1,p=this.driver.getParentElement(t);for(;p;){const _=i.get(p);if(_){const w=r.indexOf(_);r.splice(w+1,0,e),u=!0;break}p=this.driver.getParentElement(p)}u||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const c=this._fetchNamespace(i.namespaceId);c&&t.add(c)}return t}trigger(e,t,r,i){if(OD(t)){const c=this._fetchNamespace(e);if(c)return c.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!OD(t))return;const c=t[Ua];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ha(e,yR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),K_(e,yR))}removeNode(e,t,r){if(OD(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,c){this.collectedLeaveElements.push(t),t[Ua]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:c}}listen(e,t,r,i,c){return OD(t)?this._fetchNamespace(e).listen(t,r,i,c):()=>{}}_buildInstruction(e,t,r,i,c){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,c)}destroyInnerAnimations(e){let t=this.driver.query(e,CD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,aR,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Hh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ua];if(t&&t.setForRemoval){if(e[Ua]=jL,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(yR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ha(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Hh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function oz(n){return new a.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new MD,i=[],c=new Map,u=[],p=new Map,_=new Map,w=new Map,D=new Set;this.disabledNodes.forEach(yt=>{D.add(yt);const At=this.driver.query(yt,".ng-animate-queued",!0);for(let Lt=0;Lt<At.length;Lt++)D.add(At[Lt])});const M=this.bodyNode,L=Array.from(this.statesByElement.keys()),$=GL(L,this.collectedEnterElements),W=new Map;let J=0;$.forEach((yt,At)=>{const Lt=sR+J++;W.set(At,Lt),yt.forEach(vn=>Ha(vn,Lt))});const he=[],He=new Set,et=new Set;for(let yt=0;yt<this.collectedLeaveElements.length;yt++){const At=this.collectedLeaveElements[yt],Lt=At[Ua];Lt&&Lt.setForRemoval&&(he.push(At),He.add(At),Lt.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(vn=>He.add(vn)):et.add(At))}const Ge=new Map,st=GL(L,Array.from(He));st.forEach((yt,At)=>{const Lt=ED+J++;Ge.set(At,Lt),yt.forEach(vn=>Ha(vn,Lt))}),e.push(()=>{$.forEach((yt,At)=>{const Lt=W.get(At);yt.forEach(vn=>K_(vn,Lt))}),st.forEach((yt,At)=>{const Lt=Ge.get(At);yt.forEach(vn=>K_(vn,Lt))}),he.forEach(yt=>{this.processLeaveNode(yt)})});const Tt=[],Ft=[];for(let yt=this._namespaceList.length-1;yt>=0;yt--)this._namespaceList[yt].drainQueuedTransitions(t).forEach(Lt=>{const vn=Lt.player,Hi=Lt.element;if(Tt.push(vn),this.collectedEnterElements.length){const Ro=Hi[Ua];if(Ro&&Ro.setForMove){if(Ro.previousTriggersValues&&Ro.previousTriggersValues.has(Lt.triggerName)){const Gm=Ro.previousTriggersValues.get(Lt.triggerName),qa=this.statesByElement.get(Lt.element);if(qa&&qa.has(Lt.triggerName)){const uS=qa.get(Lt.triggerName);uS.value=Gm,qa.set(Lt.triggerName,uS)}}return void vn.destroy()}}const Ml=!M||!this.driver.containsElement(M,Hi),Ys=Ge.get(Hi),ff=W.get(Hi),Tr=this._buildInstruction(Lt,r,ff,Ys,Ml);if(Tr.errors&&Tr.errors.length)return void Ft.push(Tr);if(Ml)return vn.onStart(()=>gm(Hi,Tr.fromStyles)),vn.onDestroy(()=>bl(Hi,Tr.toStyles)),void i.push(vn);if(Lt.isFallbackTransition)return vn.onStart(()=>gm(Hi,Tr.fromStyles)),vn.onDestroy(()=>bl(Hi,Tr.toStyles)),void i.push(vn);const oH=[];Tr.timelines.forEach(Ro=>{Ro.stretchStartingKeyframe=!0,this.disabledNodes.has(Ro.element)||oH.push(Ro)}),Tr.timelines=oH,r.append(Hi,Tr.timelines),u.push({instruction:Tr,player:vn,element:Hi}),Tr.queriedElements.forEach(Ro=>Gs(p,Ro,[]).push(vn)),Tr.preStyleProps.forEach((Ro,Gm)=>{if(Ro.size){let qa=_.get(Gm);qa||_.set(Gm,qa=new Set),Ro.forEach((uS,PP)=>qa.add(PP))}}),Tr.postStyleProps.forEach((Ro,Gm)=>{let qa=w.get(Gm);qa||w.set(Gm,qa=new Set),Ro.forEach((uS,PP)=>qa.add(PP))})});if(Ft.length){const yt=[];Ft.forEach(At=>{yt.push(function sz(n,e){return new a.vHH(3505,!1)}())}),Tt.forEach(At=>At.destroy()),this.reportError(yt)}const xn=new Map,ro=new Map;u.forEach(yt=>{const At=yt.element;r.has(At)&&(ro.set(At,At),this._beforeAnimationBuild(yt.player.namespaceId,yt.instruction,xn))}),i.forEach(yt=>{const At=yt.element;this._getPreviousPlayers(At,!1,yt.namespaceId,yt.triggerName,null).forEach(vn=>{Gs(xn,At,[]).push(vn),vn.destroy()})});const Ga=he.filter(yt=>ZL(yt,_,w)),pd=new Map;$L(pd,this.driver,et,w,Us).forEach(yt=>{ZL(yt,_,w)&&Ga.push(yt)});const eE=new Map;$.forEach((yt,At)=>{$L(eE,this.driver,new Set(yt),_,"!")}),Ga.forEach(yt=>{const At=pd.get(yt),Lt=eE.get(yt);pd.set(yt,new Map([...At?.entries()??[],...Lt?.entries()??[]]))});const $m=[],rH=[],iH={};u.forEach(yt=>{const{element:At,player:Lt,instruction:vn}=yt;if(r.has(At)){if(D.has(At))return Lt.onDestroy(()=>bl(At,vn.toStyles)),Lt.disabled=!0,Lt.overrideTotalTime(vn.totalTime),void i.push(Lt);let Hi=iH;if(ro.size>1){let Ys=At;const ff=[];for(;Ys=Ys.parentNode;){const Tr=ro.get(Ys);if(Tr){Hi=Tr;break}ff.push(Ys)}ff.forEach(Tr=>ro.set(Tr,Hi))}const Ml=this._buildAnimation(Lt.namespaceId,vn,xn,c,eE,pd);if(Lt.setRealPlayer(Ml),Hi===iH)$m.push(Lt);else{const Ys=this.playersByElement.get(Hi);Ys&&Ys.length&&(Lt.parentPlayer=Hh(Ys)),i.push(Lt)}}else gm(At,vn.fromStyles),Lt.onDestroy(()=>bl(At,vn.toStyles)),rH.push(Lt),D.has(At)&&i.push(Lt)}),rH.forEach(yt=>{const At=c.get(yt.element);if(At&&At.length){const Lt=Hh(At);yt.setRealPlayer(Lt)}}),i.forEach(yt=>{yt.parentPlayer?yt.syncPlayerEvents(yt.parentPlayer):yt.destroy()});for(let yt=0;yt<he.length;yt++){const At=he[yt],Lt=At[Ua];if(K_(At,ED),Lt&&Lt.hasAnimation)continue;let vn=[];if(p.size){let Ml=p.get(At);Ml&&Ml.length&&vn.push(...Ml);let Ys=this.driver.query(At,aR,!0);for(let ff=0;ff<Ys.length;ff++){let Tr=p.get(Ys[ff]);Tr&&Tr.length&&vn.push(...Tr)}}const Hi=vn.filter(Ml=>!Ml.destroyed);Hi.length?o6(this,At,Hi):this.processLeaveNode(At)}return he.length=0,$m.forEach(yt=>{this.players.push(yt),yt.onDone(()=>{yt.destroy();const At=this.players.indexOf(yt);this.players.splice(At,1)}),yt.play()}),$m}elementContainsData(e,t){let r=!1;const i=t[Ua];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,c){let u=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(u=p)}else{const p=this.playersByElement.get(e);if(p){const _=!c||c==U0;p.forEach(w=>{w.queued||!_&&w.triggerName!=i||u.push(w)})}}return(r||i)&&(u=u.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),u}_beforeAnimationBuild(e,t,r){const c=t.element,u=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,D=w!==c,M=Gs(r,w,[]);this._getPreviousPlayers(w,D,u,p,t.toState).forEach($=>{const W=$.getRealPlayer();W.beforeDestroy&&W.beforeDestroy(),$.destroy(),M.push($)})}gm(c,t.fromStyles)}_buildAnimation(e,t,r,i,c,u){const p=t.triggerName,_=t.element,w=[],D=new Set,M=new Set,L=t.timelines.map(W=>{const J=W.element;D.add(J);const he=J[Ua];if(he&&he.removedBeforeQueried)return new ph(W.duration,W.delay);const He=J!==_,et=function s6(n){const e=[];return qL(n,e),e}((r.get(J)||Xz).map(xn=>xn.getRealPlayer())).filter(xn=>!!xn.element&&xn.element===J),Ge=c.get(J),st=u.get(J),Tt=EL(this._normalizer,W.keyframes,Ge,st),Ft=this._buildPlayer(W,Tt,et);if(W.subTimeline&&i&&M.add(J),He){const xn=new wR(e,p,J);xn.setRealPlayer(Ft),w.push(xn)}return Ft});w.forEach(W=>{Gs(this.playersByQueriedElement,W.element,[]).push(W),W.onDone(()=>function n6(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,W.element,W))}),D.forEach(W=>Ha(W,AL));const $=Hh(L);return $.onDestroy(()=>{D.forEach(W=>K_(W,AL)),bl(_,t.toStyles)}),M.forEach(W=>{Gs(i,W,[]).push($)}),$}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new ph(e.duration,e.delay)}}class wR{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new ph,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>tR(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Gs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function OD(n){return n&&1===n.nodeType}function zL(n,e){const t=n.style.display;return n.style.display=e??"none",t}function $L(n,e,t,r,i){const c=[];t.forEach(_=>c.push(zL(_)));const u=[];r.forEach((_,w)=>{const D=new Map;_.forEach(M=>{const L=e.computeStyle(w,M,i);D.set(M,L),(!L||0==L.length)&&(w[Ua]=Jz,u.push(w))}),n.set(w,D)});let p=0;return t.forEach(_=>zL(_,c[p++])),u}function GL(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const i=new Set(e),c=new Map;function u(p){if(!p)return 1;let _=c.get(p);if(_)return _;const w=p.parentNode;return _=t.has(w)?w:i.has(w)?1:u(w),c.set(p,_),_}return e.forEach(p=>{const _=u(p);1!==_&&t.get(_).push(p)}),t}function Ha(n,e){n.classList?.add(e)}function K_(n,e){n.classList?.remove(e)}function o6(n,e,t){Hh(t).onDone(()=>n.processLeaveNode(e))}function qL(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof ZS?qL(r.players,e):e.push(r)}}function ZL(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(c=>i.add(c)):e.set(n,r),t.delete(n),!0}class PD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,c)=>{},this._transitionEngine=new t6(e,t,r),this._timelineEngine=new Zz(e,t,r),this._transitionEngine.onRemovalComplete=(i,c)=>this.onRemovalComplete(i,c)}registerTrigger(e,t,r,i,c){const u=e+"-"+i;let p=this._triggerCache[u];if(!p){const _=[],D=dR(this._driver,c,_,[]);if(_.length)throw function Kj(n,e){return new a.vHH(3404,!1)}();p=function zz(n,e,t){return new $z(n,e,t)}(i,D,this._normalizer),this._triggerCache[u]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[c,u]=xL(r);this._timelineEngine.command(c,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,c){if("@"==r.charAt(0)){const[u,p]=xL(r);return this._timelineEngine.listen(u,t,p,c)}return this._transitionEngine.listen(e,t,r,i,c)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let l6=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let c=n.initialStylesByElement.get(t);c||n.initialStylesByElement.set(t,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&bl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bl(this._element,this._initialStyles),this._endStyles&&(bl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(gm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gm(this._element,this._endStyles),this._endStyles=null),bl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ER(n){let e=null;return n.forEach((t,r)=>{(function u6(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class WL{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:OL(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class d6{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return IL(e,t)}getParentElement(e){return iR(e)}query(e,t,r){return DL(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,c,u=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};c&&(_.easing=c);const w=new Map,D=u.filter($=>$ instanceof WL);(function yz(n,e){return 0===n||0===e})(r,i)&&D.forEach($=>{$.currentSnapshot.forEach((W,J)=>w.set(J,W))});let M=function mz(n){return n.length?n[0]instanceof Map?n:n.map(e=>ML(e)):[]}(t).map($=>jh($));M=function vz(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((c,u)=>{r.has(u)||i.push(u),r.set(u,c)}),i.length)for(let c=1;c<e.length;c++){let u=e[c];i.forEach(p=>u.set(p,OL(n,p)))}}return e}(e,M,w);const L=function c6(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=ER(e[0]),e.length>1&&(r=ER(e[e.length-1]))):e instanceof Map&&(t=ER(e)),t||r?new l6(n,t,r):null}(e,M);return new WL(e,M,_,L)}}let h6=(()=>{class n extends vv{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?wv(t):t;return KL(this._renderer,null,r,"register",[i]),new f6(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(ae))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class f6 extends lN{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new p6(this._id,e,t||{},this._renderer)}}class p6{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return KL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function KL(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const YL="@.disabled";let m6=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(c,u)=>{const p=u?.parentNode(c);p&&u.removeChild(p,c)}}createRenderer(t,r){const c=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(c);return D||(D=new QL("",c,this.engine,()=>this._rendererCache.delete(c)),this._rendererCache.set(c,D)),D}const u=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const _=D=>{Array.isArray(D)?D.forEach(_):this.engine.registerTrigger(u,p,t,D.name,D)};return r.data.animation.forEach(_),new g6(this,p,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[u,p]=c;u(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(PD),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class QL{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?c=>t.destroyNode(c):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==YL?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class g6 extends QL{constructor(e,t,r,i,c){super(t,r,i,c),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==YL?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function _6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let c=t.slice(1),u="";return"@"!=c.charAt(0)&&([c,u]=function y6(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(c)),this.engine.listen(this.namespaceId,i,c,u,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let v6=(()=>{class n extends PD{constructor(t,r,i,c){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ae),a.LFG(oR),a.LFG(gR),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const XL=[{provide:vv,useClass:h6},{provide:gR,useFactory:function b6(){return new Bz}},{provide:PD,useClass:v6},{provide:a.FYo,useFactory:function w6(n,e,t){return new m6(n,e,t)},deps:[Ai,PD,a.R0b]}],xR=[{provide:oR,useFactory:()=>new d6},{provide:a.QbO,useValue:"BrowserAnimations"},...XL],JL=[{provide:oR,useClass:TL},{provide:a.QbO,useValue:"NoopAnimations"},...XL];let E6=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?JL:xR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:xR,imports:[ga]}),n})(),e2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rn,mh,mp,jg]}),n})(),x6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rn]}),n})(),C6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rn,Io.hO,l0,mD]}),n})(),t2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rn]}),n})(),I6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),D6=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),T6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[D6]}),n})(),CR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fr,rn,T6,fr]}),n})(),P6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[fr,CR,CR,I6,fr]}),n})(),N6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rn,tj,fj]}),n})(),V6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[gv,fr,gv,fr]}),n})(),B6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rn]}),n})(),U6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rn,mD]}),n})(),H6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rn]}),n})(),j6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rn,kv,mh,Rv,Ra,e2,x6,C6,t2,F4,CR,P6,mp,xH,mD,N6,V6,B6,U6,H6]}),n})();function IR(){return(0,Qn.e)((n,e)=>{let t,r=!1;n.subscribe((0,On.x)(e,i=>{const c=t;t=i,r&&e.next([c,i]),r=!0}))})}O(5967);var nt,z6=O(3106),$6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mc={},DR=DR||{},qt=$6||self;function FD(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function H0(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var TR="closure_uid_"+(1e9*Math.random()>>>0),q6=0;function Z6(n,e,t){return n.call.apply(n.bind,arguments)}function W6(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Do(n,e,t){return(Do=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Z6:W6).apply(null,arguments)}function LD(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Fi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,c){for(var u=Array(arguments.length-2),p=2;p<arguments.length;p++)u[p-2]=arguments[p];return e.prototype[i].apply(r,u)}}function zh(){this.s=this.s,this.o=this.o}zh.prototype.s=!1,zh.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function G6(n){Object.prototype.hasOwnProperty.call(n,TR)&&n[TR]||(n[TR]=++q6)}(this)},zh.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const r2=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function SR(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function o2(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(FD(r)){const i=n.length||0,c=r.length||0;n.length=i+c;for(let u=0;u<c;u++)n[i+u]=r[u]}else n.push(r)}}function To(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}To.prototype.h=function(){this.defaultPrevented=!0};var Y6=function(){if(!qt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{qt.addEventListener("test",()=>{},e),qt.removeEventListener("test",()=>{},e)}catch{}return n}();function j0(n){return/^[\s\xa0]*$/.test(n)}function VD(){var n=qt.navigator;return n&&(n=n.userAgent)?n:""}function wl(n){return-1!=VD().indexOf(n)}function AR(n){return AR[" "](n),n}AR[" "]=function(){};var RR,n,X6=wl("Opera"),Y_=wl("Trident")||wl("MSIE"),s2=wl("Edge"),MR=s2||Y_,a2=wl("Gecko")&&!(-1!=VD().toLowerCase().indexOf("webkit")&&!wl("Edge"))&&!(wl("Trident")||wl("MSIE"))&&!wl("Edge"),J6=-1!=VD().toLowerCase().indexOf("webkit")&&!wl("Edge");function c2(){var n=qt.document;return n?n.documentMode:void 0}e:{var kR="",OR=(n=VD(),a2?/rv:([^\);]+)(\)|;)/.exec(n):s2?/Edge\/([\d\.]+)/.exec(n):Y_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):J6?/WebKit\/(\S+)/.exec(n):X6?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(OR&&(kR=OR?OR[1]:""),Y_){var PR=c2();if(null!=PR&&PR>parseFloat(kR)){RR=String(PR);break e}}RR=kR}var e5=qt.document&&Y_&&(c2()||parseInt(RR,10))||void 0;function z0(n,e){if(To.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(a2){e:{try{AR(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:t5[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&z0.$.h.call(this)}}Fi(z0,To);var t5={2:"touch",3:"pen",4:"mouse"};z0.prototype.h=function(){z0.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var $0="closure_listenable_"+(1e6*Math.random()|0),n5=0;function r5(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++n5,this.fa=this.ia=!1}function BD(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function FR(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function u2(n){const e={};for(const t in n)e[t]=n[t];return e}const d2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function h2(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let c=0;c<d2.length;c++)t=d2[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function UD(n){this.src=n,this.g={},this.h=0}function LR(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],i=r2(r,e);(c=0<=i)&&Array.prototype.splice.call(r,i,1),c&&(BD(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function VR(n,e,t,r){for(var i=0;i<n.length;++i){var c=n[i];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==r)return i}return-1}UD.prototype.add=function(n,e,t,r,i){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var u=VR(n,e,r,i);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new r5(e,this.src,c,!!r,i)).ia=t,n.push(e)),e};var BR="closure_lm_"+(1e6*Math.random()|0),UR={};function f2(n,e,t,r,i){if(r&&r.once)return m2(n,e,t,r,i);if(Array.isArray(e)){for(var c=0;c<e.length;c++)f2(n,e[c],t,r,i);return null}return t=$R(t),n&&n[$0]?n.O(e,t,H0(r)?!!r.capture:!!r,i):p2(n,e,t,!1,r,i)}function p2(n,e,t,r,i,c){if(!e)throw Error("Invalid event type");var u=H0(i)?!!i.capture:!!i,p=jR(n);if(p||(n[BR]=p=new UD(n)),(t=p.add(e,t,r,u,c)).proxy)return t;if(r=function o5(){const e=s5;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Y6||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(_2(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function m2(n,e,t,r,i){if(Array.isArray(e)){for(var c=0;c<e.length;c++)m2(n,e[c],t,r,i);return null}return t=$R(t),n&&n[$0]?n.P(e,t,H0(r)?!!r.capture:!!r,i):p2(n,e,t,!0,r,i)}function g2(n,e,t,r,i){if(Array.isArray(e))for(var c=0;c<e.length;c++)g2(n,e[c],t,r,i);else r=H0(r)?!!r.capture:!!r,t=$R(t),n&&n[$0]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=VR(c=n.g[e],t,r,i))&&(BD(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=jR(n))&&(e=n.g[e.toString()],n=-1,e&&(n=VR(e,t,r,i)),(t=-1<n?e[n]:null)&&HR(t))}function HR(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[$0])LR(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(_2(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=jR(e))?(LR(t,n),0==t.h&&(t.src=null,e[BR]=null)):BD(n)}}}function _2(n){return n in UR?UR[n]:UR[n]="on"+n}function s5(n,e){if(n.fa)n=!0;else{e=new z0(e,this);var t=n.listener,r=n.la||n.src;n.ia&&HR(n),n=t.call(r,e)}return n}function jR(n){return(n=n[BR])instanceof UD?n:null}var zR="__closure_events_fn_"+(1e9*Math.random()>>>0);function $R(n){return"function"==typeof n?n:(n[zR]||(n[zR]=function(e){return n.handleEvent(e)}),n[zR])}function Li(){zh.call(this),this.i=new UD(this),this.S=this,this.J=null}function Xi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new To(e,n);else if(e instanceof To)e.target=e.target||n;else{var i=e;h2(e=new To(r,n),i)}if(i=!0,t)for(var c=t.length-1;0<=c;c--){var u=e.g=t[c];i=HD(u,r,!0,e)&&i}if(i=HD(u=e.g=n,r,!0,e)&&i,i=HD(u,r,!1,e)&&i,t)for(c=0;c<t.length;c++)i=HD(u=e.g=t[c],r,!1,e)&&i}function HD(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,c=0;c<e.length;++c){var u=e[c];if(u&&!u.fa&&u.capture==t){var p=u.listener,_=u.la||u.src;u.ia&&LR(n.i,u),i=!1!==p.call(_,r)&&i}}return i&&!r.defaultPrevented}Fi(Li,zh),Li.prototype[$0]=!0,Li.prototype.removeEventListener=function(n,e,t,r){g2(this,n,e,t,r)},Li.prototype.N=function(){if(Li.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)BD(t[r]);delete n.g[e],n.h--}}this.J=null},Li.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Li.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var GR=qt.JSON.stringify;function c5(){var n=qR;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var y2=new class a5{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new u5,n=>n.reset());class u5{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function d5(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function h5(n){qt.setTimeout(()=>{throw n},0)}let G0,q0=!1,qR=new class l5{constructor(){this.h=this.g=null}add(e,t){const r=y2.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},v2=()=>{const n=qt.Promise.resolve(void 0);G0=()=>{n.then(f5)}};var f5=()=>{for(var n;n=c5();){try{n.h.call(n.g)}catch(t){h5(t)}var e=y2;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}q0=!1};function jD(n,e){Li.call(this),this.h=n||1,this.g=e||qt,this.j=Do(this.qb,this),this.l=Date.now()}function ZR(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function WR(n,e,t){if("function"==typeof n)t&&(n=Do(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Do(n.handleEvent,n)}return 2147483647<Number(e)?-1:qt.setTimeout(n,e||0)}function b2(n){n.g=WR(()=>{n.g=null,n.i&&(n.i=!1,b2(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Fi(jD,Li),(nt=jD.prototype).ga=!1,nt.T=null,nt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xi(this,"tick"),this.ga&&(ZR(this),this.start()))}},nt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.N=function(){jD.$.N.call(this),ZR(this),delete this.g};class p5 extends zh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:b2(this)}N(){super.N(),this.g&&(qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Z0(n){zh.call(this),this.h=n,this.g={}}Fi(Z0,zh);var w2=[];function E2(n,e,t,r){Array.isArray(t)||(t&&(w2[0]=t.toString()),t=w2);for(var i=0;i<t.length;i++){var c=f2(e,t[i],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function x2(n){FR(n.g,function(e,t){this.g.hasOwnProperty(t)&&HR(e)},n),n.g={}}function zD(){this.g=!0}function Q_(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function y5(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var c=i[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var u=1;u<i.length;u++)i[u]=""}}}return GR(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Z0.prototype.N=function(){Z0.$.N.call(this),x2(this)},Z0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zD.prototype.Ea=function(){this.g=!1},zD.prototype.info=function(){};var vm={},C2=null;function $D(){return C2=C2||new Li}function I2(n){To.call(this,vm.Ta,n)}function W0(n){const e=$D();Xi(e,new I2(e))}function D2(n,e){To.call(this,vm.STAT_EVENT,n),this.stat=e}function Qo(n){const e=$D();Xi(e,new D2(e,n))}function T2(n,e){To.call(this,vm.Ua,n),this.size=e}function K0(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return qt.setTimeout(function(){n()},e)}vm.Ta="serverreachability",Fi(I2,To),vm.STAT_EVENT="statevent",Fi(D2,To),vm.Ua="timingevent",Fi(T2,To);var GD={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},S2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function KR(){}function M2(){}KR.prototype.h=null;var XR,Y0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function YR(){To.call(this,"d")}function QR(){To.call(this,"c")}function qD(){}function Q0(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Z0(this),this.P=v5,this.V=new jD(n=MR?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new R2}function R2(){this.i=null,this.g="",this.h=!1}Fi(YR,To),Fi(QR,To),Fi(qD,KR),qD.prototype.g=function(){return new XMLHttpRequest},qD.prototype.i=function(){return{}},XR=new qD;var v5=45e3,JR={},ZD={};function ek(n,e,t){n.L=1,n.v=QD(id(e)),n.s=t,n.S=!0,k2(n,null)}function k2(n,e){n.G=Date.now(),X0(n),n.A=id(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),j2(t.i,"t",r),n.C=0,t=n.l.J,n.h=new R2,n.g=hV(n.l,t?e:null,!n.s),0<n.O&&(n.M=new p5(Do(n.Pa,n,n.g),n.O)),E2(n.U,n.g,"readystatechange",n.nb),e=n.I?u2(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),W0(),function m5(n,e,t,r,i,c){n.info(function(){if(n.g)if(c)for(var u="",p=c.split("&"),_=0;_<p.length;_++){var w=p[_].split("=");if(1<w.length){var D=w[0];w=w[1];var M=D.split("_");u=2<=M.length&&"type"==M[1]?u+(D+"=")+w+"&":u+(D+"=redacted&")}}else u=null;else u=c;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function O2(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function P2(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=b5(n,t),i==ZD){4==e&&(n.o=4,Qo(14),r=!1),Q_(n.j,n.m,null,"[Incomplete Response]");break}if(i==JR){n.o=4,Qo(15),Q_(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Q_(n.j,n.m,i,null),tk(n,i)}O2(n)&&i!=ZD&&i!=JR&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Qo(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ck(e),e.M=!0,Qo(11))):(Q_(n.j,n.m,t,"[Invalid Chunked Response]"),bm(n),J0(n))}function b5(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ZD:(t=Number(e.substring(t,r)),isNaN(t)?JR:(r+=1)+t>e.length?ZD:(e=e.slice(r,r+t),n.C=r+t,e))}function X0(n){n.Y=Date.now()+n.P,N2(n,n.P)}function N2(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=K0(Do(n.lb,n),e)}function WD(n){n.B&&(qt.clearTimeout(n.B),n.B=null)}function J0(n){0==n.l.H||n.J||cV(n.l,n)}function bm(n){WD(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,ZR(n.V),x2(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function tk(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||nk(t.i,n)))if(!n.K&&nk(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;rT(t),tT(t)}ak(t),Qo(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=K0(Do(t.ib,t),6e3));if(1>=G2(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Em(t,11)}else if((n.K||t.g==n)&&rT(t),!j0(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.V=w[0],w=w[1],2==t.H)if("c"==w[0]){t.K=w[1],t.pa=w[2];const D=w[3];null!=D&&(t.ra=D,t.l.info("VER="+t.ra));const M=w[4];null!=M&&(t.Ga=M,t.l.info("SVER="+t.Ga));const L=w[5];null!=L&&"number"==typeof L&&0<L&&(t.L=r=1.5*L,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const $=n.g;if($){const W=$.g?$.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(W){var c=r.i;c.g||-1==W.indexOf("spdy")&&-1==W.indexOf("quic")&&-1==W.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(rk(c,c.h),c.h=null))}if(r.F){const J=$.g?$.g.getResponseHeader("X-HTTP-Session-Id"):null;J&&(r.Da=J,sr(r.I,r.F,J))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var u=n;if((r=t).wa=dV(r,r.J?r.pa:null,r.Y),u.K){q2(r.i,u);var p=u,_=r.L;_&&p.setTimeout(_),p.B&&(WD(p),X0(p)),r.g=u}else sV(r);0<t.j.length&&nT(t)}else"stop"!=w[0]&&"close"!=w[0]||Em(t,7);else 3==t.H&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Em(t,7):sk(t):"noop"!=w[0]&&t.h&&t.h.Aa(w),t.A=0)}W0()}catch{}}function F2(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(FD(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function E5(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(FD(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function w5(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(FD(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,c=0;c<i;c++)e.call(void 0,r[c],t&&t[c],n)}(nt=Q0.prototype).setTimeout=function(n){this.P=n},nt.nb=function(n){n=n.target;const e=this.M;e&&3==El(n)?e.l():this.Pa(n)},nt.Pa=function(n){try{if(n==this.g)e:{const D=El(this.g);var e=this.g.Ia();if(this.g.da(),!(3>D)&&(3!=D||MR||this.g&&(this.h.h||this.g.ja()||eV(this.g)))){this.J||4!=D||7==e||W0(),WD(this);var t=this.g.da();this.ca=t;t:if(O2(this)){var r=eV(this.g);n="";var i=r.length,c=4==El(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){bm(this),J0(this);var u="";break t}this.h.i=new qt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function g5(n,e,t,r,i,c,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+c+" "+u})}(this.j,this.u,this.A,this.m,this.W,D,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var p,_=this.g;if((p=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j0(p)){var w=p;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Qo(12),bm(this),J0(this);break e}Q_(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tk(this,t)}this.S?(P2(this,D,u),MR&&this.i&&3==D&&(E2(this.U,this.V,"tick",this.mb),this.V.start())):(Q_(this.j,this.m,u,null),tk(this,u)),4==D&&bm(this),this.i&&!this.J&&(4==D?cV(this.l,this):(this.i=!1,X0(this)))}else(function U5(n){const e={};n=(n.g&&2<=El(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(j0(n[r]))continue;var t=d5(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[i]||[];e[i]=c,c.push(t)}!function i5(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Qo(12)):(this.o=0,Qo(13)),bm(this),J0(this)}}}catch{}},nt.mb=function(){if(this.g){var n=El(this.g),e=this.g.ja();this.C<e.length&&(WD(this),P2(this,n,e),this.i&&4!=n&&X0(this))}},nt.cancel=function(){this.J=!0,bm(this)},nt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function _5(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(W0(),Qo(17)),bm(this),this.o=2,J0(this)):N2(this,this.Y-n)};var L2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wm(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof wm){this.h=n.h,KD(this,n.j),this.s=n.s,this.g=n.g,YD(this,n.m),this.l=n.l;var e=n.i,t=new nw;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),V2(this,t),this.o=n.o}else n&&(e=String(n).match(L2))?(this.h=!1,KD(this,e[1]||"",!0),this.s=ew(e[2]||""),this.g=ew(e[3]||"",!0),YD(this,e[4]),this.l=ew(e[5]||"",!0),V2(this,e[6]||"",!0),this.o=ew(e[7]||"")):(this.h=!1,this.i=new nw(null,this.h))}function id(n){return new wm(n)}function KD(n,e,t){n.j=t?ew(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function YD(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function V2(n,e,t){e instanceof nw?(n.i=e,function A5(n,e){e&&!n.j&&($h(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(U2(this,r),j2(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=tw(e,T5)),n.i=new nw(e,n.h))}function sr(n,e,t){n.i.set(e,t)}function QD(n){return sr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ew(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function tw(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,C5),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function C5(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}wm.prototype.toString=function(){var n=[],e=this.j;e&&n.push(tw(e,B2,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(tw(e,B2,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(tw(t,"/"==t.charAt(0)?D5:I5,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",tw(t,S5)),n.join("")};var B2=/[#\/\?@]/g,I5=/[#\?:]/g,D5=/[#\?]/g,T5=/[#\?@]/g,S5=/#/g;function nw(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function $h(n){n.g||(n.g=new Map,n.h=0,n.i&&function x5(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var c=n[t].substring(0,r);i=n[t].substring(r+1)}else c=n[t];e(c,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function U2(n,e){$h(n),e=X_(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function H2(n,e){return $h(n),e=X_(n,e),n.g.has(e)}function j2(n,e,t){U2(n,e),0<t.length&&(n.i=null,n.g.set(X_(n,e),SR(t)),n.h+=t.length)}function X_(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function z2(n){this.l=n||R5,n=qt.PerformanceNavigationTiming?0<(n=qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(qt.g&&qt.g.Ka&&qt.g.Ka()&&qt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nt=nw.prototype).add=function(n,e){$h(this),this.i=null,n=X_(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nt.forEach=function(n,e){$h(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},nt.ta=function(){$h(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let c=0;c<i.length;c++)t.push(e[r])}return t},nt.Z=function(n){$h(this);let e=[];if("string"==typeof n)H2(this,n)&&(e=e.concat(this.g.get(X_(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},nt.set=function(n,e){return $h(this),this.i=null,H2(this,n=X_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const c=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var i=c;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var R5=10;function $2(n){return!!n.h||!!n.g&&n.g.size>=n.j}function G2(n){return n.h?1:n.g?n.g.size:0}function nk(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function rk(n,e){n.g?n.g.add(e):n.h=e}function q2(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Z2(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return SR(n.i)}z2.prototype.cancel=function(){if(this.i=Z2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var k5=class{stringify(n){return qt.JSON.stringify(n,void 0)}parse(n){return qt.JSON.parse(n,void 0)}};function O5(){this.g=new k5}function P5(n,e,t){const r=t||"";try{F2(n,function(i,c){let u=i;H0(i)&&(u=GR(i)),e.push(r+c+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function XD(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function rw(n){this.l=n.fc||null,this.j=n.ob||!1}function JD(n,e){Li.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=ik,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fi(rw,KR),rw.prototype.g=function(){return new JD(this.l,this.j)},rw.prototype.i=function(n){return function(){return n}}({}),Fi(JD,Li);var ik=0;function W2(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function iw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ow(n)}function ow(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nt=JD.prototype).open=function(n,e){if(this.readyState!=ik)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ow(this)},nt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||qt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,iw(this)),this.readyState=ik},nt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ow(this)),this.g&&(this.readyState=3,ow(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof qt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;W2(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},nt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?iw(this):ow(this),3==this.readyState&&W2(this)}},nt.Za=function(n){this.g&&(this.response=this.responseText=n,iw(this))},nt.Ya=function(n){this.g&&(this.response=n,iw(this))},nt.ka=function(){this.g&&iw(this)},nt.setRequestHeader=function(n,e){this.v.append(n,e)},nt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(JD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var F5=qt.JSON.parse;function Fr(n){Li.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=K2,this.L=this.M=!1}Fi(Fr,Li);var K2="",L5=/^https?$/i,V5=["POST","PUT"];function Y2(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Q2(n),eT(n)}function Q2(n){n.F||(n.F=!0,Xi(n,"complete"),Xi(n,"error"))}function X2(n){if(n.h&&typeof DR<"u"&&(!n.C[1]||4!=El(n)||2!=n.da()))if(n.v&&4==El(n))WR(n.La,0,n);else if(Xi(n,"readystatechange"),4==El(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===u){var i=String(n.I).match(L2)[1]||null;!i&&qt.self&&qt.self.location&&(i=qt.self.location.protocol.slice(0,-1)),r=!L5.test(i?i.toLowerCase():"")}t=r}if(t)Xi(n,"complete"),Xi(n,"success");else{n.m=6;try{var c=2<El(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",Q2(n)}}finally{eT(n)}}}function eT(n,e){if(n.g){J2(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Xi(n,"ready");try{t.onreadystatechange=r}catch{}}}function J2(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(qt.clearTimeout(n.A),n.A=null)}function El(n){return n.g?n.g.readyState:0}function eV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case K2:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function tV(n){let e="";return FR(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function ok(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=tV(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):sr(n,e,t))}function sw(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function nV(n){this.Ga=0,this.j=[],this.l=new zD,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=sw("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=sw("baseRetryDelayMs",5e3,n),this.hb=sw("retryDelaySeedMs",1e4,n),this.eb=sw("forwardChannelMaxRetries",2,n),this.xa=sw("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new z2(n&&n.concurrentRequestLimit),this.Ja=new O5,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function sk(n){if(rV(n),3==n.H){var e=n.W++,t=id(n.I);if(sr(t,"SID",n.K),sr(t,"RID",e),sr(t,"TYPE","terminate"),aw(n,t),(e=new Q0(n,n.l,e)).L=2,e.v=QD(id(t)),t=!1,qt.navigator&&qt.navigator.sendBeacon)try{t=qt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&qt.Image&&((new Image).src=e.v,t=!0),t||(e.g=hV(e.l,null),e.g.ha(e.v)),e.G=Date.now(),X0(e)}uV(n)}function tT(n){n.g&&(ck(n),n.g.cancel(),n.g=null)}function rV(n){tT(n),n.u&&(qt.clearTimeout(n.u),n.u=null),rT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&qt.clearTimeout(n.m),n.m=null)}function nT(n){if(!$2(n.i)&&!n.m){n.m=!0;var e=n.Na;G0||v2(),q0||(G0(),q0=!0),qR.add(e,n),n.C=0}}function iV(n,e){var t;t=e?e.m:n.W++;const r=id(n.I);sr(r,"SID",n.K),sr(r,"RID",t),sr(r,"AID",n.V),aw(n,r),n.o&&n.s&&ok(r,n.o,n.s),t=new Q0(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=oV(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),rk(n.i,t),ek(t,r,e)}function aw(n,e){n.na&&FR(n.na,function(t,r){sr(e,r,t)}),n.h&&F2({},function(t,r){sr(e,r,t)})}function oV(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Do(n.h.Va,n.h,n):null;e:{var i=n.j;let c=-1;for(;;){const u=["count="+t];-1==c?0<t?(c=i[0].g,u.push("ofs="+c)):c=0:u.push("ofs="+c);let p=!0;for(let _=0;_<t;_++){let w=i[_].g;const D=i[_].map;if(w-=c,0>w)c=Math.max(0,i[_].g-100),p=!1;else try{P5(D,u,"req"+w+"_")}catch{r&&r(D)}}if(p){r=u.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function sV(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;G0||v2(),q0||(G0(),q0=!0),qR.add(e,n),n.A=0}}function ak(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=K0(Do(n.Ma,n),lV(n,n.A)),n.A++,0))}function ck(n){null!=n.B&&(qt.clearTimeout(n.B),n.B=null)}function aV(n){n.g=new Q0(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=id(n.wa);sr(e,"RID","rpc"),sr(e,"SID",n.K),sr(e,"AID",n.V),sr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&sr(e,"TO",n.qa),sr(e,"TYPE","xmlhttp"),aw(n,e),n.o&&n.s&&ok(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=QD(id(e)),t.s=null,t.S=!0,k2(t,n)}function rT(n){null!=n.v&&(qt.clearTimeout(n.v),n.v=null)}function cV(n,e){var t=null;if(n.g==e){rT(n),ck(n),n.g=null;var r=2}else{if(!nk(n.i,e))return;t=e.F,q2(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Xi(r=$D(),new T2(r,t)),nT(n)}else sV(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function H5(n,e){return!(G2(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=K0(Do(n.Na,n,e),lV(n,n.C)),n.C++,0)))}(n,e)||2==r&&ak(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Em(n,5);break;case 4:Em(n,10);break;case 3:Em(n,6);break;default:Em(n,2)}}function lV(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Em(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Do(n.pb,n);t||(t=new wm("//www.google.com/images/cleardot.gif"),qt.location&&"http"==qt.location.protocol||KD(t,"https"),QD(t)),function N5(n,e){const t=new zD;if(qt.Image){const r=new Image;r.onload=LD(XD,t,r,"TestLoadImage: loaded",!0,e),r.onerror=LD(XD,t,r,"TestLoadImage: error",!1,e),r.onabort=LD(XD,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=LD(XD,t,r,"TestLoadImage: timeout",!1,e),qt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Qo(2);n.H=0,n.h&&n.h.za(e),uV(n),rV(n)}function uV(n){if(n.H=0,n.ma=[],n.h){const e=Z2(n.i);(0!=e.length||0!=n.j.length)&&(o2(n.ma,e),o2(n.ma,n.j),n.i.i.length=0,SR(n.j),n.j.length=0),n.h.ya()}}function dV(n,e,t){var r=t instanceof wm?id(t):new wm(t);if(""!=r.g)e&&(r.g=e+"."+r.g),YD(r,r.m);else{var i=qt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var c=new wm(null);r&&KD(c,r),e&&(c.g=e),i&&YD(c,i),t&&(c.l=t),r=c}return e=n.Da,(t=n.F)&&e&&sr(r,t,e),sr(r,"VER",n.ra),aw(n,r),r}function hV(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Fr(t&&n.Ha&&!n.va?new rw({ob:!0}):n.va)).Oa(n.J),e}function fV(){}function iT(){if(Y_&&!(10<=Number(e5)))throw Error("Environmental error: no available transport.")}function Zs(n,e){Li.call(this),this.g=new nV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!j0(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!j0(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new J_(this)}function pV(n){YR.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function mV(){QR.call(this),this.status=1}function J_(n){this.g=n}function Rc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function lk(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=n.g[3],u=(e=n.g[0])+(c^(t=n.g[1])&((i=n.g[2])^c))+r[0]+3614090360&4294967295;u=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=(t=(i=(c=(e=t+(u<<7&4294967295|u>>>25))+((u=c+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^c&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(c^e))+r[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^t&(i^c))+r[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=c+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^c&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(c^e))+r[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^t&(i^c))+r[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=c+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^c&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(c^e))+r[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^t&(i^c))+r[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=c+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^c&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(c^e))+r[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(i^c&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=c+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(c^e))+r[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(c^e&(i^c))+r[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^c&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=c+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(c^e))+r[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(c^e&(i^c))+r[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^c&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=c+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(c^e))+r[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(c^e&(i^c))+r[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^c&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=c+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(c^e))+r[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(c^e&(i^c))+r[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^i^c)+r[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=i+(c^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^c^e)+r[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^c)+r[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=i+(c^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^c^e)+r[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^c)+r[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=i+(c^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^c^e)+r[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^c)+r[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=i+(c^e^t)+r[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^c^e)+r[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(i^(t|~c))+r[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=c+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(c|~t))+r[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(c^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(i^(t|~c))+r[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=c+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(c|~t))+r[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(c^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(i^(t|~c))+r[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=c+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(c|~t))+r[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(c^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((c=(e=t+((u=e+(i^(t|~c))+r[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=c+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((i=c+((u=i+(e^(c|~t))+r[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+c&4294967295}function Nn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var c=0|n[i];r&&c==e||(t[i]=c,r=!1)}this.g=t}(nt=Fr.prototype).Oa=function(n){this.M=n},nt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():XR.g(),this.C=function A2(n){return n.h||(n.h=n.i())}(this.u?this.u:XR),this.g.onreadystatechange=Do(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(c){return void Y2(this,c)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())t.set(c,r.get(c))}r=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),i=qt.FormData&&n instanceof qt.FormData,!(0<=r2(V5,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,u]of t)this.g.setRequestHeader(c,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{J2(this),0<this.B&&((this.L=function B5(n){return Y_&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Do(this.ua,this)):this.A=WR(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){Y2(this,c)}},nt.ua=function(){typeof DR<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xi(this,"timeout"),this.abort(8))},nt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Xi(this,"complete"),Xi(this,"abort"),eT(this))},nt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),eT(this,!0)),Fr.$.N.call(this)},nt.La=function(){this.s||(this.G||this.v||this.l?X2(this):this.kb())},nt.kb=function(){X2(this)},nt.isActive=function(){return!!this.g},nt.da=function(){try{return 2<El(this)?this.g.status:-1}catch{return-1}},nt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},nt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),F5(e)}},nt.Ia=function(){return this.m},nt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=nV.prototype).ra=8,nt.H=1,nt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Q0(this,this.l,n);let c=this.s;if(this.U&&(c?(c=u2(c),h2(c,this.U)):c=this.U),null!==this.o||this.O||(i.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=oV(this,i,e),sr(t=id(this.I),"RID",n),sr(t,"CVER",22),this.F&&sr(t,"X-HTTP-Session-Id",this.F),aw(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(tV(c)))+"&"+e:this.o&&ok(t,this.o,c)),rk(this.i,i),this.bb&&sr(t,"TYPE","init"),this.P?(sr(t,"$req",e),sr(t,"SID","null"),i.aa=!0,ek(i,t,null)):ek(i,t,e),this.H=2}}else 3==this.H&&(n?iV(this,n):0==this.j.length||$2(this.i)||iV(this))},nt.Ma=function(){if(this.u=null,aV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=K0(Do(this.jb,this),n)}},nt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qo(10),tT(this),aV(this))},nt.ib=function(){null!=this.v&&(this.v=null,tT(this),ak(this),Qo(19))},nt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Qo(2)):(this.l.info("Failed to ping google.com"),Qo(1))},nt.isActive=function(){return!!this.h&&this.h.isActive(this)},(nt=fV.prototype).Ba=function(){},nt.Aa=function(){},nt.za=function(){},nt.ya=function(){},nt.isActive=function(){return!0},nt.Va=function(){},iT.prototype.g=function(n,e){return new Zs(n,e)},Fi(Zs,Li),Zs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Qo(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=dV(n,null,n.Y),nT(n)},Zs.prototype.close=function(){sk(this.g)},Zs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=GR(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&nT(e)},Zs.prototype.N=function(){this.g.h=null,delete this.j,sk(this.g),delete this.g,Zs.$.N.call(this)},Fi(pV,YR),Fi(mV,QR),Fi(J_,fV),J_.prototype.Ba=function(){Xi(this.g,"a")},J_.prototype.Aa=function(n){Xi(this.g,new pV(n))},J_.prototype.za=function(n){Xi(this.g,new mV)},J_.prototype.ya=function(){Xi(this.g,"b")},Fi(Rc,function j5(){this.blockSize=-1}),Rc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Rc.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,c=0;c<e;){if(0==i)for(;c<=t;)lk(this,n,c),c+=this.blockSize;if("string"==typeof n){for(;c<e;)if(r[i++]=n.charCodeAt(c++),i==this.blockSize){lk(this,r),i=0;break}}else for(;c<e;)if(r[i++]=n[c++],i==this.blockSize){lk(this,r),i=0;break}}this.h=i,this.i+=e},Rc.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var z5={};function uk(n){return-128<=n&&128>n?function Q6(n,e){var t=z5;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Nn([0|e],0>e?-1:0)}):new Nn([0|n],0>n?-1:0)}function xl(n){if(isNaN(n)||!isFinite(n))return ey;if(0>n)return Ji(xl(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=dk;return new Nn(e,0)}var dk=4294967296,ey=uk(0),hk=uk(1),_V=uk(16777216);function od(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ja(n){return-1==n.h}function Ji(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Nn(t,~n.h).add(hk)}function oT(n,e){return n.add(Ji(e))}function sT(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function cw(n,e){this.g=n,this.h=e}function aT(n,e){if(od(e))throw Error("division by zero");if(od(n))return new cw(ey,ey);if(ja(n))return e=aT(Ji(n),e),new cw(Ji(e.g),Ji(e.h));if(ja(e))return e=aT(n,Ji(e)),new cw(Ji(e.g),e.h);if(30<n.g.length){if(ja(n)||ja(e))throw Error("slowDivide_ only works with positive integers.");for(var t=hk,r=e;0>=r.X(n);)t=yV(t),r=yV(r);var i=ty(t,1),c=ty(r,1);for(r=ty(r,2),t=ty(t,2);!od(r);){var u=c.add(r);0>=u.X(n)&&(i=i.add(t),c=u),r=ty(r,1),t=ty(t,1)}return e=oT(n,i.R(e)),new cw(i,e)}for(i=ey;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),u=(c=xl(t)).R(e);ja(u)||0<u.X(n);)u=(c=xl(t-=r)).R(e);od(c)&&(c=hk),i=i.add(c),n=oT(n,u)}return new cw(i,n)}function yV(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Nn(t,n.h)}function ty(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],c=0;c<r;c++)i[c]=0<e?n.D(c+t)>>>e|n.D(c+t+1)<<32-e:n.D(c+t);return new Nn(i,n.h)}(nt=Nn.prototype).ea=function(){if(ja(this))return-Ji(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:dk+r)*e,e*=dk}return n},nt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(od(this))return"0";if(ja(this))return"-"+Ji(this).toString(n);for(var e=xl(Math.pow(n,6)),t=this,r="";;){var i=aT(t,e).g,c=((0<(t=oT(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(od(t=i))return c+r;for(;6>c.length;)c="0"+c;r=c+r}},nt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},nt.X=function(n){return ja(n=oT(this,n))?-1:od(n)?0:1},nt.abs=function(){return ja(this)?Ji(this):this},nt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var c=r+(65535&this.D(i))+(65535&n.D(i)),u=(c>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=u>>>16,t[i]=(u&=65535)<<16|(c&=65535)}return new Nn(t,-2147483648&t[t.length-1]?-1:0)},nt.R=function(n){if(od(this)||od(n))return ey;if(ja(this))return ja(n)?Ji(this).R(Ji(n)):Ji(Ji(this).R(n));if(ja(n))return Ji(this.R(Ji(n)));if(0>this.X(_V)&&0>n.X(_V))return xl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var c=this.D(r)>>>16,u=65535&this.D(r),p=n.D(i)>>>16,_=65535&n.D(i);t[2*r+2*i]+=u*_,sT(t,2*r+2*i),t[2*r+2*i+1]+=c*_,sT(t,2*r+2*i+1),t[2*r+2*i+1]+=u*p,sT(t,2*r+2*i+1),t[2*r+2*i+2]+=c*p,sT(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Nn(t,0)},nt.gb=function(n){return aT(this,n).h},nt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Nn(t,this.h&n.h)},nt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Nn(t,this.h|n.h)},nt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Nn(t,this.h^n.h)},iT.prototype.createWebChannel=iT.prototype.g,Zs.prototype.send=Zs.prototype.u,Zs.prototype.open=Zs.prototype.m,Zs.prototype.close=Zs.prototype.close,GD.NO_ERROR=0,GD.TIMEOUT=8,GD.HTTP_ERROR=6,S2.COMPLETE="complete",M2.EventType=Y0,Y0.OPEN="a",Y0.CLOSE="b",Y0.ERROR="c",Y0.MESSAGE="d",Li.prototype.listen=Li.prototype.O,Fr.prototype.listenOnce=Fr.prototype.P,Fr.prototype.getLastError=Fr.prototype.Sa,Fr.prototype.getLastErrorCode=Fr.prototype.Ia,Fr.prototype.getStatus=Fr.prototype.da,Fr.prototype.getResponseJson=Fr.prototype.Wa,Fr.prototype.getResponseText=Fr.prototype.ja,Fr.prototype.send=Fr.prototype.ha,Fr.prototype.setWithCredentials=Fr.prototype.Oa,Rc.prototype.digest=Rc.prototype.l,Rc.prototype.reset=Rc.prototype.reset,Rc.prototype.update=Rc.prototype.j,Nn.prototype.add=Nn.prototype.add,Nn.prototype.multiply=Nn.prototype.R,Nn.prototype.modulo=Nn.prototype.gb,Nn.prototype.compare=Nn.prototype.X,Nn.prototype.toNumber=Nn.prototype.ea,Nn.prototype.toString=Nn.prototype.toString,Nn.prototype.getBits=Nn.prototype.D,Nn.fromNumber=xl,Nn.fromString=function gV(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ji(gV(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=xl(Math.pow(e,8)),r=ey,i=0;i<n.length;i+=8){var c=Math.min(8,n.length-i),u=parseInt(n.substring(i,i+c),e);8>c?(c=xl(Math.pow(e,c)),r=r.R(c).add(xl(u))):r=(r=r.R(t)).add(xl(u))}return r};var $5=Mc.createWebChannelTransport=function(){return new iT},G5=Mc.getStatEventTarget=function(){return $D()},fk=Mc.ErrorCode=GD,q5=Mc.EventType=S2,Z5=Mc.Event=vm,vV=Mc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},W5=Mc.FetchXmlHttpFactory=rw,cT=Mc.WebChannel=M2,K5=Mc.XhrIo=Fr,Y5=Mc.Md5=Rc,ny=Mc.Integer=Nn;const bV="@firebase/firestore";class Vi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vi.UNAUTHENTICATED=new Vi(null),Vi.GOOGLE_CREDENTIALS=new Vi("google-credentials-uid"),Vi.FIRST_PARTY=new Vi("first-party-uid"),Vi.MOCK_USER=new Vi("mock-user");let ry="9.23.0";const Gh=new fl.Yd("@firebase/firestore");function pk(){return Gh.logLevel}function Be(n,...e){if(Gh.logLevel<=fl.in.DEBUG){const t=e.map(mk);Gh.debug(`Firestore (${ry}): ${n}`,...t)}}function Wr(n,...e){if(Gh.logLevel<=fl.in.ERROR){const t=e.map(mk);Gh.error(`Firestore (${ry}): ${n}`,...t)}}function za(n,...e){if(Gh.logLevel<=fl.in.WARN){const t=e.map(mk);Gh.warn(`Firestore (${ry}): ${n}`,...t)}}function mk(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ut(n="Unexpected state"){const e=`FIRESTORE (${ry}) INTERNAL ASSERTION FAILED: `+n;throw Wr(e),new Error(e)}function Et(n,e){n||ut()}function Je(n,e){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends mn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ei{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class wV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class J5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vi.UNAUTHENTICATED))}shutdown(){}}class e${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class t${constructor(e){this.t=e,this.currentUser=Vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const c=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let u=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ei,e.enqueueRetryable(()=>c(this.currentUser))};const p=()=>{const w=u;e.enqueueRetryable((0,ve.Z)(function*(){yield w.promise,yield c(r.currentUser)}))},_=w=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ei)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et("string"==typeof r.accessToken),new wV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Et(null===e||"string"==typeof e),new Vi(e)}}class n${constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Vi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class r${constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new n$(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i${constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=c=>{null!=c.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.T;return this.T=c.token,Be("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const i=c=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>i(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?i(c):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Et("string"==typeof t.token),this.T=t.token,new EV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function o$(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class xV{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=o$(40);for(let c=0;c<i.length;++c)r.length<20&&i[c]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[c]%62))}return r}}function $t(n,e){return n<e?-1:n>e?1:0}function iy(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function CV(n){return n+"\0"}class mr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mr.fromMillis(Date.now())}static fromDate(e){return mr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new mr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xt(e)}static min(){return new xt(new mr(0,0))}static max(){return new xt(new mr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class lw{constructor(e,t,r){void 0===t?t=0:t>e.length&&ut(),void 0===r?r=e.length-t:r>e.length-t&&ut(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===lw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lw?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const c=e.get(i),u=t.get(i);if(c<u)return-1;if(c>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class gn extends lw{construct(e,t,r){return new gn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new gn(t)}static emptyPath(){return new gn([])}}const s$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lr extends lw{construct(e,t,r){return new Lr(e,t,r)}static isValidIdentifier(e){return s$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Lr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const c=()=>{if(0===r.length)throw new Me(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Me(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Me(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===p?(u=!u,i++):"."!==p||u?(r+=p,i++):(c(),i++)}if(c(),u)throw new Me(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lr(t)}static emptyPath(){return new Lr([])}}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(gn.fromString(e))}static fromName(e){return new Xe(gn.fromString(e).popFirst(5))}static empty(){return new Xe(gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return gn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new gn(e.slice()))}}class lT{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function gk(n){return n.fields.find(e=>2===e.kind)}function xm(n){return n.fields.filter(e=>2!==e.kind)}lT.UNKNOWN_ID=-1;class uT{constructor(e,t){this.fieldPath=e,this.kind=t}}class uw{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new uw(0,Ws.min())}}function IV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=xt.fromTimestamp(1e9===r?new mr(t+1,0):new mr(t,r));return new Ws(i,Xe.empty(),e)}function DV(n){return new Ws(n.readTime,n.key,-1)}class Ws{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ws(xt.min(),Xe.empty(),-1)}static max(){return new Ws(xt.max(),Xe.empty(),-1)}}function _k(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Xe.comparator(n.documentKey,e.documentKey),0!==t?t:$t(n.largestBatchId,e.largestBatchId))}const TV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function qh(n){return yk.apply(this,arguments)}function yk(){return yk=(0,ve.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==TV)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),yk.apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,i)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,r)=>{t(e)})}static reject(e){return new ce((t,r)=>{r(e)})}static waitFor(e){return new ce((t,r)=>{let i=0,c=0,u=!1;e.forEach(p=>{++i,p.next(()=>{++c,u&&c===i&&t()},_=>r(_))}),u=!0,c===i&&t()})}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next(i=>i?ce.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,c)=>{r.push(t.call(this,i,c))}),this.waitFor(r)}static mapArray(e,t){return new ce((r,i)=>{const c=e.length,u=new Array(c);let p=0;for(let _=0;_<c;_++){const w=_;t(e[w]).next(D=>{u[w]=D,++p,p===c&&r(u)},D=>i(D))}})}static doWhile(e,t){return new ce((r,i)=>{const c=()=>{!0===e()?t().next(()=>{c()},i):r()};c()})}}class dT{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Ei,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new dw(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=vk(r.target.error);this.v.reject(new dw(e,i))}}static open(e,t,r,i){try{return new dT(t,e.transaction(i,r))}catch(c){throw new dw(t,c)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new u$(t)}}class kc{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===kc.S((0,mn.z$)())&&Wr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Be("SimpleDb","Removing database:",e),Cm(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,mn.hl)())return!1;if(kc.C())return!0;const e=(0,mn.z$)(),t=kc.S(e),r=0<t&&t<10,i=kc.N(e),c=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,ve.Z)(function*(){return t.db||(Be("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=u=>{r(u.target.result)},c.onblocked=()=>{i(new dw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=u=>{const p=u.target.error;i("VersionError"===p.name?new Me(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Me(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new dw(e,p))},c.onupgradeneeded=u=>{Be("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.O(u.target.result,c.transaction,u.oldVersion,t.version).next(()=>{Be("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var c=this;return(0,ve.Z)(function*(){const u="readonly"===t;let p=0;for(;;){++p;try{c.db=yield c.$(e);const _=dT.open(c.db,e,u?"readonly":"readwrite",r),w=i(_).next(D=>(_.P(),D)).catch(D=>(_.abort(D),ce.reject(D))).toPromise();return w.catch(()=>{}),yield _.R,w}catch(_){const w=_,D="FirebaseError"!==w.name&&p<3;if(Be("SimpleDb","Transaction failed with error:",w.message,"Retrying:",D),c.close(),!D)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class l${constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Cm(this.L.delete())}}class dw extends Me{constructor(e,t){super(ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Zh(n){return"IndexedDbTransactionError"===n.name}class u${constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Be("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Cm(r)}add(e){return Be("SimpleDb","ADD",this.store.name,e,e),Cm(this.store.add(e))}get(e){return Cm(this.store.get(e)).next(t=>(void 0===t&&(t=null),Be("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Be("SimpleDb","DELETE",this.store.name,e),Cm(this.store.delete(e))}count(){return Be("SimpleDb","COUNT",this.store.name),Cm(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),c=[];return this.W(i,(u,p)=>{c.push(p)}).next(()=>c)}{const i=this.store.getAll(r.range);return new ce((c,u)=>{i.onerror=p=>{u(p.target.error)},i.onsuccess=p=>{c(p.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ce((i,c)=>{r.onerror=u=>{c(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}J(e,t){Be("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(c,u,p)=>p.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new ce((r,i)=>{t.onerror=c=>{const u=vk(c.target.error);i(u)},t.onsuccess=c=>{const u=c.target.result;u?e(u.primaryKey,u.value).next(p=>{p?u.continue():r()}):r()}})}W(e,t){const r=[];return new ce((i,c)=>{e.onerror=u=>{c(u.target.error)},e.onsuccess=u=>{const p=u.target.result;if(!p)return void i();const _=new l$(p),w=t(p.primaryKey,p.value,_);if(w instanceof ce){const D=w.catch(M=>(_.done(),ce.reject(M)));r.push(D)}_.isDone?i():null===_.K?p.continue():p.continue(_.K)}}).next(()=>ce.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Cm(n){return new ce((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=vk(r.target.error);t(i)}})}let AV=!1;function vk(n){const e=kc.S((0,mn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return AV||(AV=!0,setTimeout(()=>{throw r},0)),r}}return n}class d${constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Be("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){t.task=null;try{Be("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Zh(r)?Be("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield qh(r)}yield t.et(6e4)}))}}class h${constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,c=!0;return ce.doWhile(()=>!0===c&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return Be("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,i).next(p=>{i-=p,r.add(u)});c=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(c=>{const u=c.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(i,c)).next(p=>(Be("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>u.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,c)=>{const u=DV(c);_k(u,r)>0&&(r=u)}),new Ws(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ks=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function hw(n){return null==n}function fw(n){return 0===n&&1/n==-1/0}function MV(n){return"number"==typeof n&&Number.isInteger(n)&&!fw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function So(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=RV(e)),e=f$(n.get(t),e);return RV(e)}function f$(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const c=n.charAt(i);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function RV(n){return n+"\x01\x01"}function Cl(n){const e=n.length;if(Et(e>=2),2===e)return Et("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),gn.emptyPath();const t=e-2,r=[];let i="";for(let c=0;c<e;){const u=n.indexOf("\x01",c);switch((u<0||u>t)&&ut(),n.charAt(u+1)){case"\x01":const p=n.substring(c,u);let _;0===i.length?_=p:(i+=p,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(c,u),i+="\0";break;case"\x11":i+=n.substring(c,u+1);break;default:ut()}c=u+2}return new gn(r)}const kV=["userId","batchId"];function hT(n,e){return[n,So(e)]}function OV(n,e,t){return[n,So(e),t]}const p$={},m$=["prefixPath","collectionGroup","readTime","documentId"],g$=["prefixPath","collectionGroup","documentId"],_$=["collectionGroup","readTime","prefixPath","documentId"],y$=["canonicalId","targetId"],v$=["targetId","path"],b$=["path","targetId"],w$=["collectionId","parent"],E$=["indexId","uid"],x$=["uid","sequenceNumber"],C$=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],I$=["indexId","uid","orderedDocumentKey"],D$=["userId","collectionPath","documentId"],T$=["userId","collectionPath","largestBatchId"],S$=["userId","collectionGroup","largestBatchId"],PV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],A$=[...PV,"documentOverlays"],NV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],FV=NV,M$=[...FV,"indexConfiguration","indexState","indexEntries"];class bk extends SV{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Bi(n,e){const t=Je(n);return kc.M(t.ht,e)}function LV(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function VV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class tr{constructor(e,t){this.comparator=e,this.root=t||eo.EMPTY}insert(e,t){return new tr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,eo.BLACK,null,null))}remove(e){return new tr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,eo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fT(this.root,e,this.comparator,!1)}getReverseIterator(){return new fT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fT(this.root,e,this.comparator,!0)}}class fT{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&i&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class eo{constructor(e,t,r,i,c){this.key=e,this.value=t,this.color=r??eo.RED,this.left=i??eo.EMPTY,this.right=c??eo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,c){return new eo(e??this.key,t??this.value,r??this.color,i??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const c=r(e,i.key);return i=c<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===c?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return eo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return eo.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,eo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,eo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}eo.EMPTY=null,eo.RED=!0,eo.BLACK=!1,eo.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,e,t,r,i){return this}insert(n,e,t){return new eo(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ar{constructor(e){this.comparator=e,this.data=new tr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new BV(this.data.getIterator())}getIteratorFrom(e){return new BV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ar)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(i,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ar(this.comparator);return t.data=e,t}}class BV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function oy(n){return n.hasNext()?n.getNext():void 0}class Ds{constructor(e){this.fields=e,e.sort(Lr.comparator)}static empty(){return new Ds([])}unionWith(e){let t=new ar(Lr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ds(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return iy(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class UV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new UV("Invalid base64 string: "+i):i}}(e);return new xi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let c=0;c<r.length;++c)i+=String.fromCharCode(r[c]);return i}(e);return new xi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xi.EMPTY_BYTE_STRING=new xi("");const k$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kh(n){if(Et(!!n),"string"==typeof n){let e=0;const t=k$.exec(n);if(Et(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vr(n.seconds),nanos:Vr(n.nanos)}}function Vr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function sd(n){return"string"==typeof n?xi.fromBase64String(n):xi.fromUint8Array(n)}function pT(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function mT(n){const e=n.mapValue.fields.__previous_value__;return pT(e)?mT(e):e}function pw(n){const e=Kh(n.mapValue.fields.__local_write_time__.timestampValue);return new mr(e.seconds,e.nanos)}class O${constructor(e,t,r,i,c,u,p,_,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=w}}class Yh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Yh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Yh&&e.projectId===this.projectId&&e.database===this.database}}const Qh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},gT={nullValue:"NULL_VALUE"};function Xh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pT(n)?4:$V(n)?9007199254740991:10:ut()}function Il(n,e){if(n===e)return!0;const t=Xh(n);if(t!==Xh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pw(n).isEqual(pw(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const c=Kh(r.timestampValue),u=Kh(i.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,sd(n.bytesValue).isEqual(sd(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Vr(r.geoPointValue.latitude)===Vr(i.geoPointValue.latitude)&&Vr(r.geoPointValue.longitude)===Vr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Vr(r.integerValue)===Vr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const c=Vr(r.doubleValue),u=Vr(i.doubleValue);return c===u?fw(c)===fw(u):isNaN(c)&&isNaN(u)}return!1}(n,e);case 9:return iy(n.arrayValue.values||[],e.arrayValue.values||[],Il);case 10:return function(r,i){const c=r.mapValue.fields||{},u=i.mapValue.fields||{};if(LV(c)!==LV(u))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(void 0===u[p]||!Il(c[p],u[p])))return!1;return!0}(n,e);default:return ut()}var i}function mw(n,e){return void 0!==(n.values||[]).find(t=>Il(t,e))}function Jh(n,e){if(n===e)return 0;const t=Xh(n),r=Xh(e);if(t!==r)return $t(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return $t(n.booleanValue,e.booleanValue);case 2:return function(i,c){const u=Vr(i.integerValue||i.doubleValue),p=Vr(c.integerValue||c.doubleValue);return u<p?-1:u>p?1:u===p?0:isNaN(u)?isNaN(p)?0:-1:1}(n,e);case 3:return HV(n.timestampValue,e.timestampValue);case 4:return HV(pw(n),pw(e));case 5:return $t(n.stringValue,e.stringValue);case 6:return function(i,c){const u=sd(i),p=sd(c);return u.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,c){const u=i.split("/"),p=c.split("/");for(let _=0;_<u.length&&_<p.length;_++){const w=$t(u[_],p[_]);if(0!==w)return w}return $t(u.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,c){const u=$t(Vr(i.latitude),Vr(c.latitude));return 0!==u?u:$t(Vr(i.longitude),Vr(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,c){const u=i.values||[],p=c.values||[];for(let _=0;_<u.length&&_<p.length;++_){const w=Jh(u[_],p[_]);if(w)return w}return $t(u.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,c){if(i===Qh.mapValue&&c===Qh.mapValue)return 0;if(i===Qh.mapValue)return 1;if(c===Qh.mapValue)return-1;const u=i.fields||{},p=Object.keys(u),_=c.fields||{},w=Object.keys(_);p.sort(),w.sort();for(let D=0;D<p.length&&D<w.length;++D){const M=$t(p[D],w[D]);if(0!==M)return M;const L=Jh(u[p[D]],_[w[D]]);if(0!==L)return L}return $t(p.length,w.length)}(n.mapValue,e.mapValue);default:throw ut()}}function HV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return $t(n,e);const t=Kh(n),r=Kh(e),i=$t(t.seconds,r.seconds);return 0!==i?i:$t(t.nanos,r.nanos)}function sy(n){return wk(n)}function wk(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Kh(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sd(n.bytesValue).toBase64():"referenceValue"in n?Xe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",c=!0;for(const u of r.values||[])c?c=!1:i+=",",i+=wk(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let c="{",u=!0;for(const p of i)u?u=!1:c+=",",c+=`${p}:${wk(r.fields[p])}`;return c+"}"}(n.mapValue):ut();var e}function Im(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ek(n){return!!n&&"integerValue"in n}function gw(n){return!!n&&"arrayValue"in n}function jV(n){return!!n&&"nullValue"in n}function zV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yT(n){return!!n&&"mapValue"in n}function _w(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Wh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=_w(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_w(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $V(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function P$(n){return"nullValue"in n?gT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Im(Yh.empty(),Xe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ut()}function N$(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Im(Yh.empty(),Xe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Qh:ut()}function GV(n,e){const t=Jh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function qV(n,e){const t=Jh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class to{constructor(e){this.value=e}static empty(){return new to({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!yT(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_w(t)}setAll(e){let t=Lr.emptyPath(),r={},i=[];e.forEach((u,p)=>{if(!t.isImmediateParentOf(p)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=p.popLast()}u?r[p.lastSegment()]=_w(u):i.push(p.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,i)}delete(e){const t=this.field(e.popLast());yT(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Il(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];yT(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Wh(t,(i,c)=>e[i]=c);for(const i of r)delete e[i]}clone(){return new to(_w(this.value))}}function ZV(n){const e=[];return Wh(n.fields,(t,r)=>{const i=new Lr([t]);if(yT(r)){const c=ZV(r.mapValue).fields;if(0===c.length)e.push(i);else for(const u of c)e.push(i.child(u))}else e.push(i)}),new Ds(e)}class cr{constructor(e,t,r,i,c,u,p){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=c,this.data=u,this.documentState=p}static newInvalidDocument(e){return new cr(e,0,xt.min(),xt.min(),xt.min(),to.empty(),0)}static newFoundDocument(e,t,r,i){return new cr(e,1,t,xt.min(),r,i,0)}static newNoDocument(e,t){return new cr(e,2,t,xt.min(),xt.min(),to.empty(),0)}static newUnknownDocument(e,t){return new cr(e,3,t,xt.min(),xt.min(),to.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=to.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=to.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ef{constructor(e,t){this.position=e,this.inclusive=t}}function WV(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const c=e[i],u=n.position[i];if(r=c.field.isKeyField()?Xe.comparator(Xe.fromName(u.referenceValue),t.key):Jh(u,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function KV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Il(n.position[t],e.position[t]))return!1;return!0}class ay{constructor(e,t="asc"){this.field=e,this.dir=t}}function F$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class YV{}class cn extends YV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new L$(e,t,r):"array-contains"===t?new U$(e,r):"in"===t?new nB(e,r):"not-in"===t?new H$(e,r):"array-contains-any"===t?new j$(e,r):new cn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new V$(e,r):new B$(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Jh(t,this.value)):null!==t&&Xh(this.value)===Xh(t)&&this.matchesComparison(Jh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Fn extends YV{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Fn(e,t)}matches(e){return cy(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function cy(n){return"and"===n.op}function xk(n){return"or"===n.op}function Ck(n){return QV(n)&&cy(n)}function QV(n){for(const e of n.filters)if(e instanceof Fn)return!1;return!0}function Ik(n){if(n instanceof cn)return n.field.canonicalString()+n.op.toString()+sy(n.value);if(Ck(n))return n.filters.map(e=>Ik(e)).join(",");{const e=n.filters.map(t=>Ik(t)).join(",");return`${n.op}(${e})`}}function XV(n,e){return n instanceof cn?(t=n,(r=e)instanceof cn&&t.op===r.op&&t.field.isEqual(r.field)&&Il(t.value,r.value)):n instanceof Fn?function(t,r){return r instanceof Fn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,c,u)=>i&&XV(c,r.filters[u]),!0)}(n,e):void ut();var t,r}function JV(n,e){const t=n.filters.concat(e);return Fn.create(t,n.op)}function eB(n){return n instanceof cn?`${(e=n).field.canonicalString()} ${e.op} ${sy(e.value)}`:n instanceof Fn?function(e){return e.op.toString()+" {"+e.getFilters().map(eB).join(" ,")+"}"}(n):"Filter";var e}class L$ extends cn{constructor(e,t,r){super(e,t,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const t=Xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class V$ extends cn{constructor(e,t){super(e,"in",t),this.keys=tB(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class B$ extends cn{constructor(e,t){super(e,"not-in",t),this.keys=tB(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tB(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Xe.fromName(r.referenceValue))}class U$ extends cn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gw(t)&&mw(t.arrayValue,this.value)}}class nB extends cn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&mw(this.value.arrayValue,t)}}class H$ extends cn{constructor(e,t){super(e,"not-in",t)}matches(e){if(mw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!mw(this.value.arrayValue,t)}}class j$ extends cn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>mw(this.value.arrayValue,r))}}class z${constructor(e,t=null,r=[],i=[],c=null,u=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=c,this.startAt=u,this.endAt=p,this.dt=null}}function Dk(n,e=null,t=[],r=[],i=null,c=null,u=null){return new z$(n,e,t,r,i,c,u)}function Dm(n){const e=Je(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Ik(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),hw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>sy(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>sy(r)).join(",")),e.dt=t}return e.dt}function yw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!F$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!XV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!KV(n.startAt,e.startAt)&&KV(n.endAt,e.endAt)}function vT(n){return Xe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function bT(n,e){return n.filters.filter(t=>t instanceof cn&&t.field.isEqual(e))}function rB(n,e,t){let r=gT,i=!0;for(const c of bT(n,e)){let u=gT,p=!0;switch(c.op){case"<":case"<=":u=P$(c.value);break;case"==":case"in":case">=":u=c.value;break;case">":u=c.value,p=!1;break;case"!=":case"not-in":u=gT}GV({value:r,inclusive:i},{value:u,inclusive:p})<0&&(r=u,i=p)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const u=t.position[c];GV({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function iB(n,e,t){let r=Qh,i=!0;for(const c of bT(n,e)){let u=Qh,p=!0;switch(c.op){case">=":case">":u=N$(c.value),p=!1;break;case"==":case"in":case"<=":u=c.value;break;case"<":u=c.value,p=!1;break;case"!=":case"not-in":u=Qh}qV({value:r,inclusive:i},{value:u,inclusive:p})>0&&(r=u,i=p)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const u=t.position[c];qV({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class ad{constructor(e,t=null,r=[],i=[],c=null,u="F",p=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=c,this.limitType=u,this.startAt=p,this.endAt=_,this.wt=null,this._t=null}}function oB(n,e,t,r,i,c,u,p){return new ad(n,e,t,r,i,c,u,p)}function ly(n){return new ad(n)}function sB(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Tk(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function wT(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Sk(n){return null!==n.collectionGroup}function Tm(n){const e=Je(n);if(null===e.wt){e.wt=[];const t=wT(e),r=Tk(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new ay(t)),e.wt.push(new ay(Lr.keyField(),"asc"));else{let i=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(i=!0);if(!i){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ay(Lr.keyField(),c))}}}return e.wt}function Xo(n){const e=Je(n);if(!e._t)if("F"===e.limitType)e._t=Dk(e.path,e.collectionGroup,Tm(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Tm(e))t.push(new ay(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new ef(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ef(e.startAt.position,e.startAt.inclusive):null;e._t=Dk(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Ak(n,e){e.getFirstInequalityField(),wT(n);const t=n.filters.concat([e]);return new ad(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ET(n,e,t){return new ad(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function vw(n,e){return yw(Xo(n),Xo(e))&&n.limitType===e.limitType}function aB(n){return`${Dm(Xo(n))}|lt:${n.limitType}`}function Mk(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>eB(r)).join(", ")}]`),hw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>sy(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>sy(r)).join(",")),`Target(${t})`}(Xo(n))}; limitType=${n.limitType})`}function bw(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Xe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Tm(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,c,u){const p=WV(i,c,u);return i.inclusive?p<=0:p<0}(t.startAt,Tm(t),r)||t.endAt&&!function(i,c,u){const p=WV(i,c,u);return i.inclusive?p>=0:p>0}(t.endAt,Tm(t),r)));var t,r}function cB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function lB(n){return(e,t)=>{let r=!1;for(const i of Tm(n)){const c=$$(i,e,t);if(0!==c)return c;r=r||i.field.isKeyField()}return 0}}function $$(n,e,t){const r=n.field.isKeyField()?Xe.comparator(e.key,t.key):function(i,c,u){const p=c.data.field(i),_=u.data.field(i);return null!==p&&null!==_?Jh(p,_):ut()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ut()}}class cd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,c]of r)if(this.equalsFn(i,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return void(i[c]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wh(this.inner,(t,r)=>{for(const[i,c]of r)e(i,c)})}isEmpty(){return VV(this.inner)}size(){return this.innerSize}}const G$=new tr(Xe.comparator);function Ts(){return G$}const uB=new tr(Xe.comparator);function ww(...n){let e=uB;for(const t of n)e=e.insert(t.key,t);return e}function dB(n){let e=uB;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Dl(){return Ew()}function hB(){return Ew()}function Ew(){return new cd(n=>n.toString(),(n,e)=>n.isEqual(e))}const q$=new tr(Xe.comparator),Z$=new ar(Xe.comparator);function Qt(...n){let e=Z$;for(const t of n)e=e.add(t);return e}const W$=new ar($t);function Rk(){return W$}function fB(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fw(e)?"-0":e}}function pB(n){return{integerValue:""+n}}function mB(n,e){return MV(e)?pB(e):fB(n,e)}class xT{constructor(){this._=void 0}}function K$(n,e,t){return n instanceof uy?function(r,i){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&pT(i)&&(i=mT(i)),i&&(c.fields.__previous_value__=i),{mapValue:c}}(t,e):n instanceof Sm?_B(n,e):n instanceof Am?yB(n,e):function(r,i){const c=gB(r,i),u=vB(c)+vB(r.gt);return Ek(c)&&Ek(r.gt)?pB(u):fB(r.serializer,u)}(n,e)}function Y$(n,e,t){return n instanceof Sm?_B(n,e):n instanceof Am?yB(n,e):t}function gB(n,e){return n instanceof dy?Ek(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class uy extends xT{}class Sm extends xT{constructor(e){super(),this.elements=e}}function _B(n,e){const t=bB(e);for(const r of n.elements)t.some(i=>Il(i,r))||t.push(r);return{arrayValue:{values:t}}}class Am extends xT{constructor(e){super(),this.elements=e}}function yB(n,e){let t=bB(e);for(const r of n.elements)t=t.filter(i=>!Il(i,r));return{arrayValue:{values:t}}}class dy extends xT{constructor(e,t){super(),this.serializer=e,this.gt=t}}function vB(n){return Vr(n.integerValue||n.doubleValue)}function bB(n){return gw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class xw{constructor(e,t){this.field=e,this.transform=t}}class X${constructor(e,t){this.version=e,this.transformResults=t}}class gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function CT(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class IT{}function wB(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new fy(n.key,gr.none()):new hy(n.key,n.data,gr.none());{const t=n.data,r=to.empty();let i=new ar(Lr.comparator);for(let c of e.fields)if(!i.has(c)){let u=t.field(c);null===u&&c.length>1&&(c=c.popLast(),u=t.field(c)),null===u?r.delete(c):r.set(c,u),i=i.add(c)}return new ld(n.key,r,new Ds(i.toArray()),gr.none())}}function J$(n,e,t){n instanceof hy?function(r,i,c){const u=r.value.clone(),p=CB(r.fieldTransforms,i,c.transformResults);u.setAll(p),i.convertToFoundDocument(c.version,u).setHasCommittedMutations()}(n,e,t):n instanceof ld?function(r,i,c){if(!CT(r.precondition,i))return void i.convertToUnknownDocument(c.version);const u=CB(r.fieldTransforms,i,c.transformResults),p=i.data;p.setAll(xB(r)),p.setAll(u),i.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Cw(n,e,t,r){return n instanceof hy?function(i,c,u,p){if(!CT(i.precondition,c))return u;const _=i.value.clone(),w=IB(i.fieldTransforms,p,c);return _.setAll(w),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof ld?function(i,c,u,p){if(!CT(i.precondition,c))return u;const _=IB(i.fieldTransforms,p,c),w=c.data;return w.setAll(xB(i)),w.setAll(_),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(D=>D.field))}(n,e,t,r):(u=t,CT(n.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u);var c,u}function eG(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),c=gB(r.transform,i||null);null!=c&&(null===t&&(t=to.empty()),t.set(r.field,c))}return t||null}function EB(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&iy(t,r,(i,c)=>function Q$(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Sm&&r instanceof Sm||t instanceof Am&&r instanceof Am?iy(t.elements,r.elements,Il):t instanceof dy&&r instanceof dy?Il(t.gt,r.gt):t instanceof uy&&r instanceof uy);var t,r}(i,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class hy extends IT{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ld extends IT{constructor(e,t,r,i,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function xB(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function CB(n,e,t){const r=new Map;Et(n.length===t.length);for(let i=0;i<t.length;i++){const c=n[i],u=c.transform,p=e.data.field(c.field);r.set(c.field,Y$(u,p,t[i]))}return r}function IB(n,e,t){const r=new Map;for(const i of n){const c=i.transform,u=t.data.field(i.field);r.set(i.field,K$(c,u,e))}return r}class fy extends IT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kk extends IT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ok{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const c=this.mutations[i];c.key.isEqual(e.key)&&J$(c,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Cw(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Cw(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=hB();return this.mutations.forEach(i=>{const c=e.get(i.key),u=c.overlayedDocument;let p=this.applyToLocalView(u,c.mutatedFields);p=t.has(i.key)?null:p;const _=wB(u,p);null!==_&&r.set(i.key,_),u.isValidDocument()||u.convertToNoDocument(xt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qt())}isEqual(e){return this.batchId===e.batchId&&iy(this.mutations,e.mutations,(t,r)=>EB(t,r))&&iy(this.baseMutations,e.baseMutations,(t,r)=>EB(t,r))}}class Pk{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Et(e.mutations.length===r.length);let i=q$;const c=e.mutations;for(let u=0;u<c.length;u++)i=i.insert(c[u].key,r[u].version);return new Pk(e,t,r,i)}}class Nk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nG{constructor(e,t){this.count=e,this.unchangedNames=t}}var oi,_n;function DB(n){switch(n){default:return ut();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function TB(n){if(void 0===n)return Wr("GRPC error has no .code"),ue.UNKNOWN;switch(n){case oi.OK:return ue.OK;case oi.CANCELLED:return ue.CANCELLED;case oi.UNKNOWN:return ue.UNKNOWN;case oi.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case oi.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case oi.INTERNAL:return ue.INTERNAL;case oi.UNAVAILABLE:return ue.UNAVAILABLE;case oi.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case oi.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case oi.NOT_FOUND:return ue.NOT_FOUND;case oi.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case oi.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case oi.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case oi.ABORTED:return ue.ABORTED;case oi.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case oi.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case oi.DATA_LOSS:return ue.DATA_LOSS;default:return ut()}}(_n=oi||(oi={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";class Fk{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return DT}static getOrCreateInstance(){return null===DT&&(DT=new Fk),DT}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let DT=null;function SB(){return new TextEncoder}const rG=new ny([4294967295,4294967295],0);function AB(n){const e=SB().encode(n),t=new Y5;return t.update(e),new Uint8Array(t.digest())}function MB(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ny([t,r],0),new ny([i,c],0)]}class Lk{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Iw(`Invalid padding: ${t}`);if(r<0)throw new Iw(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Iw(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Iw(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=ny.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(ny.fromNumber(r)));return 1===i.compare(rG)&&(i=new ny([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=AB(e),[r,i]=MB(t);for(let c=0;c<this.hashCount;c++){const u=this.Et(r,i,c);if(!this.At(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new Lk(c,i,t);return r.forEach(p=>u.insert(p)),u}insert(e){if(0===this.It)return;const t=AB(e),[r,i]=MB(t);for(let c=0;c<this.hashCount;c++){const u=this.Et(r,i,c);this.Rt(u)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Iw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dw{constructor(e,t,r,i,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Tw.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Dw(xt.min(),i,new tr($t),Ts(),Qt())}}class Tw{constructor(e,t,r,i,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Tw(r,t,Qt(),Qt(),Qt())}}class TT{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class RB{constructor(e,t){this.targetId=e,this.Vt=t}}class kB{constructor(e,t,r=xi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class OB{constructor(){this.St=0,this.Dt=NB(),this.Ct=xi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Qt(),t=Qt(),r=Qt();return this.Dt.forEach((i,c)=>{switch(c){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ut()}}),new Tw(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=NB()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class iG{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ts(),this.zt=PB(),this.Wt=new tr($t)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:ut()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,c=this.se(r);if(c){const u=c.target;if(vT(u))if(0===i){const p=new Xe(u.path);this.Yt(r,p,cr.newNoDocument(p,xt.min()))}else Et(1===i);else{const p=this.ie(r);if(p!==i){const _=this.re(e,p);0!==_&&(this.ee(r),this.Wt=this.Wt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Fk.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(w,D,M){var L,$,W,J,he,He;const et={localCacheCount:D,existenceFilterCount:M.count},Ge=M.unchangedNames;return Ge&&(et.bloomFilter={applied:0===w,hashCount:null!==(L=Ge?.hashCount)&&void 0!==L?L:0,bitmapLength:null!==(J=null===(W=null===($=Ge?.bits)||void 0===$?void 0:$.bitmap)||void 0===W?void 0:W.length)&&void 0!==J?J:0,padding:null!==(He=null===(he=Ge?.bits)||void 0===he?void 0:he.padding)&&void 0!==He?He:0}),et}(_,p,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:c="",padding:u=0},hashCount:p=0}=r;let _,w;try{_=sd(c).toUint8Array()}catch(D){if(D instanceof UV)return za("Decoding the base64 bloom filter in existence filter failed ("+D.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw D}try{w=new Lk(_,u,p)}catch(D){return za(D instanceof Iw?"BloomFilter error: ":"Applying bloom filter failed: ",D),1}return 0===w.It?1:i!==t-this.oe(e.targetId,w)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(c=>{const u=this.Gt.ue(),p=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;t.vt(p)||(this.Yt(e,c,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((c,u)=>{const p=this.se(u);if(p){if(c.current&&vT(p.target)){const _=new Xe(p.target.path);null!==this.jt.get(_)||this.ae(u,_)||this.Yt(u,_,cr.newNoDocument(_,e))}c.Mt&&(t.set(u,c.Ot()),c.Ft())}});let r=Qt();this.zt.forEach((c,u)=>{let p=!0;u.forEachWhile(_=>{const w=this.se(_);return!w||"TargetPurposeLimboResolution"===w.purpose||(p=!1,!1)}),p&&(r=r.add(c))}),this.jt.forEach((c,u)=>u.setReadTime(e));const i=new Dw(e,t,this.Wt,this.jt,r);return this.jt=Ts(),this.zt=PB(),this.Wt=new tr($t),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new OB,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ar($t),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Be("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new OB),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function PB(){return new tr(Xe.comparator)}function NB(){return new tr(Xe.comparator)}const oG={asc:"ASCENDING",desc:"DESCENDING"},sG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aG={and:"AND",or:"OR"};class cG{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Vk(n,e){return n.useProto3Json||hw(e)?e:{value:e}}function py(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FB(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function lG(n,e){return py(n,e.toTimestamp())}function Kr(n){return Et(!!n),xt.fromTimestamp(function(e){const t=Kh(e);return new mr(t.seconds,t.nanos)}(n))}function Bk(n,e){return(t=n,new gn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function LB(n){const e=gn.fromString(n);return Et(qB(e)),e}function Sw(n,e){return Bk(n.databaseId,e.path)}function Tl(n,e){const t=LB(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Xe(BB(t))}function Uk(n,e){return Bk(n.databaseId,e)}function VB(n){const e=LB(n);return 4===e.length?gn.emptyPath():BB(e)}function Aw(n){return new gn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function BB(n){return Et(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function UB(n,e,t){return{name:Sw(n,e),fields:t.value.mapValue.fields}}function HB(n,e,t){const r=Tl(n,e.name),i=Kr(e.updateTime),c=e.createTime?Kr(e.createTime):xt.min(),u=new to({mapValue:{fields:e.fields}}),p=cr.newFoundDocument(r,i,c,u);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function Mw(n,e){let t;if(e instanceof hy)t={update:UB(n,e.key,e.value)};else if(e instanceof fy)t={delete:Sw(n,e.key)};else if(e instanceof ld)t={update:UB(n,e.key,e.data),updateMask:_G(e.fieldMask)};else{if(!(e instanceof kk))return ut();t={verify:Sw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,c){const u=c.transform;if(u instanceof uy)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Sm)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Am)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof dy)return{fieldPath:c.field.canonicalString(),increment:u.gt};throw ut()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:lG(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ut()),t;var i}function Hk(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?gr.updateTime(Kr(i.updateTime)):void 0!==i.exists?gr.exists(i.exists):gr.none():gr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(c,u){let p=null;"setToServerValue"in u?(Et("REQUEST_TIME"===u.setToServerValue),p=new uy):"appendMissingElements"in u?p=new Sm(u.appendMissingElements.values||[]):"removeAllFromArray"in u?p=new Am(u.removeAllFromArray.values||[]):"increment"in u?p=new dy(c,u.increment):ut();const _=Lr.fromServerFormat(u.fieldPath);return new xw(_,p)}(n,i)):[];var i;if(e.update){const i=Tl(n,e.update.name),c=new to({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Ds((e.updateMask.fieldPaths||[]).map(w=>Lr.fromServerFormat(w)));return new ld(i,c,u,t,r)}return new hy(i,c,t,r)}if(e.delete){const i=Tl(n,e.delete);return new fy(i,t)}if(e.verify){const i=Tl(n,e.verify);return new kk(i,t)}return ut()}function jB(n,e){return{documents:[Uk(n,e.path)]}}function jk(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Uk(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Uk(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return GB(Fn.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const c=function(_){if(0!==_.length)return _.map(w=>{return{field:tf((D=w).field),direction:pG(D.dir)};var D})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const u=Vk(n,e.limit);var p,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function zB(n){let e=VB(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Et(1===r);const D=t.from[0];D.allDescendants?i=D.collectionId:e=e.child(D.collectionId)}let c=[];t.where&&(c=function(D){const M=$B(D);return M instanceof Fn&&Ck(M)?M.getFilters():[M]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(D=>{return new ay(my((M=D).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let p=null;t.limit&&(p=function(D){let M;return M="object"==typeof D?D.value:D,hw(M)?null:M}(t.limit));let _=null;var D;t.startAt&&(_=new ef((D=t.startAt).values||[],!!D.before));let w=null;return t.endAt&&(w=function(D){return new ef(D.values||[],!D.before)}(t.endAt)),oB(e,i,u,c,p,"F",_,w)}function $B(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=my(e.unaryFilter.field);return cn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=my(e.unaryFilter.field);return cn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=my(e.unaryFilter.field);return cn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=my(e.unaryFilter.field);return cn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}(n):void 0!==n.fieldFilter?cn.create(my((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Fn.create(e.compositeFilter.filters.map(t=>$B(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ut()}}(e.compositeFilter.op))}(n):ut();var e}function pG(n){return oG[n]}function mG(n){return sG[n]}function gG(n){return aG[n]}function tf(n){return{fieldPath:n.canonicalString()}}function my(n){return Lr.fromServerFormat(n.fieldPath)}function GB(n){return n instanceof cn?function(e){if("=="===e.op){if(zV(e.value))return{unaryFilter:{field:tf(e.field),op:"IS_NAN"}};if(jV(e.value))return{unaryFilter:{field:tf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zV(e.value))return{unaryFilter:{field:tf(e.field),op:"IS_NOT_NAN"}};if(jV(e.value))return{unaryFilter:{field:tf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tf(e.field),op:mG(e.op),value:e.value}}}(n):n instanceof Fn?function(e){const t=e.getFilters().map(r=>GB(r));return 1===t.length?t[0]:{compositeFilter:{op:gG(e.op),filters:t}}}(n):ut()}function _G(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qB(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ud{constructor(e,t,r,i,c=xt.min(),u=xt.min(),p=xi.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new ud(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ud(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ud(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ud(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ZB{constructor(e){this.fe=e}}function WB(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ST(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Sw(i=n.fe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:py(i,c.version.toTimestamp()),createTime:py(i,c.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Mm(e.version)};else{if(!e.isUnknownDocument())return ut();r.unknownDocument={path:t.path.toArray(),version:Mm(e.version)}}var i,c;return r}function ST(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Mm(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Rm(n){const e=new mr(n.seconds,n.nanoseconds);return xt.fromTimestamp(e)}function km(n,e){const t=(e.baseMutations||[]).map(c=>Hk(n.fe,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const r=e.mutations.map(c=>Hk(n.fe,c)),i=mr.fromMillis(e.localWriteTimeMs);return new Ok(e.batchId,i,t,r)}function Rw(n){const e=Rm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Rm(n.lastLimboFreeSnapshotVersion):xt.min();let r;var i;return void 0!==n.query.documents?(Et(1===(i=n.query).documents.length),r=Xo(ly(VB(i.documents[0])))):r=Xo(zB(n.query)),new ud(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,xi.fromBase64String(n.resumeToken))}function KB(n,e){const t=Mm(e.snapshotVersion),r=Mm(e.lastLimboFreeSnapshotVersion);let i;i=vT(e.target)?jB(n.fe,e.target):jk(n.fe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Dm(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function zk(n){const e=zB({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ET(e,e.limit,"L"):e}function $k(n,e){return new Nk(e.largestBatchId,Hk(n.fe,e.overlayMutation))}function YB(n,e){const t=e.path.lastSegment();return[n,So(e.path.popLast()),t]}function QB(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Mm(r.readTime),documentKey:So(r.documentKey.path),largestBatchId:r.largestBatchId}}class vG{getBundleMetadata(e,t){return XB(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Rm(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return XB(e).put({bundleId:(r=t).id,createTime:Mm(Kr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return JB(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:zk(i.bundledQuery),readTime:Rm(i.readTime)};var i})}saveNamedQuery(e,t){return JB(e).put({name:(r=t).name,readTime:Mm(Kr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function XB(n){return Bi(n,"bundles")}function JB(n){return Bi(n,"namedQueries")}class AT{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new AT(e,t.uid||"")}getOverlay(e,t){return kw(e).get(YB(this.userId,t)).next(r=>r?$k(this.serializer,r):null)}getOverlays(e,t){const r=Dl();return ce.forEach(t,i=>this.getOverlay(e,i).next(c=>{null!==c&&r.set(i,c)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((c,u)=>{const p=new Nk(t,u);i.push(this.we(e,p))}),ce.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(So(u.getCollectionPath())));const c=[];return i.forEach(u=>{const p=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);c.push(kw(e).J("collectionPathOverlayIndex",p))}),ce.waitFor(c)}getOverlaysForCollection(e,t,r){const i=Dl(),c=So(t),u=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return kw(e).j("collectionPathOverlayIndex",u).next(p=>{for(const _ of p){const w=$k(this.serializer,_);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const c=Dl();let u;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kw(e).X({index:"collectionGroupOverlayIndex",range:p},(_,w,D)=>{const M=$k(this.serializer,w);c.size()<i||M.largestBatchId===u?(c.set(M.getKey(),M),u=M.largestBatchId):D.done()}).next(()=>c)}we(e,t){return kw(e).put(function(r,i,c){const[u,p,_]=YB(i,c.mutation.key);return{userId:i,collectionPath:p,documentId:_,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Mw(r.fe,c.mutation)}}(this.serializer,this.userId,t))}}function kw(n){return Bi(n,"documentOverlays")}class Om{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Vr(e.integerValue));else if("doubleValue"in e){const r=Vr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),fw(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(sd(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?$V(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ut()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),Xe.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function bG(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function eU(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const c=bG(255&t[i]);if(r+=c,8!==c)break}return r}(n);return Math.ceil(e/8)}Om.Ve=new Om;class wG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=eU(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=eU(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,i,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class EG{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class xG{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Ow{constructor(){this.je=new wG,this.ze=new EG(this.je),this.We=new xG(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Pm{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Pm(this.indexId,this.documentKey,this.arrayValue,r)}}function nf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=tU(n.arrayValue,e.arrayValue),0!==t?t:(t=tU(n.directionalValue,e.directionalValue),0!==t?t:Xe.comparator(n.documentKey,e.documentKey)))}function tU(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class CG{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Et(e.collectionGroup===this.collectionId);const t=gk(e);if(void 0!==t&&!this.en(t))return!1;const r=xm(e);let i=new Set,c=0,u=0;for(;c<r.length&&this.en(r[c]);++c)i=i.add(r[c].fieldPath.canonicalString());if(c===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const p=r[c];if(!this.nn(this.Ze,p)||!this.sn(this.Ye[u++],p))return!1}++c}for(;c<r.length;++c)if(u>=this.Ye.length||!this.sn(this.Ye[u++],r[c]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function nU(n){var e,t;if(Et(n instanceof cn||n instanceof Fn),n instanceof cn){if(n instanceof nB){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>cn.create(n.field,"==",c)))||[];return Fn.create(i,"or")}return n}const r=n.filters.map(i=>nU(i));return Fn.create(r,n.op)}function IG(n){if(0===n.getFilters().length)return[];const e=Zk(nU(n));return Et(rU(e)),Gk(e)||qk(e)?[e]:e.getFilters()}function Gk(n){return n instanceof cn}function qk(n){return n instanceof Fn&&Ck(n)}function rU(n){return Gk(n)||qk(n)||function(e){if(e instanceof Fn&&xk(e)){for(const t of e.getFilters())if(!Gk(t)&&!qk(t))return!1;return!0}return!1}(n)}function Zk(n){if(Et(n instanceof cn||n instanceof Fn),n instanceof cn)return n;if(1===n.filters.length)return Zk(n.filters[0]);const e=n.filters.map(r=>Zk(r));let t=Fn.create(e,n.op);return t=MT(t),rU(t)?t:(Et(t instanceof Fn),Et(cy(t)),Et(t.filters.length>1),t.filters.reduce((r,i)=>Wk(r,i)))}function Wk(n,e){let t;return Et(n instanceof cn||n instanceof Fn),Et(e instanceof cn||e instanceof Fn),t=n instanceof cn?e instanceof cn?Fn.create([n,e],"and"):iU(n,e):e instanceof cn?iU(e,n):function(r,i){if(Et(r.filters.length>0&&i.filters.length>0),cy(r)&&cy(i))return JV(r,i.getFilters());const c=xk(r)?r:i,u=xk(r)?i:r,p=c.filters.map(_=>Wk(_,u));return Fn.create(p,"or")}(n,e),MT(t)}function iU(n,e){if(cy(e))return JV(e,n.getFilters());{const t=e.filters.map(r=>Wk(n,r));return Fn.create(t,"or")}}function MT(n){if(Et(n instanceof cn||n instanceof Fn),n instanceof cn)return n;const e=n.getFilters();if(1===e.length)return MT(e[0]);if(QV(n))return n;const t=e.map(i=>MT(i)),r=[];return t.forEach(i=>{i instanceof cn?r.push(i):i instanceof Fn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Fn.create(r,n.op)}class DG{constructor(){this.rn=new Kk}addToCollectionParentIndex(e,t){return this.rn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(Ws.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class Kk{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ar(gn.comparator),c=!i.has(r);return this.index[t]=i.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ar(gn.comparator)).toArray()}}const RT=new Uint8Array(0);class TG{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Kk,this.un=new cd(r=>Dm(r),(r,i)=>yw(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const c={collectionId:r,parent:So(i)};return oU(e).put(c)}return ce.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[CV(t),""],!1,!0);return oU(e).j(i).next(c=>{for(const u of c){if(u.collectionId!==t)break;r.push(Cl(u.parent))}return r})}addFieldIndex(e,t){const r=kT(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var u;delete i.indexId;const c=r.add(i);if(t.indexState){const u=Nw(e);return c.next(p=>{u.put(QB(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const r=kT(e),i=Nw(e),c=Pw(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Pw(e);let i=!0;const c=new Map;return ce.forEach(this.cn(t),u=>this.an(e,u).next(p=>{i&&(i=!!p),c.set(u,p)})).next(()=>{if(i){let u=Qt();const p=[];return ce.forEach(c,(_,w)=>{var D;Be("IndexedDbIndexManager",`Using index ${D=_,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(Ge=>`${Ge.fieldPath}:${Ge.kind}`).join(",")}`} to execute ${Dm(t)}`);const M=function(Ge,st){const Tt=gk(st);if(void 0===Tt)return null;for(const Ft of bT(Ge,Tt.fieldPath))switch(Ft.op){case"array-contains-any":return Ft.value.arrayValue.values||[];case"array-contains":return[Ft.value]}return null}(w,_),L=function(Ge,st){const Tt=new Map;for(const Ft of xm(st))for(const xn of bT(Ge,Ft.fieldPath))switch(xn.op){case"==":case"in":Tt.set(Ft.fieldPath.canonicalString(),xn.value);break;case"not-in":case"!=":return Tt.set(Ft.fieldPath.canonicalString(),xn.value),Array.from(Tt.values())}return null}(w,_),$=function(Ge,st){const Tt=[];let Ft=!0;for(const xn of xm(st)){const ro=0===xn.kind?rB(Ge,xn.fieldPath,Ge.startAt):iB(Ge,xn.fieldPath,Ge.startAt);Tt.push(ro.value),Ft&&(Ft=ro.inclusive)}return new ef(Tt,Ft)}(w,_),W=function(Ge,st){const Tt=[];let Ft=!0;for(const xn of xm(st)){const ro=0===xn.kind?iB(Ge,xn.fieldPath,Ge.endAt):rB(Ge,xn.fieldPath,Ge.endAt);Tt.push(ro.value),Ft&&(Ft=ro.inclusive)}return new ef(Tt,Ft)}(w,_),J=this.hn(_,w,$),he=this.hn(_,w,W),He=this.ln(_,w,L),et=this.fn(_.indexId,M,J,$.inclusive,he,W.inclusive,He);return ce.forEach(et,Ge=>r.H(Ge,t.limit).next(st=>{st.forEach(Tt=>{const Ft=Xe.fromSegments(Tt.documentKey);u.has(Ft)||(u=u.add(Ft),p.push(Ft))})}))}).next(()=>p)}return ce.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:IG(Fn.create(e.filters,"and")).map(r=>Dk(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,c,u,p){const _=(null!=t?t.length:1)*Math.max(r.length,c.length),w=_/(null!=t?t.length:1),D=[];for(let M=0;M<_;++M){const L=t?this.dn(t[M/w]):RT,$=this.wn(e,L,r[M%w],i),W=this._n(e,L,c[M%w],u),J=p.map(he=>this.wn(e,L,he,!0));D.push(...this.createRange($,W,J))}return D}wn(e,t,r,i){const c=new Pm(e,Xe.empty(),t,r);return i?c:c.Je()}_n(e,t,r,i){const c=new Pm(e,Xe.empty(),t,r);return i?c.Je():c}an(e,t){const r=new CG(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(c=>{let u=null;for(const p of c)r.tn(p)&&(!u||p.fields.length>u.fields.length)&&(u=p);return u})}getIndexType(e,t){let r=2;const i=this.cn(t);return ce.forEach(i,c=>this.an(e,c).next(u=>{u?0!==r&&u.fields.length<function(p){let _=new ar(Lr.comparator),w=!1;for(const D of p.filters)for(const M of D.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?w=!0:_=_.add(M.field));for(const D of p.orderBy)D.field.isKeyField()||(_=_.add(D.field));return _.size+(w?1:0)}(c)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new Ow;for(const i of xm(e)){const c=t.data.field(i.fieldPath);if(null==c)return null;const u=r.He(i.kind);Om.Ve._e(c,u)}return r.Qe()}dn(e){const t=new Ow;return Om.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new Ow;return Om.Ve._e(Im(this.databaseId,t),r.He(function(i){const c=xm(i);return 0===c.length?0:c[c.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new Ow);let c=0;for(const u of xm(e)){const p=r[c++];for(const _ of i)if(this.yn(t,u.fieldPath)&&gw(p))i=this.pn(i,u,p);else{const w=_.He(u.kind);Om.Ve._e(p,w)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],c=[];for(const u of r.arrayValue.values||[])for(const p of i){const _=new Ow;_.seed(p.Qe()),Om.Ve._e(u,_.He(t.kind)),c.push(_)}return c}yn(e,t){return!!e.filters.find(r=>r instanceof cn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=kT(e),i=Nw(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(c=>{const u=[];return ce.forEach(c,p=>i.get([p.indexId,this.uid]).next(_=>{u.push(function(w,D){const M=D?new uw(D.sequenceNumber,new Ws(Rm(D.readTime),new Xe(Cl(D.documentKey)),D.largestBatchId)):uw.empty(),L=w.fields.map(([$,W])=>new uT(Lr.fromServerFormat($),W));return new lT(w.indexId,w.collectionGroup,L,M)}(p,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const c=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==c?c:$t(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=kT(e),c=Nw(e);return this.Tn(e).next(u=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>ce.forEach(p,_=>c.put(QB(_.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return ce.forEach(t,(i,c)=>{const u=r.get(i.collectionGroup);return(u?ce.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),ce.forEach(p,_=>this.En(e,i,_).next(w=>{const D=this.An(c,_);return w.isEqual(D)?ce.resolve():this.vn(e,c,_,w,D)}))))})}Rn(e,t,r,i){return Pw(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return Pw(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=Pw(e);let c=new ar(nf);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(u,p)=>{c=c.add(new Pm(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>c)}An(e,t){let r=new ar(nf);const i=this.mn(t,e);if(null==i)return r;const c=gk(t);if(null!=c){const u=e.data.field(c.fieldPath);if(gw(u))for(const p of u.arrayValue.values||[])r=r.add(new Pm(t.indexId,e.key,this.dn(p),i))}else r=r.add(new Pm(t.indexId,e.key,RT,i));return r}vn(e,t,r,i,c){Be("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(p,_,w,D,M){const L=p.getIterator(),$=_.getIterator();let W=oy(L),J=oy($);for(;W||J;){let he=!1,He=!1;if(W&&J){const et=w(W,J);et<0?He=!0:et>0&&(he=!0)}else null!=W?He=!0:he=!0;he?(D(J),J=oy($)):He?(M(W),W=oy(L)):(W=oy(L),J=oy($))}}(i,c,nf,p=>{u.push(this.Rn(e,t,r,p))},p=>{u.push(this.Pn(e,t,r,p))}),ce.waitFor(u)}Tn(e){let t=1;return Nw(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,c)=>{c.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,p)=>nf(u,p)).filter((u,p,_)=>!p||0!==nf(u,_[p-1]));const i=[];i.push(e);for(const u of r){const p=nf(u,e),_=nf(u,t);if(0===p)i[0]=e.Je();else if(p>0&&_<0)i.push(u),i.push(u.Je());else if(_>0)break}i.push(t);const c=[];for(let u=0;u<i.length;u+=2){if(this.bn(i[u],i[u+1]))return[];c.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,RT,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,RT,[]]))}return c}bn(e,t){return nf(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(sU)}getMinOffset(e,t){return ce.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||ut())).next(sU)}}function oU(n){return Bi(n,"collectionParents")}function Pw(n){return Bi(n,"indexEntries")}function kT(n){return Bi(n,"indexConfiguration")}function Nw(n){return Bi(n,"indexState")}function sU(n){Et(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;_k(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ws(e.readTime,e.documentKey,t)}const aU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ao{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ao(e,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cU(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),c=[],u=IDBKeyRange.only(t.batchId);let p=0;const _=r.X({range:u},(D,M,L)=>(p++,L.delete()));c.push(_.next(()=>{Et(1===p)}));const w=[];for(const D of t.mutations){const M=OV(e,D.key.path,t.batchId);c.push(i.delete(M)),w.push(D.key)}return ce.waitFor(c).next(()=>w)}function OT(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ut();e=n.noDocument}return JSON.stringify(e).length}Ao.DEFAULT_COLLECTION_PERCENTILE=10,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ao.DEFAULT=new Ao(41943040,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ao.DISABLED=new Ao(-1,0,0);class PT{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){Et(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new PT(c,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rf(e).X({index:"userMutationsIndex",range:r},(i,c,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const c=gy(e),u=rf(e);return u.add({}).next(p=>{Et("number"==typeof p);const _=new Ok(p,t,r,i),w=function(L,$,W){const J=W.baseMutations.map(He=>Mw(L.fe,He)),he=W.mutations.map(He=>Mw(L.fe,He));return{userId:$,batchId:W.batchId,localWriteTimeMs:W.localWriteTime.toMillis(),baseMutations:J,mutations:he}}(this.serializer,this.userId,_),D=[];let M=new ar((L,$)=>$t(L.canonicalString(),$.canonicalString()));for(const L of i){const $=OV(this.userId,L.key.path,p);M=M.add(L.key.path.popLast()),D.push(u.put(w)),D.push(c.put($,p$))}return M.forEach(L=>{D.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.Vn[p]=_.keys()}),ce.waitFor(D).next(()=>_)})}lookupMutationBatch(e,t){return rf(e).get(t).next(r=>r?(Et(r.userId===this.userId),km(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?ce.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return rf(e).X({index:"userMutationsIndex",range:i},(u,p,_)=>{p.userId===this.userId&&(Et(p.batchId>=r),c=km(this.serializer,p)),_.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return rf(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,c,u)=>{r=c.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rf(e).j("userMutationsIndex",t).next(r=>r.map(i=>km(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=hT(this.userId,t.path),i=IDBKeyRange.lowerBound(r),c=[];return gy(e).X({range:i},(u,p,_)=>{const[w,D,M]=u,L=Cl(D);if(w===this.userId&&t.path.isEqual(L))return rf(e).get(M).next($=>{if(!$)throw ut();Et($.userId===this.userId),c.push(km(this.serializer,$))});_.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ar($t);const i=[];return t.forEach(c=>{const u=hT(this.userId,c.path),p=IDBKeyRange.lowerBound(u),_=gy(e).X({range:p},(w,D,M)=>{const[L,$,W]=w,J=Cl($);L===this.userId&&c.path.isEqual(J)?r=r.add(W):M.done()});i.push(_)}),ce.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,c=hT(this.userId,r),u=IDBKeyRange.lowerBound(c);let p=new ar($t);return gy(e).X({range:u},(_,w,D)=>{const[M,L,$]=_,W=Cl(L);M===this.userId&&r.isPrefixOf(W)?W.length===i&&(p=p.add($)):D.done()}).next(()=>this.Dn(e,p))}Dn(e,t){const r=[],i=[];return t.forEach(c=>{i.push(rf(e).get(c).next(u=>{if(null===u)throw ut();Et(u.userId===this.userId),r.push(km(this.serializer,u))}))}),ce.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return cU(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ce.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ce.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return gy(e).X({range:r},(c,u,p)=>{if(c[0]===this.userId){const _=Cl(c[1]);i.push(_)}else p.done()}).next(()=>{Et(0===i.length)})})}containsKey(e,t){return lU(e,this.userId,t)}xn(e){return uU(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function lU(n,e,t){const r=hT(e,t.path),i=r[1],c=IDBKeyRange.lowerBound(r);let u=!1;return gy(n).X({range:c,Y:!0},(p,_,w)=>{const[D,M,L]=p;D===e&&M===i&&(u=!0),w.done()}).next(()=>u)}function rf(n){return Bi(n,"mutations")}function gy(n){return Bi(n,"documentMutations")}function uU(n){return Bi(n,"mutationQueues")}class Nm{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Nm(0)}static Mn(){return new Nm(-1)}}class SG{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Nm(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>xt.fromTimestamp(new mr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>_y(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Et(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const c=[];return _y(e).X((u,p)=>{const _=Rw(p);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,c.push(this.removeTargetData(e,_)))}).next(()=>ce.waitFor(c)).next(()=>i)}forEachTarget(e,t){return _y(e).X((r,i)=>{const c=Rw(i);t(c)})}$n(e){return dU(e).get("targetGlobalKey").next(t=>(Et(null!==t),t))}On(e,t){return dU(e).put("targetGlobalKey",t)}Fn(e,t){return _y(e).put(KB(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Dm(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return _y(e).X({range:i,index:"queryTargetsIndex"},(u,p,_)=>{const w=Rw(p);yw(t,w.target)&&(c=w,_.done())}).next(()=>c)}addMatchingKeys(e,t,r){const i=[],c=sf(e);return t.forEach(u=>{const p=So(u.path);i.push(c.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,u))}),ce.waitFor(i)}removeMatchingKeys(e,t,r){const i=sf(e);return ce.forEach(t,c=>{const u=So(c.path);return ce.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=sf(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=sf(e);let c=Qt();return i.X({range:r,Y:!0},(u,p,_)=>{const w=Cl(u[1]),D=new Xe(w);c=c.add(D)}).next(()=>c)}containsKey(e,t){const r=So(t.path),i=IDBKeyRange.bound([r],[CV(r)],!1,!0);let c=0;return sf(e).X({index:"documentTargetsIndex",Y:!0,range:i},([u,p],_,w)=>{0!==u&&(c++,w.done())}).next(()=>c>0)}le(e,t){return _y(e).get(t).next(r=>r?Rw(r):null)}}function _y(n){return Bi(n,"targets")}function dU(n){return Bi(n,"targetGlobal")}function sf(n){return Bi(n,"targetDocuments")}function hU([n,e],[t,r]){const i=$t(n,t);return 0===i?$t(e,r):i}class AG{constructor(e){this.Ln=e,this.buffer=new ar(hU),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();hU(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fU{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Be("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Zh(r)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield qh(r)}yield t.Qn(3e5)}))}}class MG{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ce.resolve(Ks.ct);const r=new AG(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(aU)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aU):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,c,u,p,_,w;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,u=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,p=Date.now(),this.removeTargets(e,r,t))).next(M=>(c=M,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(w=Date.now(),pk()<=fl.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-D}ms\n\tDetermined least recently used ${i} in `+(p-u)+`ms\n\tRemoved ${c} targets in `+(_-p)+`ms\n\tRemoved ${M} documents in `+(w-_)+`ms\nTotal Duration: ${w-D}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:c,documentsRemoved:M})))}}class RG{constructor(e,t){this.db=e,this.garbageCollector=function pU(n,e){return new MG(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return NT(e,r)}removeReference(e,t,r){return NT(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return NT(e,t)}Xn(e,t){return function(r,i){let c=!1;return uU(r).Z(u=>lU(r,u,i).next(p=>(p&&(c=!0),ce.resolve(!p)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let c=0;return this.Yn(e,(u,p)=>{if(p<=t){const _=this.Xn(e,u).next(w=>{if(!w)return c++,r.getEntry(e,u).next(()=>(r.removeEntry(u,xt.min()),sf(e).delete([0,So(u.path)])))});i.push(_)}}).next(()=>ce.waitFor(i)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return NT(e,t)}Yn(e,t){const r=sf(e);let i,c=Ks.ct;return r.X({index:"documentTargetsIndex"},([u,p],{path:_,sequenceNumber:w})=>{0===u?(c!==Ks.ct&&t(new Xe(Cl(i)),c),c=w,i=_):c=Ks.ct}).next(()=>{c!==Ks.ct&&t(new Xe(Cl(i)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function NT(n,e){return sf(n).put((r=n.currentSequenceNumber,{targetId:0,path:So(e.path),sequenceNumber:r}));var r}class mU{constructor(){this.changes=new cd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kG{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Fm(e).put(r)}removeEntry(e,t,r){return Fm(e).delete(function(i,c){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],ST(c),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=cr.newInvalidDocument(t);return Fm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Fw(t))},(i,c)=>{r=this.ts(t,c)}).next(()=>r)}es(e,t){let r={size:0,document:cr.newInvalidDocument(t)};return Fm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Fw(t))},(i,c)=>{r={document:this.ts(t,c),size:OT(c)}}).next(()=>r)}getEntries(e,t){let r=Ts();return this.ns(e,t,(i,c)=>{const u=this.ts(i,c);r=r.insert(i,u)}).next(()=>r)}ss(e,t){let r=Ts(),i=new tr(Xe.comparator);return this.ns(e,t,(c,u)=>{const p=this.ts(c,u);r=r.insert(c,p),i=i.insert(c,OT(u))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return ce.resolve();let i=new ar(vU);t.forEach(_=>i=i.add(_));const c=IDBKeyRange.bound(Fw(i.first()),Fw(i.last())),u=i.getIterator();let p=u.getNext();return Fm(e).X({index:"documentKeyIndex",range:c},(_,w,D)=>{const M=Xe.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;p&&vU(p,M)<0;)r(p,null),p=u.getNext();p&&p.isEqual(M)&&(r(p,w),p=u.hasNext()?u.getNext():null),p?D.G(Fw(p)):D.done()}).next(()=>{for(;p;)r(p,null),p=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const c=t.path,u=[c.popLast().toArray(),c.lastSegment(),ST(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],p=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fm(e).j(IDBKeyRange.bound(u,p,!0)).next(_=>{let w=Ts();for(const D of _){const M=this.ts(Xe.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);M.isFoundDocument()&&(bw(t,M)||i.has(M.key))&&(w=w.insert(M.key,M))}return w})}getAllFromCollectionGroup(e,t,r,i){let c=Ts();const u=yU(t,r),p=yU(t,Ws.max());return Fm(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,p,!0)},(_,w,D)=>{const M=this.ts(Xe.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);c=c.insert(M.key,M),c.size===i&&D.done()}).next(()=>c)}newChangeBuffer(e){return new OG(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return _U(e).get("remoteDocumentGlobalKey").next(t=>(Et(!!t),t))}Zn(e,t){return _U(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function yG(n,e){let t;if(e.document)t=HB(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Xe.fromSegments(e.noDocument.path),i=Rm(e.noDocument.readTime);t=cr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ut();{const r=Xe.fromSegments(e.unknownDocument.path),i=Rm(e.unknownDocument.version);t=cr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new mr(r[0],r[1]);return xt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(xt.min()))return r}return cr.newInvalidDocument(e)}}function gU(n){return new kG(n)}class OG extends mU{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new cd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new ar((c,u)=>$t(c.canonicalString(),u.canonicalString()));return this.changes.forEach((c,u)=>{const p=this.us.get(c);if(t.push(this.os.removeEntry(e,c,p.readTime)),u.isValidDocument()){const _=WB(this.os.serializer,u);i=i.add(c.path.popLast());const w=OT(_);r+=w-p.size,t.push(this.os.addEntry(e,c,_))}else if(r-=p.size,this.trackRemovals){const _=WB(this.os.serializer,u.convertToNoDocument(xt.min()));t.push(this.os.addEntry(e,c,_))}}),i.forEach(c=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.os.updateMetadata(e,r)),ce.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((c,u)=>{this.us.set(c,{size:u,readTime:r.get(c).readTime})}),r))}}function _U(n){return Bi(n,"remoteDocumentGlobal")}function Fm(n){return Bi(n,"remoteDocumentsV14")}function Fw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yU(n,e){const t=e.documentKey.path.toArray();return[n,ST(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function vU(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let c=0;c<t.length-2&&c<r.length-2;++c)if(i=$t(t[c],r[c]),i)return i;return i=$t(t.length,r.length),i||(i=$t(t[t.length-2],r[r.length-2]),i||$t(t[t.length-1],r[r.length-1]))}class PG{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class bU{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Cw(r.mutation,i,Ds.empty(),mr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Qt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Qt()){const i=Dl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(c=>{let u=ww();return c.forEach((p,_)=>{u=u.insert(p,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Dl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Qt()))}populateOverlays(e,t,r){const i=[];return r.forEach(c=>{t.has(c)||i.push(c)}),this.documentOverlayCache.getOverlays(e,i).next(c=>{c.forEach((u,p)=>{t.set(u,p)})})}computeViews(e,t,r,i){let c=Ts();const u=Ew(),p=Ew();return t.forEach((_,w)=>{const D=r.get(w.key);i.has(w.key)&&(void 0===D||D.mutation instanceof ld)?c=c.insert(w.key,w):void 0!==D?(u.set(w.key,D.mutation.getFieldMask()),Cw(D.mutation,w,D.mutation.getFieldMask(),mr.now())):u.set(w.key,Ds.empty())}),this.recalculateAndSaveOverlays(e,c).next(_=>(_.forEach((w,D)=>u.set(w,D)),t.forEach((w,D)=>{var M;return p.set(w,new PG(D,null!==(M=u.get(w))&&void 0!==M?M:null))}),p))}recalculateAndSaveOverlays(e,t){const r=Ew();let i=new tr((u,p)=>u-p),c=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const p of u)p.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let D=r.get(_)||Ds.empty();D=p.applyToLocalView(w,D),r.set(_,D);const M=(i.get(p.batchId)||Qt()).add(_);i=i.insert(p.batchId,M)})}).next(()=>{const u=[],p=i.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),w=_.key,D=_.value,M=hB();D.forEach(L=>{if(!c.has(L)){const $=wB(t.get(L),r.get(L));null!==$&&M.set(L,$),c=c.add(L)}}),u.push(this.documentOverlayCache.saveOverlays(e,w,M))}return ce.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Xe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Sk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(c=>{const u=i-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-c.size):ce.resolve(Dl());let p=-1,_=c;return u.next(w=>ce.forEach(w,(D,M)=>(p<M.largestBatchId&&(p=M.largestBatchId),c.get(D)?ce.resolve():this.remoteDocumentCache.getEntry(e,D).next(L=>{_=_.insert(D,L)}))).next(()=>this.populateOverlays(e,w,c)).next(()=>this.computeViews(e,_,w,Qt())).next(D=>({batchId:p,changes:dB(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Xe(t)).next(r=>{let i=ww();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let c=ww();return this.indexManager.getCollectionParents(e,i).next(u=>ce.forEach(u,p=>{const _=(w=t,D=p.child(i),new ad(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,D;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(w=>{w.forEach((D,M)=>{c=c.insert(D,M)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(i=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(c=>{i.forEach((p,_)=>{const w=_.getKey();null===c.get(w)&&(c=c.insert(w,cr.newInvalidDocument(w)))});let u=ww();return c.forEach((p,_)=>{const w=i.get(p);void 0!==w&&Cw(w.mutation,_,Ds.empty(),mr.now()),bw(t,_)&&(u=u.insert(p,_))}),u})}}class NG{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ce.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Kr(r.createTime)}),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:zk(r.bundledQuery),readTime:Kr(r.readTime)}),ce.resolve();var r}}class FG{constructor(){this.overlays=new tr(Xe.comparator),this.ls=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Dl();return ce.forEach(t,i=>this.getOverlay(e,i).next(c=>{null!==c&&r.set(i,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,c)=>{this.we(e,t,c)}),ce.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const i=Dl(),c=t.length+1,u=new Xe(t.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const _=p.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===c&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let c=new tr((w,D)=>w-D);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let D=c.get(w.largestBatchId);null===D&&(D=Dl(),c=c.insert(w.largestBatchId,D)),D.set(w.getKey(),w)}}const p=Dl(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,D)=>p.set(w,D)),!(p.size()>=i)););return ce.resolve(p)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Nk(t,r));let c=this.ls.get(t);void 0===c&&(c=Qt(),this.ls.set(t,c)),this.ls.set(t,c.add(r.key))}}class Yk{constructor(){this.fs=new ar(Ui.ds),this.ws=new ar(Ui._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Ui(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Ui(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Xe(new gn([])),r=new Ui(t,e),i=new Ui(t,e+1),c=[];return this.ws.forEachInRange([r,i],u=>{this.ys(u),c.push(u.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Xe(new gn([])),r=new Ui(t,e),i=new Ui(t,e+1);let c=Qt();return this.ws.forEachInRange([r,i],u=>{c=c.add(u.key)}),c}containsKey(e){const t=new Ui(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ui{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Xe.comparator(e.key,t.key)||$t(e.As,t.As)}static _s(e,t){return $t(e.As,t.As)||Xe.comparator(e.key,t.key)}}class LG{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ar(Ui.ds)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const c=this.vs;this.vs++;const u=new Ok(c,t,r,i);this.mutationQueue.push(u);for(const p of i)this.Rs=this.Rs.add(new Ui(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,t){return ce.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),c=i<0?0:i;return ce.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ui(t,0),i=new Ui(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([r,i],u=>{const p=this.Ps(u.As);c.push(p)}),ce.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ar($t);return t.forEach(i=>{const c=new Ui(i,0),u=new Ui(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,u],p=>{r=r.add(p.As)})}),ce.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let c=r;Xe.isDocumentKey(c)||(c=c.child(""));const u=new Ui(new Xe(c),0);let p=new ar($t);return this.Rs.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(p=p.add(_.As)),!0)},u),ce.resolve(this.Vs(p))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Et(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ce.forEach(t.mutations,i=>{const c=new Ui(i.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Ui(t,0),i=this.Rs.firstAfterOrEqual(r);return ce.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ce.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class VG{constructor(e){this.Ds=e,this.docs=new tr(Xe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),c=i?i.size:0,u=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():cr.newInvalidDocument(t))}getEntries(e,t){let r=Ts();return t.forEach(i=>{const c=this.docs.get(i);r=r.insert(i,c?c.document.mutableCopy():cr.newInvalidDocument(i))}),ce.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let c=Ts();const u=t.path,p=new Xe(u.child("")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:w,value:{document:D}}=_.getNext();if(!u.isPrefixOf(w.path))break;w.path.length>u.length+1||_k(DV(D),r)<=0||(i.has(D.key)||bw(t,D))&&(c=c.insert(D.key,D.mutableCopy()))}return ce.resolve(c)}getAllFromCollectionGroup(e,t,r,i){ut()}Cs(e,t){return ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new BG(this)}getSize(e){return ce.resolve(this.size)}}class BG extends mU{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),ce.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class UG{constructor(e){this.persistence=e,this.xs=new cd(t=>Dm(t),yw),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Yk,this.targetCount=0,this.Ms=Nm.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ce.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Nm(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Fn(t),ce.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let i=0;const c=[];return this.xs.forEach((u,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.xs.delete(u),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),ce.waitFor(c).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,c=[];return i&&t.forEach(u=>{c.push(i.markPotentiallyOrphaned(e,u))}),ce.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this.ks.containsKey(t))}}class Qk{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ks(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new UG(this),this.indexManager=new DG,this.remoteDocumentCache=new VG(r=>this.referenceDelegate.Ls(r)),this.serializer=new ZB(t),this.qs=new NG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new FG,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new LG(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Be("MemoryPersistence","Starting transaction:",e);const i=new HG(this.Os.next());return this.referenceDelegate.Us(),r(i).next(c=>this.referenceDelegate.Ks(i).next(()=>c)).toPromise().then(c=>(i.raiseOnCommittedEvent(),c))}Gs(e,t){return ce.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class HG extends SV{constructor(e){super(),this.currentSequenceNumber=e}}class FT{constructor(e){this.persistence=e,this.Qs=new Yk,this.js=null}static zs(e){return new FT(e)}get Ws(){if(this.js)return this.js;throw ut()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(c=>this.Ws.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ws,r=>{const i=Xe.fromPath(r);return this.Hs(e,i).next(c=>{c||t.removeEntry(i,xt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ce.or([()=>ce.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class jG{constructor(e){this.serializer=e}O(e,t,r,i){const c=new dT("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kV,{unique:!0}),p.createObjectStore("documentMutations"),wU(e),function(p){p.createObjectStore("remoteDocuments")}(e));let u=ce.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),wU(e)),u=u.next(()=>function(p){const _=p.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(c))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(p,_){return _.store("mutations").j().next(w=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kV,{unique:!0});const D=_.store("mutations"),M=w.map(L=>D.put(L));return ce.waitFor(M)})}(e,c))),u=u.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Ys(c))),r<6&&i>=6&&(u=u.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(c)))),r<7&&i>=7&&(u=u.next(()=>this.Zs(c))),r<8&&i>=8&&(u=u.next(()=>this.ti(e,c))),r<9&&i>=9&&(u=u.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.ei(c))),r<11&&i>=11&&(u=u.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(p){const _=p.createObjectStore("documentOverlays",{keyPath:D$});_.createIndex("collectionPathOverlayIndex",T$,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",S$,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(p){const _=p.createObjectStore("remoteDocumentsV14",{keyPath:m$});_.createIndex("documentKeyIndex",g$),_.createIndex("collectionGroupIndex",_$)}(e)).next(()=>this.ni(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.si(e,c))),r<15&&i>=15&&(u=u.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:E$}).createIndex("sequenceNumberIndex",x$,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:C$}).createIndex("documentKeyIndex",I$,{unique:!1})}(e))),u}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=OT(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>ce.forEach(i,c=>{const u=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",u).next(p=>ce.forEach(p,_=>{Et(_.userId===c.userId);const w=km(this.serializer,_);return cU(e,c.userId,w).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const c=[];return r.X((u,p)=>{const _=new gn(u),w=[0,So(_)];c.push(t.get(w).next(D=>D?ce.resolve():t.put({targetId:0,path:So(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ce.waitFor(c))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:w$});const r=t.store("collectionParents"),i=new Kk,c=u=>{if(i.add(u)){const p=u.lastSegment(),_=u.popLast();return r.put({collectionId:p,parent:So(_)})}};return t.store("remoteDocuments").X({Y:!0},(u,p)=>{const _=new gn(u);return c(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([u,p,_],w)=>{const D=Cl(p);return c(D.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const c=Rw(i),u=KB(this.serializer,c);return t.put(u)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((c,u)=>{const p=t.store("remoteDocumentsV14"),_=(w=u,w.document?new Xe(gn.fromString(w.document.name).popFirst(5)):w.noDocument?Xe.fromSegments(w.noDocument.path):w.unknownDocument?Xe.fromSegments(w.unknownDocument.path):ut()).path.toArray();var w;const D={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(p.put(D))}).next(()=>ce.waitFor(i))}si(e,t){const r=t.store("mutations"),i=gU(this.serializer),c=new Qk(FT.zs,this.serializer.fe);return r.j().next(u=>{const p=new Map;return u.forEach(_=>{var w;let D=null!==(w=p.get(_.userId))&&void 0!==w?w:Qt();km(this.serializer,_).keys().forEach(M=>D=D.add(M)),p.set(_.userId,D)}),ce.forEach(p,(_,w)=>{const D=new Vi(w),M=AT.de(this.serializer,D),L=c.getIndexManager(D),$=PT.de(D,this.serializer,L,c.referenceDelegate);return new bU(i,$,M,L).recalculateAndSaveOverlaysForDocumentKeys(new bk(t,Ks.ct),_).next()})})}}function wU(n){n.createObjectStore("targetDocuments",{keyPath:v$}).createIndex("documentTargetsIndex",b$,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",y$,{unique:!0}),n.createObjectStore("targetGlobal")}const Xk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Jk{constructor(e,t,r,i,c,u,p,_,w,D,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=c,this.window=u,this.document=p,this.ri=w,this.oi=D,this.ui=M,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=L=>Promise.resolve(),!Jk.D())throw new Me(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new RG(this,i),this.di=t+"main",this.serializer=new ZB(_),this.wi=new kc(this.di,this.ui,new jG(this.serializer)),this.Bs=new SG(this.referenceDelegate,this.serializer),this.remoteDocumentCache=gU(this.serializer),this.qs=new vG,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===D&&Wr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(ue.FAILED_PRECONDITION,Xk);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Ks(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,ve.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ve.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>VT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Zh(e))return Be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Lw(e).get("owner").next(t=>ce.resolve(this.Ri(t)))}Pi(e){return VT(e).delete(this.clientId)}bi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Bi(r,"clientMetadata");return i.j().next(c=>{const u=e.Si(c,18e5),p=c.filter(_=>-1===u.indexOf(_));return ce.forEach(p,_=>i.delete(_.clientId)).next(()=>p)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ce.resolve(!0):Lw(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Me(ue.FAILED_PRECONDITION,Xk);return!1}}return!(!this.networkEnabled||!this.inForeground)||VT(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Be("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new bk(t,Ks.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>VT(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return PT.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new TG(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return AT.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Be("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",c=15===(u=this.ui)?M$:14===u?FV:13===u?NV:12===u?A$:11===u?PV:void ut();var u;let p;return this.wi.runTransaction(e,i,c,_=>(p=new bk(_,this.Os?this.Os.next():Ks.ct),"readwrite-primary"===t?this.Ti(p).next(w=>!!w||this.Ei(p)).next(w=>{if(!w)throw Wr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Me(ue.FAILED_PRECONDITION,TV);return r(p)}).next(w=>this.vi(p).next(()=>w)):this.Oi(p).next(()=>r(p)))).then(_=>(p.raiseOnCommittedEvent(),_))}Oi(e){return Lw(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(ue.FAILED_PRECONDITION,Xk)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Lw(e).put("owner",t)}static D(){return kc.D()}Ai(e){const t=Lw(e);return t.get("owner").next(r=>this.Ri(r)?(Be("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ce.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Wr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,mn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Be("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Wr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Wr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Lw(n){return Bi(n,"owner")}function VT(n){return Bi(n,"clientMetadata")}function eO(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class tO{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Qt(),i=Qt();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}return new tO(e,t.fromCache,r,i)}}class EU{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(c=>c||this.Gi(e,t,i,r)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(sB(t))return ce.resolve(null);let r=Xo(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=ET(t,null,"F"),r=Xo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const u=Qt(...c);return this.Ui.getDocuments(e,u).next(p=>this.indexManager.getMinOffset(e,r).next(_=>{const w=this.ji(t,p);return this.zi(t,w,u,_.readTime)?this.Ki(e,ET(t,null,"F")):this.Wi(e,w,t,_)}))})))}Gi(e,t,r,i){return sB(t)||i.isEqual(xt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(c=>{const u=this.ji(t,c);return this.zi(t,u,r,i)?this.Qi(e,t):(pk()<=fl.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mk(t)),this.Wi(e,u,t,IV(i,-1)))})}ji(e,t){let r=new ar(lB(e));return t.forEach((i,c)=>{bw(e,c)&&(r=r.add(c))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(i)>0)}Qi(e,t){return pk()<=fl.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",Mk(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ws.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(c=>(t.forEach(u=>{c=c.insert(u.key,u)}),c))}}class zG{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new tr($t),this.Yi=new cd(c=>Dm(c),yw),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bU(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function xU(n,e,t,r){return new zG(n,e,t,r)}function CU(n,e){return nO.apply(this,arguments)}function nO(){return nO=(0,ve.Z)(function*(n,e){const t=Je(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(c=>(i=c,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const u=[],p=[];let _=Qt();for(const w of i){u.push(w.batchId);for(const D of w.mutations)_=_.add(D.key)}for(const w of c){p.push(w.batchId);for(const D of w.mutations)_=_.add(D.key)}return t.localDocuments.getDocuments(r,_).next(w=>({er:w,removedBatchIds:u,addedBatchIds:p}))})})}),nO.apply(this,arguments)}function IU(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function DU(n,e,t){let r=Qt(),i=Qt();return t.forEach(c=>r=r.add(c)),e.getEntries(n,r).next(c=>{let u=Ts();return t.forEach((p,_)=>{const w=c.get(p);_.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(p)),_.isNoDocument()&&_.version.isEqual(xt.min())?(e.removeEntry(p,_.readTime),u=u.insert(p,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),u=u.insert(p,_)):Be("LocalStore","Ignoring outdated watch update for ",p,". Current version:",w.version," Watch version:",_.version)}),{nr:u,sr:i}})}function qG(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yy(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(c=>c?(i=c,ce.resolve(i)):t.Bs.allocateTargetId(r).next(u=>(i=new ud(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function vy(n,e,t){return rO.apply(this,arguments)}function rO(){return rO=(0,ve.Z)(function*(n,e,t){const r=Je(n),i=r.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!Zh(u))throw u;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),rO.apply(this,arguments)}function BT(n,e,t){const r=Je(n);let i=xt.min(),c=Qt();return r.persistence.runTransaction("Execute query","readonly",u=>function(p,_,w){const D=Je(p),M=D.Yi.get(w);return void 0!==M?ce.resolve(D.Ji.get(M)):D.Bs.getTargetData(_,w)}(r,u,Xo(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(u,p.targetId).next(_=>{c=_})}).next(()=>r.Hi.getDocumentsMatchingQuery(u,e,t?i:xt.min(),t?c:Qt())).next(p=>(AU(r,cB(e),p),{documents:p,ir:c})))}function TU(n,e){const t=Je(n),r=Je(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",c=>r.le(c,e).next(u=>u?u.target:null))}function SU(n,e){const t=Je(n),r=t.Xi.get(e)||xt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,IV(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(AU(t,e,i),i))}function AU(n,e,t){let r=n.Xi.get(e)||xt.min();t.forEach((i,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.Xi.set(e,r)}function iO(){return iO=(0,ve.Z)(function*(n,e,t,r){const i=Je(n);let c=Qt(),u=Ts();for(const w of t){const D=e.rr(w.metadata.name);w.document&&(c=c.add(D));const M=e.ur(w);M.setReadTime(e.cr(w.metadata.readTime)),u=u.insert(D,M)}const p=i.Zi.newChangeBuffer({trackRemovals:!0}),_=yield yy(i,(w=r,Xo(ly(gn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>DU(w,p,u).next(D=>(p.apply(w),D)).next(D=>i.Bs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>i.Bs.addMatchingKeys(w,c,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,D.nr,D.sr)).next(()=>D.nr)))}),iO.apply(this,arguments)}function WG(n,e){return oO.apply(this,arguments)}function oO(){return oO=(0,ve.Z)(function*(n,e,t=Qt()){const r=yield yy(n,Xo(zk(e.bundledQuery))),i=Je(n);return i.persistence.runTransaction("Save named query","readwrite",c=>{const u=Kr(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.qs.saveNamedQuery(c,e);const p=r.withResumeToken(xi.EMPTY_BYTE_STRING,u);return i.Ji=i.Ji.insert(p.targetId,p),i.Bs.updateTargetData(c,p).next(()=>i.Bs.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>i.Bs.addMatchingKeys(c,t,r.targetId)).next(()=>i.qs.saveNamedQuery(c,e))})}),oO.apply(this,arguments)}function MU(n,e){return`firestore_clients_${n}_${e}`}function RU(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function sO(n,e){return`firestore_targets_${n}_${e}`}class UT{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let c,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(c=new Me(i.error.code,i.error.message))),u?new UT(e,t,i.state,c):(Wr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(i=new Me(r.error.code,r.error.message))),c?new Vw(e,r.state,i):(Wr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class HT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,c=Rk();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=MV(r.activeTargetIds[u]),c=c.add(r.activeTargetIds[u]);return i?new HT(e,c):(Wr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class aO{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new aO(t.clientId,t.onlineState):(Wr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class cO{constructor(){this.activeTargetIds=Rk()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lO{constructor(e,t,r,i,c){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new tr($t),this.started=!1,this.yr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.pr=MU(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new cO),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const c=e.getItem(MU(e.persistenceKey,i));if(c){const u=HT.ar(i,c);u&&(e.gr=e.gr.insert(u.clientId,u))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(sO(this.persistenceKey,e));if(r){const i=Vw.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(sO(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Be("SharedClientState","READ",e,t),t}setItem(e,t){Be("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Be("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Wr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(c){let u=Ks.ct;if(null!=c)try{const p=JSON.parse(c);Et("number"==typeof p),u=p}catch(p){Wr("SharedClientState","Failed to read sequence number from WebStorage",p)}return u}(r.newValue);i!==Ks.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(c=>t.syncEngine.Qr(c)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new UT(this.currentUser,e,t,r),c=RU(this.persistenceKey,this.currentUser,e);this.setItem(c,i.hr())}Cr(e){const t=RU(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=sO(this.persistenceKey,e),c=new Vw(e,t,r);this.setItem(i,c.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return HT.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return UT.ar(new Vi(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return Vw.ar(i,t)}br(e){return aO.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),c=this.Sr(r),u=[],p=[];return c.forEach(_=>{i.has(_)||u.push(_)}),i.forEach(_=>{c.has(_)||p.push(_)}),this.syncEngine.Wr(u,p).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Rk();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class kU{constructor(){this.Hr=new cO,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new cO,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class KG{Yr(e){}shutdown(){}}class OU{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let jT=null;function uO(){return null===jT?jT=268435456+Math.round(2147483648*Math.random()):jT++,"0x"+jT.toString(16)}const YG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QG{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Mo="WebChannelConnection";class XG extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,c){const u=uO(),p=this.To(e,t);Be("RestConnection",`Sending RPC '${e}' ${u}:`,p,r);const _={};return this.Eo(_,i,c),this.Ao(e,p,_,r).then(w=>(Be("RestConnection",`Received RPC '${e}' ${u}: `,w),w),w=>{throw za("RestConnection",`RPC '${e}' ${u} failed with error: `,w,"url: ",p,"request:",r),w})}vo(e,t,r,i,c,u){return this.Io(e,t,r,i,c)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ry,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,c)=>e[c]=i),r&&r.headers.forEach((i,c)=>e[c]=i)}To(e,t){return`${this.mo}/v1/${t}:${YG[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const c=uO();return new Promise((u,p)=>{const _=new K5;_.setWithCredentials(!0),_.listenOnce(q5.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case fk.NO_ERROR:const D=_.getResponseJson();Be(Mo,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(D)),u(D);break;case fk.TIMEOUT:Be(Mo,`RPC '${e}' ${c} timed out`),p(new Me(ue.DEADLINE_EXCEEDED,"Request time out"));break;case fk.HTTP_ERROR:const M=_.getStatus();if(Be(Mo,`RPC '${e}' ${c} failed with status:`,M,"response text:",_.getResponseText()),M>0){let L=_.getResponseJson();Array.isArray(L)&&(L=L[0]);const $=L?.error;if($&&$.status&&$.message){const W=function(J){const he=J.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(he)>=0?he:ue.UNKNOWN}($.status);p(new Me(W,$.message))}else p(new Me(ue.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new Me(ue.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{Be(Mo,`RPC '${e}' ${c} completed.`)}});const w=JSON.stringify(i);Be(Mo,`RPC '${e}' ${c} sending request:`,i),_.send(t,"POST",w,r,15)})}Ro(e,t,r){const i=uO(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=$5(),p=G5(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(_.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(_.xmlHttpFactory=new W5({})),this.Eo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const D=c.join("");Be(Mo,`Creating RPC '${e}' stream ${i}: ${D}`,_);const M=u.createWebChannel(D,_);let L=!1,$=!1;const W=new QG({ro:he=>{$?Be(Mo,`Not sending because RPC '${e}' stream ${i} is closed:`,he):(L||(Be(Mo,`Opening RPC '${e}' stream ${i} transport.`),M.open(),L=!0),Be(Mo,`RPC '${e}' stream ${i} sending:`,he),M.send(he))},oo:()=>M.close()}),J=(he,He,et)=>{he.listen(He,Ge=>{try{et(Ge)}catch(st){setTimeout(()=>{throw st},0)}})};return J(M,cT.EventType.OPEN,()=>{$||Be(Mo,`RPC '${e}' stream ${i} transport opened.`)}),J(M,cT.EventType.CLOSE,()=>{$||($=!0,Be(Mo,`RPC '${e}' stream ${i} transport closed`),W.wo())}),J(M,cT.EventType.ERROR,he=>{$||($=!0,za(Mo,`RPC '${e}' stream ${i} transport errored:`,he),W.wo(new Me(ue.UNAVAILABLE,"The operation could not be completed")))}),J(M,cT.EventType.MESSAGE,he=>{var He;if(!$){const et=he.data[0];Et(!!et);const st=et.error||(null===(He=et[0])||void 0===He?void 0:He.error);if(st){Be(Mo,`RPC '${e}' stream ${i} received error:`,st);const Tt=st.status;let Ft=function(ro){const Ga=oi[ro];if(void 0!==Ga)return TB(Ga)}(Tt),xn=st.message;void 0===Ft&&(Ft=ue.INTERNAL,xn="Unknown error status: "+Tt+" with message "+st.message),$=!0,W.wo(new Me(Ft,xn)),M.close()}else Be(Mo,`RPC '${e}' stream ${i} received:`,et),W._o(et)}}),J(p,Z5.STAT_EVENT,he=>{he.stat===vV.PROXY?Be(Mo,`RPC '${e}' stream ${i} detected buffering proxy`):he.stat===vV.NOPROXY&&Be(Mo,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{W.fo()},0),W}}function PU(){return typeof window<"u"?window:null}function zT(){return typeof document<"u"?document:null}function Bw(n){return new cG(n,!0)}class dO{constructor(e,t,r=1e3,i=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class NU{constructor(e,t,r,i,c,u,p,_){this.ii=e,this.$o=r,this.Oo=i,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new dO(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ve.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ve.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,ve.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(Wr(t.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ue.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Me(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,ve.Z)(function*(){e.state=0,e.start()}))}tu(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JG extends NU{constructor(e,t,r,i,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function dG(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ut(),i=e.targetChange.targetIds||[],c=function(_,w){return _.useProto3Json?(Et(void 0===w||"string"==typeof w),xi.fromBase64String(w||"")):(Et(void 0===w||w instanceof Uint8Array),xi.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&function(_){const w=void 0===_.code?ue.UNKNOWN:TB(_.code);return new Me(w,_.message||"")}(u);t=new kB(r,i,c,p||null)}else if("documentChange"in e){const r=e.documentChange,i=Tl(n,r.document.name),c=Kr(r.document.updateTime),u=r.document.createTime?Kr(r.document.createTime):xt.min(),p=new to({mapValue:{fields:r.document.fields}}),_=cr.newFoundDocument(i,c,u,p);t=new TT(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=Tl(n,r.document),c=r.readTime?Kr(r.readTime):xt.min(),u=cr.newNoDocument(i,c);t=new TT([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=Tl(n,r.document);t=new TT([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ut();{const r=e.filter,{count:i=0,unchangedNames:c}=r,u=new nG(i,c);t=new RB(r.targetId,u)}}var _;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return xt.min();const c=i.targetChange;return c.targetIds&&c.targetIds.length?xt.min():c.readTime?Kr(c.readTime):xt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Aw(this.serializer),t.addTarget=function(i,c){let u;const p=c.target;if(u=vT(p)?{documents:jB(i,p)}:{query:jk(i,p)},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=FB(i,c.resumeToken);const _=Vk(i,c.expectedCount);null!==_&&(u.expectedCount=_)}else if(c.snapshotVersion.compareTo(xt.min())>0){u.readTime=py(i,c.snapshotVersion.toTimestamp());const _=Vk(i,c.expectedCount);null!==_&&(u.expectedCount=_)}return u}(this.serializer,e);const r=function fG(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Aw(this.serializer),t.removeTarget=e,this.Wo(t)}}class eq extends NU{constructor(e,t,r,i,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function hG(n,e){return n&&n.length>0?(Et(void 0!==e),n.map(t=>function(r,i){let c=Kr(r.updateTime?r.updateTime:i);return c.isEqual(xt.min())&&(c=Kr(i)),new X$(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Kr(e.commitTime);return this.listener.cu(r,t)}return Et(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Aw(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Mw(this.serializer,r))};this.Wo(t)}}class tq extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Me(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,c])=>this.connection.Io(e,t,r,i,c)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Me(ue.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.vo(e,t,r,c,u,i)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Me(ue.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class rq{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Wr(t),this.mu=!1):Be("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class iq{constructor(e,t,r,i,c){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(p=>{r.enqueueAndForget((0,ve.Z)(function*(){var _;af(u)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ve.Z)(function*(w){const D=Je(w);D.vu.add(4),yield by(D),D.bu.set("Unknown"),D.vu.delete(4),yield Uw(D)}),function(w){return _.apply(this,arguments)})(u))}))}),this.bu=new rq(r,i)}}function Uw(n){return fO.apply(this,arguments)}function fO(){return fO=(0,ve.Z)(function*(n){if(af(n))for(const e of n.Ru)yield e(!0)}),fO.apply(this,arguments)}function by(n){return pO.apply(this,arguments)}function pO(){return pO=(0,ve.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),pO.apply(this,arguments)}function $T(n,e){const t=Je(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),_O(t)?gO(t):Ey(t).Ko()&&mO(t,e))}function Hw(n,e){const t=Je(n),r=Ey(t);t.Au.delete(e),r.Ko()&&FU(t,e),0===t.Au.size&&(r.Ko()?r.jo():af(t)&&t.bu.set("Unknown"))}function mO(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ey(n).su(e)}function FU(n,e){n.Vu.qt(e),Ey(n).iu(e)}function gO(n){n.Vu=new iG({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Ey(n).start(),n.bu.gu()}function _O(n){return af(n)&&!Ey(n).Uo()&&n.Au.size>0}function af(n){return 0===Je(n).vu.size}function LU(n){n.Vu=void 0}function oq(n){return yO.apply(this,arguments)}function yO(){return yO=(0,ve.Z)(function*(n){n.Au.forEach((e,t)=>{mO(n,e)})}),yO.apply(this,arguments)}function sq(n,e){return vO.apply(this,arguments)}function vO(){return vO=(0,ve.Z)(function*(n,e){LU(n),_O(n)?(n.bu.Iu(e),gO(n)):n.bu.set("Unknown")}),vO.apply(this,arguments)}function aq(n,e,t){return bO.apply(this,arguments)}function bO(){return bO=(0,ve.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof kB&&2===e.state&&e.cause)try{yield(r=(0,ve.Z)(function*(i,c){const u=c.cause;for(const p of c.targetIds)i.Au.has(p)&&(yield i.remoteSyncer.rejectListen(p,u),i.Au.delete(p),i.Vu.removeTarget(p))}),function(i,c){return r.apply(this,arguments)})(n,e)}catch(r){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield GT(n,r)}else if(e instanceof TT?n.Vu.Ht(e):e instanceof RB?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(xt.min()))try{const r=yield IU(n.localStore);t.compareTo(r)>=0&&(yield function(i,c){const u=i.Vu.ce(c);return u.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const w=i.Au.get(_);w&&i.Au.set(_,w.withResumeToken(p.resumeToken,c))}}),u.targetMismatches.forEach((p,_)=>{const w=i.Au.get(p);if(!w)return;i.Au.set(p,w.withResumeToken(xi.EMPTY_BYTE_STRING,w.snapshotVersion)),FU(i,p);const D=new ud(w.target,p,_,w.sequenceNumber);mO(i,D)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){Be("RemoteStore","Failed to raise snapshot:",r),yield GT(n,r)}var r}),bO.apply(this,arguments)}function GT(n,e,t){return wO.apply(this,arguments)}function wO(){return wO=(0,ve.Z)(function*(n,e,t){if(!Zh(e))throw e;n.vu.add(1),yield by(n),n.bu.set("Offline"),t||(t=()=>IU(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Uw(n)}))}),wO.apply(this,arguments)}function VU(n,e){return e().catch(t=>GT(n,t,e))}function wy(n){return EO.apply(this,arguments)}function EO(){return EO=(0,ve.Z)(function*(n){const e=Je(n),t=cf(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;cq(e);)try{const i=yield qG(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,lq(e,i)}catch(i){yield GT(e,i)}BU(e)&&UU(e)}),EO.apply(this,arguments)}function cq(n){return af(n)&&n.Eu.length<10}function lq(n,e){n.Eu.push(e);const t=cf(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function BU(n){return af(n)&&!cf(n).Uo()&&n.Eu.length>0}function UU(n){cf(n).start()}function uq(n){return xO.apply(this,arguments)}function xO(){return xO=(0,ve.Z)(function*(n){cf(n).hu()}),xO.apply(this,arguments)}function dq(n){return CO.apply(this,arguments)}function CO(){return CO=(0,ve.Z)(function*(n){const e=cf(n);for(const t of n.Eu)e.uu(t.mutations)}),CO.apply(this,arguments)}function hq(n,e,t){return IO.apply(this,arguments)}function IO(){return IO=(0,ve.Z)(function*(n,e,t){const r=n.Eu.shift(),i=Pk.from(r,e,t);yield VU(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield wy(n)}),IO.apply(this,arguments)}function fq(n,e){return DO.apply(this,arguments)}function DO(){return DO=(0,ve.Z)(function*(n,e){var t;e&&cf(n).ou&&(yield(t=(0,ve.Z)(function*(r,i){if(DB(c=i.code)&&c!==ue.ABORTED){const u=r.Eu.shift();cf(r).Qo(),yield VU(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield wy(r)}var c}),function(r,i){return t.apply(this,arguments)})(n,e)),BU(n)&&UU(n)}),DO.apply(this,arguments)}function HU(n,e){return TO.apply(this,arguments)}function TO(){return TO=(0,ve.Z)(function*(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const r=af(t);t.vu.add(3),yield by(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Uw(t)}),TO.apply(this,arguments)}function SO(n,e){return AO.apply(this,arguments)}function AO(){return AO=(0,ve.Z)(function*(n,e){const t=Je(n);e?(t.vu.delete(2),yield Uw(t)):e||(t.vu.add(2),yield by(t),t.bu.set("Unknown"))}),AO.apply(this,arguments)}function Ey(n){return n.Su||(n.Su=function(e,t,r){const i=Je(e);return i.fu(),new JG(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:oq.bind(null,n),ao:sq.bind(null,n),nu:aq.bind(null,n)}),n.Ru.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Su.Qo(),_O(n)?gO(n):n.bu.set("Unknown")):(yield n.Su.stop(),LU(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function cf(n){return n.Du||(n.Du=function(e,t,r){const i=Je(e);return i.fu(),new eq(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:uq.bind(null,n),ao:fq.bind(null,n),au:dq.bind(null,n),cu:hq.bind(null,n)}),n.Ru.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Du.Qo(),yield wy(n)):(yield n.Du.stop(),n.Eu.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class MO{constructor(e,t,r,i,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=c,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,c){const u=Date.now()+r,p=new MO(e,t,u,i,c);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xy(n,e){if(Wr("AsyncQueue",`${e}: ${n}`),Zh(n))return new Me(ue.UNAVAILABLE,`${e}: ${n}`);throw n}class Cy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Xe.comparator(t.key,r.key):(t,r)=>Xe.comparator(t.key,r.key),this.keyedMap=ww(),this.sortedSet=new tr(this.comparator)}static emptySet(e){return new Cy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,c=r.getNext().key;if(!i.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Cy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class jU{constructor(){this.Cu=new tr(Xe.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ut():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Iy{constructor(e,t,r,i,c,u,p,_,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,c){const u=[];return t.forEach(p=>{u.push({type:0,doc:p})}),new Iy(e,t,Cy.emptySet(t),u,r,i,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class pq{constructor(){this.Nu=void 0,this.listeners=[]}}class mq{constructor(){this.queries=new cd(e=>aB(e),vw),this.onlineState="Unknown",this.ku=new Set}}function RO(n,e){return kO.apply(this,arguments)}function kO(){return kO=(0,ve.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1,c=t.queries.get(r);if(c||(i=!0,c=new pq),i)try{c.Nu=yield t.onListen(r)}catch(u){const p=xy(u,`Initialization of query '${Mk(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&NO(t)}),kO.apply(this,arguments)}function OO(n,e){return PO.apply(this,arguments)}function PO(){return PO=(0,ve.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1;const c=t.queries.get(r);if(c){const u=c.listeners.indexOf(e);u>=0&&(c.listeners.splice(u,1),i=0===c.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),PO.apply(this,arguments)}function gq(n,e){const t=Je(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const p of u.listeners)p.$u(i)&&(r=!0);u.Nu=i}}r&&NO(t)}function _q(n,e,t){const r=Je(n),i=r.queries.get(e);if(i)for(const c of i.listeners)c.onError(t);r.queries.delete(e)}function NO(n){n.ku.forEach(e=>{e.next()})}class FO{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Iy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Iy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class yq{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class zU{constructor(e){this.serializer=e}rr(e){return Tl(this.serializer,e)}ur(e){return e.metadata.exists?HB(this.serializer,e.document,!1):cr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Kr(e)}}class vq{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$U(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=gn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new zU(this.serializer);for(const i of e)if(i.metadata.queries){const c=r.rr(i.metadata.name);for(const u of i.metadata.queries){const p=(t.get(u)||Qt()).add(c);t.set(u,p)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function ZG(n,e,t,r){return iO.apply(this,arguments)}(e.localStore,new zU(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield WG(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function $U(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class GU{constructor(e){this.key=e}}class qU{constructor(e){this.key=e}}class ZU{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Qt(),this.mutatedKeys=Qt(),this.tc=lB(e),this.ec=new Cy(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new jU,i=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,u=i,p=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((D,M)=>{const L=i.get(D),$=bw(this.query,M)?M:null,W=!!L&&this.mutatedKeys.has(L.key),J=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let he=!1;L&&$?L.data.isEqual($.data)?W!==J&&(r.track({type:3,doc:$}),he=!0):this.rc(L,$)||(r.track({type:2,doc:$}),he=!0,(_&&this.tc($,_)>0||w&&this.tc($,w)<0)&&(p=!0)):!L&&$?(r.track({type:0,doc:$}),he=!0):L&&!$&&(r.track({type:1,doc:L}),he=!0,(_||w)&&(p=!0)),he&&($?(u=u.add($),c=J?c.add(D):c.delete(D)):(u=u.delete(D),c=c.delete(D)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const D="F"===this.query.limitType?u.last():u.first();u=u.delete(D.key),c=c.delete(D.key),r.track({type:1,doc:D})}return{ec:u,ic:r,zi:p,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((w,D)=>function(M,L){const $=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return $(M)-$(L)}(w.type,D.type)||this.tc(w.doc,D.doc)),this.oc(r);const u=t?this.uc():[],p=0===this.Zu.size&&this.current?1:0,_=p!==this.Xu;return this.Xu=p,0!==c.length||_?{snapshot:new Iy(this.query,e.ec,i,c,e.mutatedKeys,0===p,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new jU,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Qt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new qU(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new GU(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Qt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Iy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class bq{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wq{constructor(e){this.key=e,this.fc=!1}}class Eq{constructor(e,t,r,i,c,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new cd(p=>aB(p),vw),this._c=new Map,this.mc=new Set,this.gc=new tr(Xe.comparator),this.yc=new Map,this.Ic=new Yk,this.Tc={},this.Ec=new Map,this.Ac=Nm.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function xq(n,e){return LO.apply(this,arguments)}function LO(){return LO=(0,ve.Z)(function*(n,e){const t=sP(n);let r,i;const c=t.wc.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),i=c.view.lc();else{const u=yield yy(t.localStore,Xo(e)),p=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield VO(t,e,r,"current"===p,u.resumeToken),t.isPrimaryClient&&$T(t.remoteStore,u)}return i}),LO.apply(this,arguments)}function VO(n,e,t,r,i){return BO.apply(this,arguments)}function BO(){return BO=(0,ve.Z)(function*(n,e,t,r,i){n.Rc=(M,L,$)=>{return(W=(0,ve.Z)(function*(J,he,He,et){let Ge=he.view.sc(He);Ge.zi&&(Ge=yield BT(J.localStore,he.query,!1).then(({documents:Ft})=>he.view.sc(Ft,Ge)));const st=et&&et.targetChanges.get(he.targetId),Tt=he.view.applyChanges(Ge,J.isPrimaryClient,st);return KO(J,he.targetId,Tt.cc),Tt.snapshot}),function(J,he,He,et){return W.apply(this,arguments)})(n,M,L,$);var W};const c=yield BT(n.localStore,e,!0),u=new ZU(e,c.ir),p=u.sc(c.documents),_=Tw.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=u.applyChanges(p,n.isPrimaryClient,_);KO(n,t,w.cc);const D=new bq(e,t,u);return n.wc.set(e,D),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),w.snapshot}),BO.apply(this,arguments)}function Cq(n,e){return UO.apply(this,arguments)}function UO(){return UO=(0,ve.Z)(function*(n,e){const t=Je(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(c=>!vw(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield vy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Hw(t.remoteStore,r.targetId),Dy(t,r.targetId)}).catch(qh))):(Dy(t,r.targetId),yield vy(t.localStore,r.targetId,!0))}),UO.apply(this,arguments)}function HO(){return HO=(0,ve.Z)(function*(n,e,t){const r=aP(n);try{const i=yield function(c,u){const p=Je(c),_=mr.now(),w=u.reduce((L,$)=>L.add($.key),Qt());let D,M;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let $=Ts(),W=Qt();return p.Zi.getEntries(L,w).next(J=>{$=J,$.forEach((he,He)=>{He.isValidDocument()||(W=W.add(he))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,$)).next(J=>{D=J;const he=[];for(const He of u){const et=eG(He,D.get(He.key).overlayedDocument);null!=et&&he.push(new ld(He.key,et,ZV(et.value.mapValue),gr.exists(!0)))}return p.mutationQueue.addMutationBatch(L,_,he,u)}).next(J=>{M=J;const he=J.applyToLocalDocumentSet(D,W);return p.documentOverlayCache.saveOverlays(L,J.batchId,he)})}).then(()=>({batchId:M.batchId,changes:dB(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(c,u,p){let _=c.Tc[c.currentUser.toKey()];_||(_=new tr($t)),_=_.insert(u,p),c.Tc[c.currentUser.toKey()]=_}(r,i.batchId,t),yield dd(r,i.changes),yield wy(r.remoteStore)}catch(i){const c=xy(i,"Failed to persist write");t.reject(c)}}),HO.apply(this,arguments)}function WU(n,e){return jO.apply(this,arguments)}function jO(){return jO=(0,ve.Z)(function*(n,e){const t=Je(n);try{const r=yield function GG(n,e){const t=Je(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const u=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const p=[];e.targetChanges.forEach((D,M)=>{const L=i.get(M);if(!L)return;p.push(t.Bs.removeMatchingKeys(c,D.removedDocuments,M).next(()=>t.Bs.addMatchingKeys(c,D.addedDocuments,M)));let $=L.withSequenceNumber(c.currentSequenceNumber);var W,J,he;null!==e.targetMismatches.get(M)?$=$.withResumeToken(xi.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):D.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(D.resumeToken,r)),i=i.insert(M,$),J=$,he=D,(0===(W=L).resumeToken.approximateByteSize()||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8||he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0)&&p.push(t.Bs.updateTargetData(c,$))});let _=Ts(),w=Qt();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(c,D))}),p.push(DU(c,u,e.documentUpdates).next(D=>{_=D.nr,w=D.sr})),!r.isEqual(xt.min())){const D=t.Bs.getLastRemoteSnapshotVersion(c).next(M=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,r));p.push(D)}return ce.waitFor(p).next(()=>u.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,_,w)).next(()=>_)}).then(c=>(t.Ji=i,c))}(t.localStore,e);e.targetChanges.forEach((i,c)=>{const u=t.yc.get(c);u&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.fc=!0:i.modifiedDocuments.size>0?Et(u.fc):i.removedDocuments.size>0&&(Et(u.fc),u.fc=!1))}),yield dd(t,r,e)}catch(r){yield qh(r)}}),jO.apply(this,arguments)}function KU(n,e,t){const r=Je(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((c,u)=>{const p=u.view.Mu(e);p.snapshot&&i.push(p.snapshot)}),function(c,u){const p=Je(c);p.onlineState=u;let _=!1;p.queries.forEach((w,D)=>{for(const M of D.listeners)M.Mu(u)&&(_=!0)}),_&&NO(p)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Dq(n,e,t){return zO.apply(this,arguments)}function zO(){return zO=(0,ve.Z)(function*(n,e,t){const r=Je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),c=i&&i.key;if(c){let u=new tr(Xe.comparator);u=u.insert(c,cr.newNoDocument(c,xt.min()));const p=Qt().add(c),_=new Dw(xt.min(),new Map,new tr($t),u,p);yield WU(r,_),r.gc=r.gc.remove(c),r.yc.delete(e),YO(r)}else yield vy(r.localStore,e,!1).then(()=>Dy(r,e,t)).catch(qh)}),zO.apply(this,arguments)}function Tq(n,e){return $O.apply(this,arguments)}function $O(){return $O=(0,ve.Z)(function*(n,e){const t=Je(n),r=e.batch.batchId;try{const i=yield function $G(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(u,p,_,w){const D=_.batch,M=D.keys();let L=ce.resolve();return M.forEach($=>{L=L.next(()=>w.getEntry(p,$)).next(W=>{const J=_.docVersions.get($);Et(null!==J),W.version.compareTo(J)<0&&(D.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),w.addEntry(W)))})}),L.next(()=>u.mutationQueue.removeMutationBatch(p,D))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let p=Qt();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(p=p.add(u.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);WO(t,r,null),ZO(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield dd(t,i)}catch(i){yield qh(i)}}),$O.apply(this,arguments)}function Sq(n,e,t){return GO.apply(this,arguments)}function GO(){return GO=(0,ve.Z)(function*(n,e,t){const r=Je(n);try{const i=yield function(c,u){const p=Je(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return p.mutationQueue.lookupMutationBatch(_,u).next(D=>(Et(null!==D),w=D.keys(),p.mutationQueue.removeMutationBatch(_,D))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,w,u)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>p.localDocuments.getDocuments(_,w))})}(r.localStore,e);WO(r,e,t),ZO(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield dd(r,i)}catch(i){yield qh(i)}}),GO.apply(this,arguments)}function qO(){return qO=(0,ve.Z)(function*(n,e){const t=Je(n);af(t.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const u=Je(c);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>u.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=xy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),qO.apply(this,arguments)}function ZO(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function WO(n,e,t){const r=Je(n);let i=r.Tc[r.currentUser.toKey()];if(i){const c=i.get(e);c&&(t?c.reject(t):c.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Dy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||YU(n,r)})}function YU(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Hw(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),YO(n))}function KO(n,e,t){for(const r of t)r instanceof GU?(n.Ic.addReference(r.key,e),Mq(n,r)):r instanceof qU?(Be("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||YU(n,r.key)):ut()}function Mq(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Be("SyncEngine","New document in limbo: "+t),n.mc.add(r),YO(n))}function YO(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Xe(gn.fromString(e)),r=n.Ac.next();n.yc.set(r,new wq(t)),n.gc=n.gc.insert(t,r),$T(n.remoteStore,new ud(Xo(ly(t.path)),r,"TargetPurposeLimboResolution",Ks.ct))}}function dd(n,e,t){return QO.apply(this,arguments)}function QO(){return QO=(0,ve.Z)(function*(n,e,t){const r=Je(n),i=[],c=[],u=[];var p;r.wc.isEmpty()||(r.wc.forEach((p,_)=>{u.push(r.Rc(_,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const D=tO.Li(_.targetId,w);c.push(D)}}))}),yield Promise.all(u),r.dc.nu(i),yield(p=(0,ve.Z)(function*(_,w){const D=Je(_);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>ce.forEach(w,L=>ce.forEach(L.Fi,$=>D.persistence.referenceDelegate.addReference(M,L.targetId,$)).next(()=>ce.forEach(L.Bi,$=>D.persistence.referenceDelegate.removeReference(M,L.targetId,$)))))}catch(M){if(!Zh(M))throw M;Be("LocalStore","Failed to update sequence numbers: "+M)}for(const M of w){const L=M.targetId;if(!M.fromCache){const $=D.Ji.get(L),J=$.withLastLimboFreeSnapshotVersion($.snapshotVersion);D.Ji=D.Ji.insert(L,J)}}}),function(_,w){return p.apply(this,arguments)})(r.localStore,c))}),QO.apply(this,arguments)}function Rq(n,e){return XO.apply(this,arguments)}function XO(){return XO=(0,ve.Z)(function*(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const r=yield CU(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(u=>{u.forEach(p=>{p.reject(new Me(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield dd(t,r.er)}var i}),XO.apply(this,arguments)}function kq(n,e){const t=Je(n),r=t.yc.get(e);if(r&&r.fc)return Qt().add(r.key);{let i=Qt();const c=t._c.get(e);if(!c)return i;for(const u of c){const p=t.wc.get(u);i=i.unionWith(p.view.nc)}return i}}function Oq(n,e){return JO.apply(this,arguments)}function JO(){return JO=(0,ve.Z)(function*(n,e){const t=Je(n),r=yield BT(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&KO(t,e.targetId,i.cc),i}),JO.apply(this,arguments)}function Pq(n,e){return eP.apply(this,arguments)}function eP(){return eP=(0,ve.Z)(function*(n,e){const t=Je(n);return SU(t.localStore,e).then(r=>dd(t,r))}),eP.apply(this,arguments)}function Nq(n,e,t,r){return tP.apply(this,arguments)}function tP(){return tP=(0,ve.Z)(function*(n,e,t,r){const i=Je(n),c=yield function(u,p){const _=Je(u),w=Je(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",D=>w.Sn(D,p).next(M=>M?_.localDocuments.getDocuments(D,M):ce.resolve(null)))}(i.localStore,e);var p;null!==c?("pending"===t?yield wy(i.remoteStore):"acknowledged"===t||"rejected"===t?(WO(i,e,r||null),ZO(i,e),p=e,Je(Je(i.localStore).mutationQueue).Cn(p)):ut(),yield dd(i,c)):Be("SyncEngine","Cannot apply mutation batch with id: "+e)}),tP.apply(this,arguments)}function nP(){return nP=(0,ve.Z)(function*(n,e){const t=Je(n);if(sP(t),aP(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield QU(t,r.toArray());t.vc=!0,yield SO(t.remoteStore,!0);for(const c of i)$T(t.remoteStore,c)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((c,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(Dy(t,u),vy(t.localStore,u,!0))),Hw(t.remoteStore,u)}),yield i,yield QU(t,r),function(c){const u=Je(c);u.yc.forEach((p,_)=>{Hw(u.remoteStore,_)}),u.Ic.Ts(),u.yc=new Map,u.gc=new tr(Xe.comparator)}(t),t.vc=!1,yield SO(t.remoteStore,!1)}}),nP.apply(this,arguments)}function QU(n,e,t){return rP.apply(this,arguments)}function rP(){return rP=(0,ve.Z)(function*(n,e,t){const r=Je(n),i=[],c=[];for(const u of e){let p;const _=r._c.get(u);if(_&&0!==_.length){p=yield yy(r.localStore,Xo(_[0]));for(const w of _){const D=r.wc.get(w),M=yield Oq(r,D);M.snapshot&&c.push(M.snapshot)}}else{const w=yield TU(r.localStore,u);p=yield yy(r.localStore,w),yield VO(r,XU(w),u,!1,p.resumeToken)}i.push(p)}return r.dc.nu(c),i}),rP.apply(this,arguments)}function XU(n){return oB(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Lq(n){const e=Je(n);return Je(Je(e.localStore).persistence).$i()}function Vq(n,e,t,r){return iP.apply(this,arguments)}function iP(){return iP=(0,ve.Z)(function*(n,e,t,r){const i=Je(n);if(i.vc)return void Be("SyncEngine","Ignoring unexpected query state notification.");const c=i._c.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const u=yield SU(i.localStore,cB(c[0])),p=Dw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,xi.EMPTY_BYTE_STRING);yield dd(i,u,p);break}case"rejected":yield vy(i.localStore,e,!0),Dy(i,e,r);break;default:ut()}}),iP.apply(this,arguments)}function Bq(n,e,t){return oP.apply(this,arguments)}function oP(){return oP=(0,ve.Z)(function*(n,e,t){const r=sP(n);if(r.vc){for(const i of e){if(r._c.has(i)){Be("SyncEngine","Adding an already active target "+i);continue}const c=yield TU(r.localStore,i),u=yield yy(r.localStore,c);yield VO(r,XU(c),u.targetId,!1,u.resumeToken),$T(r.remoteStore,u)}for(const i of t)r._c.has(i)&&(yield vy(r.localStore,i,!1).then(()=>{Hw(r.remoteStore,i),Dy(r,i)}).catch(qh))}}),oP.apply(this,arguments)}function sP(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dq.bind(null,e),e.dc.nu=gq.bind(null,e.eventManager),e.dc.Pc=_q.bind(null,e.eventManager),e}function aP(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sq.bind(null,e),e}class jw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.serializer=Bw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return xU(this.persistence,new EU,e.initialUser,this.serializer)}createPersistence(e){return new Qk(FT.zs,this.serializer)}createSharedClientState(e){return new kU}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class cP extends jw{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield aP(r.Vc.syncEngine),yield wy(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return xU(this.persistence,new EU,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new fU(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new h$(t,this.persistence);return new d$(e.asyncQueue,r)}createPersistence(e){const t=eO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ao.withCacheSize(this.cacheSizeBytes):Ao.DEFAULT;return new Jk(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,PU(),zT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new kU}}class JU extends cP{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof lO&&(r.sharedClientState.syncEngine={jr:Nq.bind(null,i),zr:Vq.bind(null,i),Wr:Bq.bind(null,i),$i:Lq.bind(null,i),Qr:Pq.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var c=(0,ve.Z)(function*(u){yield function Fq(n,e){return nP.apply(this,arguments)}(r.Vc.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=PU();if(!lO.D(t))throw new Me(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=eO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lO(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ty{initialize(e,t){var r=this;return(0,ve.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>KU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Rq.bind(null,r.syncEngine),yield SO(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new mq}createDatastore(e){const t=Bw(e.databaseInfo.databaseId),r=new XG(e.databaseInfo);return new tq(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,c=p=>KU(this.syncEngine,p,0),u=OU.D()?new OU:new KG,new iq(t,r,i,c,u);var t,r,i,c,u}createSyncEngine(e,t){return function(r,i,c,u,p,_,w){const D=new Eq(r,i,c,u,p,_);return w&&(D.vc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const r=Je(t);Be("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield by(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function e3(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class qT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class jq{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Ei,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const c=yield e.$c(i);return new yq(JSON.parse(c),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ve.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class zq{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ve.Z)(function*(c,u){const p=Je(c),_=Aw(p.serializer)+"/documents",w={documents:u.map($=>Sw(p.serializer,$))},D=yield p.vo("BatchGetDocuments",_,w,u.length),M=new Map;D.forEach($=>{const W=function uG(n,e){return"found"in e?function(t,r){Et(!!r.found);const i=Tl(t,r.found.name),c=Kr(r.found.updateTime),u=r.found.createTime?Kr(r.found.createTime):xt.min(),p=new to({mapValue:{fields:r.found.fields}});return cr.newFoundDocument(i,c,u,p)}(n,e):"missing"in e?function(t,r){Et(!!r.missing),Et(!!r.readTime);const i=Tl(t,r.missing),c=Kr(r.readTime);return cr.newNoDocument(i,c)}(n,e):ut()}(p.serializer,$);M.set(W.key.toString(),W)});const L=[];return u.forEach($=>{const W=M.get($.toString());Et(!!W),L.push(W)}),L}),function(c,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new fy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const c=Xe.fromPath(i);e.mutations.push(new kk(c,e.precondition(c)))}),yield(r=(0,ve.Z)(function*(i,c){const u=Je(i),p=Aw(u.serializer)+"/documents",_={writes:c.map(w=>Mw(u.serializer,w))};yield u.Io("Commit",p,_)}),function(i,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ut();t=xt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Me(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(xt.min())?gr.exists(!1):gr.updateTime(t):gr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xt.min()))throw new Me(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gr.updateTime(t)}return gr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class $q{constructor(e,t,r,i,c){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=c,this.Bc=r.maxAttempts,this.qo=new dO(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ve.Z)(function*(){const t=new zq(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(c=>{e.Uc(c)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!hw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!DB(t)}return!1}}class Gq{constructor(e,t,r,i){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Vi.UNAUTHENTICATED,this.clientId=xV.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,ve.Z)(function*(p){Be("FirestoreClient","Received user=",p.uid),yield c.authCredentialListener(p),c.user=p});return function(p){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Be("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=xy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function ZT(n,e){return lP.apply(this,arguments)}function lP(){return lP=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ve.Z)(function*(c){r.isEqual(c)||(yield CU(e.localStore,c),r=c)});return function(c){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),lP.apply(this,arguments)}function uP(n,e){return dP.apply(this,arguments)}function dP(){return dP=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield hP(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>HU(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,c)=>HU(e.remoteStore,c)),n._onlineComponents=e}),dP.apply(this,arguments)}function t3(n){return"FirebaseError"===n.name?n.code===ue.FAILED_PRECONDITION||n.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function hP(n){return fP.apply(this,arguments)}function fP(){return fP=(0,ve.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ZT(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!t3(t))throw t;za("Error using user provided cache. Falling back to memory cache: "+t),yield ZT(n,new jw)}}else Be("FirestoreClient","Using default OfflineComponentProvider"),yield ZT(n,new jw);return n._offlineComponents}),fP.apply(this,arguments)}function WT(n){return pP.apply(this,arguments)}function pP(){return pP=(0,ve.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Be("FirestoreClient","Using user provided OnlineComponentProvider"),yield uP(n,n._uninitializedComponentsProvider._online)):(Be("FirestoreClient","Using default OnlineComponentProvider"),yield uP(n,new Ty))),n._onlineComponents}),pP.apply(this,arguments)}function n3(n){return hP(n).then(e=>e.persistence)}function KT(n){return hP(n).then(e=>e.localStore)}function r3(n){return WT(n).then(e=>e.remoteStore)}function mP(n){return WT(n).then(e=>e.syncEngine)}function Sy(n){return gP.apply(this,arguments)}function gP(){return gP=(0,ve.Z)(function*(n){const e=yield WT(n),t=e.eventManager;return t.onListen=xq.bind(null,e.syncEngine),t.onUnlisten=Cq.bind(null,e.syncEngine),t}),gP.apply(this,arguments)}function s3(n,e,t={}){const r=new Ei;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,c,u,p,_){const w=new qT({next:M=>{c.enqueueAndForget(()=>OO(i,D));const L=M.docs.has(u);!L&&M.fromCache?_.reject(new Me(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&M.fromCache&&p&&"server"===p.source?_.reject(new Me(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),D=new FO(ly(u.path),w,{includeMetadataChanges:!0,Ku:!0});return RO(i,D)}(yield Sy(n),n.asyncQueue,e,t,r)})),r.promise}function a3(n,e,t={}){const r=new Ei;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,c,u,p,_){const w=new qT({next:M=>{c.enqueueAndForget(()=>OO(i,D)),M.fromCache&&"server"===p.source?_.reject(new Me(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),D=new FO(u,w,{includeMetadataChanges:!0,Ku:!0});return RO(i,D)}(yield Sy(n),n.asyncQueue,e,t,r)})),r.promise}function c3(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const l3=new Map;function _P(n,e,t){if(!t)throw new Me(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function u3(n,e,t,r){if(!0===e&&!0===r)throw new Me(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function d3(n){if(!Xe.isDocumentKey(n))throw new Me(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function h3(n){if(Xe.isDocumentKey(n))throw new Me(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function YT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ut()}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=YT(n);throw new Me(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function f3(n,e){if(e<=0)throw new Me(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class p3{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=c3(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Me(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Me(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Me(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zw{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Me(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p3(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new J5;switch(t.type){case"firstParty":return new r$(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Me(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=l3.get(e);t&&(Be("ComponentProvider","Removing Datastore"),l3.delete(e),t.terminate())}(this),Promise.resolve()}}class lr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lr(this.firestore,e,this._key)}}class no{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new no(this.firestore,e,this._query)}}class Sl extends no{constructor(e,t,r){super(e,t,ly(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lr(this.firestore,null,new Xe(e))}withConverter(e){return new Sl(this.firestore,e,this._path)}}function g3(n,e,...t){if(n=(0,mn.m9)(n),_P("collection","path",e),n instanceof zw){const r=gn.fromString(e,...t);return h3(r),new Sl(n,null,r)}{if(!(n instanceof lr||n instanceof Sl))throw new Me(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gn.fromString(e,...t));return h3(r),new Sl(n.firestore,null,r)}}function QT(n,e,...t){if(n=(0,mn.m9)(n),1===arguments.length&&(e=xV.A()),_P("doc","path",e),n instanceof zw){const r=gn.fromString(e,...t);return d3(r),new lr(n,null,new Xe(r))}{if(!(n instanceof lr||n instanceof Sl))throw new Me(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gn.fromString(e,...t));return d3(r),new lr(n.firestore,n instanceof Sl?n.converter:null,new Xe(r))}}function _3(n,e){return n=(0,mn.m9)(n),e=(0,mn.m9)(e),(n instanceof lr||n instanceof Sl)&&(e instanceof lr||e instanceof Sl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function yP(n,e){return n=(0,mn.m9)(n),e=(0,mn.m9)(e),n instanceof no&&e instanceof no&&n.firestore===e.firestore&&vw(n._query,e._query)&&n.converter===e.converter}class t9{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new dO(this,"async_queue_retry"),this.Xc=()=>{const t=zT();t&&Be("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=zT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=zT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ei;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ve.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Zh(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Wr("INTERNAL UNHANDLED ERROR: ",function(c){let u=c.message||"";return c.stack&&(u=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),u}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=MO.createAndSchedule(this,e,t,r,c=>this.na(c));return this.zc.push(i),i}Zc(){this.Wc&&ut()}verifyOperationInProgress(){}sa(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function vP(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class n9{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ei,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ur extends zw{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new t9,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||y3(this),this._firestoreClient.terminate()}}function Yr(n){return n._firestoreClient||y3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function y3(n){var e,t,r;const i=n._freezeSettings(),c=(p=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new O$(n._databaseId,p,n._persistenceKey,(w=i).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,c3(w.experimentalLongPollingOptions),w.useFetchStreams));var p,w;n._firestoreClient=new Gq(n._authCredentials,n._appCheckCredentials,n._queue,c),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function v3(n,e,t){const r=new Ei;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield ZT(n,t),yield uP(n,e),r.resolve()}catch(i){const c=i;if(!t3(c))throw c;za("Error enabling indexeddb cache. Falling back to memory cache: "+c),r.reject(c)}})).then(()=>r.promise)}function b3(n){if(n._initialized||n._terminated)throw new Me(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Al{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Al(xi.fromBase64String(e))}catch(t){throw new Me(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Al(xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Lm{constructor(e){this._methodName=e}}class XT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}}const f9=/^__.*__$/;class p9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ld(e,this.data,this.fieldMask,t,this.fieldTransforms):new hy(e,this.data,t,this.fieldTransforms)}}class w3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ld(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function E3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class JT{constructor(e,t,r,i,c,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new JT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return nS(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(E3(this.ca)&&f9.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class m9{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Bw(e)}ya(e,t,r,i=!1){return new JT({ca:e,methodName:t,ga:r,path:Lr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vm(n){const e=n._freezeSettings(),t=Bw(n._databaseId);return new m9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function eS(n,e,t,r,i,c={}){const u=n.ya(c.merge||c.mergeFields?2:0,e,t,i);xP("Data must be an object, but it was:",u,r);const p=I3(r,u);let _,w;if(c.merge)_=new Ds(u.fieldMask),w=u.fieldTransforms;else if(c.mergeFields){const D=[];for(const M of c.mergeFields){const L=qw(e,M,t);if(!u.contains(L))throw new Me(ue.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);T3(D,L)||D.push(L)}_=new Ds(D),w=u.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,w=u.fieldTransforms;return new p9(new to(p),_,w)}class Gw extends Lm{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gw}}function x3(n,e,t){return new JT({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class bP extends Lm{_toFieldTransform(e){return new xw(e.path,new uy)}isEqual(e){return e instanceof bP}}class g9 extends Lm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=x3(this,e,!0),r=this.pa.map(c=>Bm(c,t)),i=new Sm(r);return new xw(e.path,i)}isEqual(e){return this===e}}class _9 extends Lm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=x3(this,e,!0),r=this.pa.map(c=>Bm(c,t)),i=new Am(r);return new xw(e.path,i)}isEqual(e){return this===e}}class y9 extends Lm{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new dy(e.serializer,mB(e.serializer,this.Ia));return new xw(e.path,t)}isEqual(e){return this===e}}function wP(n,e,t,r){const i=n.ya(1,e,t);xP("Data must be an object, but it was:",i,r);const c=[],u=to.empty();Wh(r,(_,w)=>{const D=tS(e,_,t);w=(0,mn.m9)(w);const M=i.da(D);if(w instanceof Gw)c.push(D);else{const L=Bm(w,M);null!=L&&(c.push(D),u.set(D,L))}});const p=new Ds(c);return new w3(u,p,i.fieldTransforms)}function EP(n,e,t,r,i,c){const u=n.ya(1,e,t),p=[qw(e,r,t)],_=[i];if(c.length%2!=0)throw new Me(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<c.length;L+=2)p.push(qw(e,c[L])),_.push(c[L+1]);const w=[],D=to.empty();for(let L=p.length-1;L>=0;--L)if(!T3(w,p[L])){const $=p[L];let W=_[L];W=(0,mn.m9)(W);const J=u.da($);if(W instanceof Gw)w.push($);else{const he=Bm(W,J);null!=he&&(w.push($),D.set($,he))}}const M=new Ds(w);return new w3(D,M,u.fieldTransforms)}function C3(n,e,t,r=!1){return Bm(t,n.ya(r?4:3,e))}function Bm(n,e){if(D3(n=(0,mn.m9)(n)))return xP("Unsupported field value:",e,n),I3(n,e);if(n instanceof Lm)return function(t,r){if(!E3(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let c=0;for(const u of t){let p=Bm(u,r.wa(c));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),c++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,mn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return mB(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=mr.fromDate(t);return{timestampValue:py(r.serializer,i)}}if(t instanceof mr){const i=new mr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:py(r.serializer,i)}}if(t instanceof XT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Al)return{bytesValue:FB(r.serializer,t._byteString)};if(t instanceof lr){const i=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(i))throw r._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Bk(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${YT(t)}`)}(n,e)}function I3(n,e){const t={};return VV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wh(n,(r,i)=>{const c=Bm(i,e.ha(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function D3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof mr||n instanceof XT||n instanceof Al||n instanceof lr||n instanceof Lm)}function xP(n,e,t){if(!D3(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=YT(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function qw(n,e,t){if((e=(0,mn.m9)(e))instanceof hd)return e._internalPath;if("string"==typeof e)return tS(n,e);throw nS("Field path arguments must be of type string or ",n,!1,void 0,t)}const v9=new RegExp("[~\\*/\\[\\]]");function tS(n,e,t){if(e.search(v9)>=0)throw nS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hd(...e.split("."))._internalPath}catch{throw nS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function nS(n,e,t,r,i){const c=r&&!r.isEmpty(),u=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||u)&&(_+=" (found",c&&(_+=` in field ${r}`),u&&(_+=` in document ${i}`),_+=")"),new Me(ue.INVALID_ARGUMENT,p+n+_)}function T3(n,e){return n.some(t=>t.isEqual(e))}class Zw{constructor(e,t,r,i,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new b9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class b9 extends Zw{data(){return super.data()}}function rS(n,e){return"string"==typeof e?tS(n,e):e instanceof hd?e._internalPath:e._delegate._internalPath}function S3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Me(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class CP{}class Ww extends CP{}function lf(n,e,...t){let r=[];e instanceof CP&&r.push(e),r=r.concat(t),function(i){const c=i.filter(p=>p instanceof Ay).length,u=i.filter(p=>p instanceof Kw).length;if(c>1||c>0&&u>0)throw new Me(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Kw extends Ww{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Kw(e,t,r)}_apply(e){const t=this._parse(e);return k3(e._query,t),new no(e.firestore,e.converter,Ak(e._query,t))}_parse(e){const t=Vm(e.firestore);return function(i,c,u,p,_,w,D){let M;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Me(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){R3(D,w);const L=[];for(const $ of D)L.push(M3(p,i,$));M={arrayValue:{values:L}}}else M=M3(p,i,D)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||R3(D,w),M=C3(u,"where",D,"in"===w||"not-in"===w);return cn.create(_,w,M)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ay extends CP{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ay(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Fn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let c=r;const u=i.getFlattenedFilters();for(const p of u)k3(c,p),c=Ak(c,p)}(e._query,t),new no(e.firestore,e.converter,Ak(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class IP extends Ww{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new IP(e,t)}_apply(e){const t=function(r,i,c){if(null!==r.startAt)throw new Me(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Me(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new ay(i,c);return function(p,_){if(null===Tk(p)){const w=wT(p);null!==w&&O3(0,w,_.field)}}(r,u),u}(e._query,this._field,this._direction);return new no(e.firestore,e.converter,function(r,i){const c=r.explicitOrderBy.concat([i]);return new ad(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class iS extends Ww{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new iS(e,t,r)}_apply(e){return new no(e.firestore,e.converter,ET(e._query,this._limit,this._limitType))}}class oS extends Ww{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new oS(e,t,r)}_apply(e){const t=A3(e,this.type,this._docOrFields,this._inclusive);return new no(e.firestore,e.converter,(i=t,new ad((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class sS extends Ww{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new sS(e,t,r)}_apply(e){const t=A3(e,this.type,this._docOrFields,this._inclusive);return new no(e.firestore,e.converter,(i=t,new ad((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function A3(n,e,t,r){if(t[0]=(0,mn.m9)(t[0]),t[0]instanceof Zw)return function(i,c,u,p,_){if(!p)throw new Me(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const D of Tm(i))if(D.field.isKeyField())w.push(Im(c,p.key));else{const M=p.data.field(D.field);if(pT(M))throw new Me(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const L=D.field.canonicalString();throw new Me(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}w.push(M)}return new ef(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Vm(n.firestore);return function(c,u,p,_,w,D){const M=c.explicitOrderBy;if(w.length>M.length)throw new Me(ue.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let $=0;$<w.length;$++){const W=w[$];if(M[$].field.isKeyField()){if("string"!=typeof W)throw new Me(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof W}`);if(!Sk(c)&&-1!==W.indexOf("/"))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${W}' contains a slash.`);const J=c.path.child(gn.fromString(W));if(!Xe.isDocumentKey(J))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${J}' is not because it contains an odd number of segments.`);const he=new Xe(J);L.push(Im(u,he))}else{const J=C3(p,_,W);L.push(J)}}return new ef(L,D)}(n._query,n.firestore._databaseId,i,e,t,r)}}function M3(n,e,t){if("string"==typeof(t=(0,mn.m9)(t))){if(""===t)throw new Me(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sk(e)&&-1!==t.indexOf("/"))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(gn.fromString(t));if(!Xe.isDocumentKey(r))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Im(n,new Xe(r))}if(t instanceof lr)return Im(n,t._key);throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${YT(t)}.`)}function R3(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function k3(n,e){if(e.isInequality()){const r=wT(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const c=Tk(n);null!==c&&O3(0,i,c)}const t=function(r,i){for(const c of r)for(const u of c.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Me(ue.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function O3(n,e,t){if(!t.isEqual(e))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class DP{convertValue(e,t="none"){switch(Xh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ut()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Wh(e,(i,c)=>{r[i]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new XT(Vr(e.latitude),Vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=mT(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pw(e));default:return null}}convertTimestamp(e){const t=Kh(e);return new mr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=gn.fromString(e);Et(qB(r));const i=new Yh(r.get(1),r.get(3)),c=new Xe(r.popFirst(5));return i.isEqual(t)||Wr(`Document ${c} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function aS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class A9 extends DP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Al(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}}class Um{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fd extends Zw{constructor(e,t,r,i,c,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Yw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(rS("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Yw extends fd{data(e={}){return super.data(e)}}class uf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Um(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Yw(this._firestore,this._userDataWriter,r.key,r,new Um(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new Yw(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Um(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const p=new Yw(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Um(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==u.type&&(_=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),1!==u.type&&(c=c.add(u.doc),w=c.indexOf(u.doc.key)),{type:R9(u.type),doc:p,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function R9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function N3(n,e){return n instanceof fd&&e instanceof fd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof uf&&e instanceof uf&&n._firestore===e._firestore&&yP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class df extends DP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Al(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}}function F3(n,e,t){n=ln(n,lr);const r=ln(n.firestore,ur),i=aS(n.converter,e,t);return My(r,[eS(Vm(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,gr.none())])}function L3(n,e,t,...r){n=ln(n,lr);const i=ln(n.firestore,ur),c=Vm(i);let u;return u="string"==typeof(e=(0,mn.m9)(e))||e instanceof hd?EP(c,"updateDoc",n._key,e,t,r):wP(c,"updateDoc",n._key,e),My(i,[u.toMutation(n._key,gr.exists(!0))])}function V3(n,...e){var t,r,i;n=(0,mn.m9)(n);let c={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||vP(e[u])||(c=e[u],u++);const p={includeMetadataChanges:c.includeMetadataChanges};if(vP(e[u])){const M=e[u];e[u]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[u+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[u+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let _,w,D;if(n instanceof lr)w=ln(n.firestore,ur),D=ly(n._key.path),_={next:M=>{e[u]&&e[u](TP(w,n,M))},error:e[u+1],complete:e[u+2]};else{const M=ln(n,no);w=ln(M.firestore,ur),D=M._query;const L=new df(w);_={next:$=>{e[u]&&e[u](new uf(w,L,M,$))},error:e[u+1],complete:e[u+2]},S3(n._query)}return function(M,L,$,W){const J=new qT(W),he=new FO(L,J,$);return M.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return RO(yield Sy(M),he)})),()=>{J.Dc(),M.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return OO(yield Sy(M),he)}))}}(Yr(w),D,p,_)}function My(n,e){return function(t,r){const i=new Ei;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function Iq(n,e,t){return HO.apply(this,arguments)}(yield mP(t),r,i)})),i.promise}(Yr(n),e)}function TP(n,e,t){const r=t.docs.get(e._key),i=new df(n);return new fd(n,i,e._key,r,new Um(t.hasPendingWrites,t.fromCache),e.converter)}const K9={maxAttempts:5};class B3{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Vm(e)}set(e,t,r){this._verifyNotCommitted();const i=hf(e,this._firestore),c=aS(i.converter,t,r),u=eS(this._dataReader,"WriteBatch.set",i._key,c,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,gr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const c=hf(e,this._firestore);let u;return u="string"==typeof(t=(0,mn.m9)(t))||t instanceof hd?EP(this._dataReader,"WriteBatch.update",c._key,t,r,i):wP(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(u.toMutation(c._key,gr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=hf(e,this._firestore);return this._mutations=this._mutations.concat(new fy(t._key,gr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hf(n,e){if((n=(0,mn.m9)(n)).firestore!==e)throw new Me(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Y9 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Vm(e)}get(e){const t=hf(e,this._firestore),r=new A9(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ut();const c=i[0];if(c.isFoundDocument())return new Zw(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new Zw(this._firestore,r,t._key,null,t.converter);throw ut()})}set(e,t,r){const i=hf(e,this._firestore),c=aS(i.converter,t,r),u=eS(this._dataReader,"Transaction.set",i._key,c,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const c=hf(e,this._firestore);let u;return u="string"==typeof(t=(0,mn.m9)(t))||t instanceof hd?EP(this._dataReader,"Transaction.update",c._key,t,r,i):wP(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,u),this}delete(e){const t=hf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=hf(e,this._firestore),r=new df(this._firestore);return super.get(e).then(i=>new fd(this._firestore,r,t._key,i._document,new Um(!1,!1),t.converter))}}function SP(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function H3(){if(typeof Uint8Array>"u")throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function j3(){if(!function R$(){return typeof atob<"u"}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ry=Ku.SDK_VERSION,(0,Ku._registerComponent)(new v_.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const c=t.getProvider("app").getImmediate(),u=new ur(new t$(t.getProvider("auth-internal")),new i$(t.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Me(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yh(p.options.projectId,_)}(c,r),c);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,Ku.registerVersion)(bV,"3.13.0",n),(0,Ku.registerVersion)(bV,"3.13.0","esm2017")}();class Qw{constructor(e){this._delegate=e}static fromBase64String(e){return j3(),new Qw(Al.fromBase64String(e))}static fromUint8Array(e){return H3(),new Qw(Al.fromUint8Array(e))}toBase64(){return j3(),this._delegate.toBase64()}toUint8Array(){return H3(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function AP(n){return function oZ(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class sZ{enableIndexedDbPersistence(e,t){return function i9(n,e){b3(n=ln(n,ur));const t=Yr(n);if(t._uninitializedComponentsProvider)throw new Me(ue.FAILED_PRECONDITION,"SDK cache is already specified.");za("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Ty;return v3(t,i,new cP(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function o9(n){b3(n=ln(n,ur));const e=Yr(n);if(e._uninitializedComponentsProvider)throw new Me(ue.FAILED_PRECONDITION,"SDK cache is already specified.");za("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Ty;return v3(e,r,new JU(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function s9(n){if(n._initialized&&!n._terminated)throw new Me(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ei;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(r){if(!kc.D())return Promise.resolve();const i=r+"main";yield kc.delete(i)}),function(r){return t.apply(this,arguments)})(eO(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class z3{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Yh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&za("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function m3(n,e,t,r={}){var i;const c=(n=ln(n,zw))._getSettings(),u=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==u&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:u,ssl:!1})),r.mockUserToken){let p,_;if("string"==typeof r.mockUserToken)p=r.mockUserToken,_=Vi.MOCK_USER;else{p=(0,mn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Me(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Vi(w)}n._authCredentials=new e$(new wV(p,_))}}(this._delegate,e,t,r)}enableNetwork(){return function c9(n){return function qq(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield n3(n),t=yield r3(n);return e.setNetworkEnabled(!0),function(r){const i=Je(r);return i.vu.delete(0),Uw(i)}(t)}))}(Yr(n=ln(n,ur)))}(this._delegate)}disableNetwork(){return function l9(n){return function Zq(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield n3(n),t=yield r3(n);return e.setNetworkEnabled(!1),(r=(0,ve.Z)(function*(i){const c=Je(i);c.vu.add(0),yield by(c),c.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Yr(n=ln(n,ur)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,u3("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function a9(n){return function(e){const t=new Ei;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function Aq(n,e){return qO.apply(this,arguments)}(yield mP(e),t)})),t.promise}(Yr(n=ln(n,ur)))}(this._delegate)}onSnapshotsInSync(e){return function U9(n,e){return function Yq(n,e){const t=new qT(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield Sy(n),i=t,Je(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield Sy(n),i=t,void Je(r).ku.delete(i);var r,i}))}}(Yr(n=ln(n,ur)),vP(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ry(this,g3(this._delegate,e))}catch(t){throw Jo(t,"collection()","Firestore.collection()")}}doc(e){try{return new $a(this,QT(this._delegate,e))}catch(t){throw Jo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new es(this,function e9(n,e){if(n=ln(n,zw),_P("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(ue.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new no(n,null,(t=e,new ad(gn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Jo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Q9(n,e,t){n=ln(n,ur);const r=Object.assign(Object.assign({},K9),t);return function(i){if(i.maxAttempts<1)throw new Me(ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,c,u){const p=new Ei;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const _=yield function o3(n){return WT(n).then(e=>e.datastore)}(i);new $q(i.asyncQueue,_,u,c,p).run()})),p.promise}(Yr(n),i=>e(new Y9(n,i)),r)}(this._delegate,t=>e(new $3(this,t)))}batch(){return Yr(this._delegate),new G3(new B3(this._delegate,e=>My(this._delegate,e)))}loadBundle(e){return function u9(n,e){const t=Yr(n=ln(n,ur)),r=new n9;return function Qq(n,e,t,r){const i=function(c,u){let p;return p="string"==typeof c?SB().encode(c):c,_=function(_,w){if(_ instanceof Uint8Array)return e3(_,w);if(_ instanceof ArrayBuffer)return e3(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new jq(_,u);var _}(t,Bw(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function Uq(n,e,t){const r=Je(n);var i;(i=(0,ve.Z)(function*(c,u,p){try{const _=yield u.getMetadata();if(yield function(L,$){const W=Je(L),J=Kr($.createTime);return W.persistence.runTransaction("hasNewerBundle","readonly",he=>W.qs.getBundleMetadata(he,$.id)).then(he=>!!he&&he.createTime.compareTo(J)>=0)}(c.localStore,_))return yield u.close(),p._completeWith({taskState:"Success",documentsLoaded:(L=_).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);p._updateProgress($U(_));const w=new vq(_,c.localStore,u.serializer);let D=yield u.bc();for(;D;){const L=yield w.zu(D);L&&p._updateProgress(L),D=yield u.bc()}const M=yield w.complete();return yield dd(c,M.Ju,void 0),yield function(L,$){const W=Je(L);return W.persistence.runTransaction("Save bundle","readwrite",J=>W.qs.saveBundleMetadata(J,$))}(c.localStore,_),p._completeWith(M.progress),Promise.resolve(M.Hu)}catch(_){return za("SyncEngine",`Loading bundle failed with ${_}`),p._failWith(_),Promise.resolve(new Set)}var L}),function(c,u,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield mP(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function d9(n,e){return function Xq(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,r){const i=Je(t);return i.persistence.runTransaction("Get named query","readonly",c=>i.qs.getNamedQuery(c,r))}(yield KT(n),e)}))}(Yr(n=ln(n,ur)),e).then(t=>t?new no(n,null,t.query):null)}(this._delegate,e).then(t=>t?new es(this,t):null)}}class cS extends DP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qw(new Al(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return $a.forKey(t,this.firestore,null)}}class $3{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new cS(e)}get(e){const t=jm(e);return this._delegate.get(t).then(r=>new Xw(this._firestore,new fd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=jm(e);return r?(SP("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const c=jm(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...i),this}delete(e){const t=jm(e);return this._delegate.delete(t),this}}class G3{constructor(e){this._delegate=e}set(e,t,r){const i=jm(e);return r?(SP("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const c=jm(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...i),this}delete(e){const t=jm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Hm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Yw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Jw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Hm.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let c=i.get(t);return c||(c=new Hm(e,new cS(e),t),i.set(t,c)),c}}Hm.INSTANCES=new WeakMap;class $a{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cS(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new $a(t,new lr(t._delegate,r,new Xe(e)))}static forKey(e,t,r){return new $a(t,new lr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ry(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ry(this.firestore,g3(this._delegate,e))}catch(t){throw Jo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,mn.m9)(e))instanceof lr&&_3(this._delegate,e)}set(e,t){t=SP("DocumentReference.set",t);try{return t?F3(this._delegate,e,t):F3(this._delegate,e)}catch(r){throw Jo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?L3(this._delegate,e):L3(this._delegate,e,t,...r)}catch(i){throw Jo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function V9(n){return My(ln(n.firestore,ur),[new fy(n._key,gr.none())])}(this._delegate)}onSnapshot(...e){const t=q3(e),r=Z3(e,i=>new Xw(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return V3(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function O9(n){n=ln(n,lr);const e=ln(n.firestore,ur),t=Yr(e),r=new df(e);return function Wq(n,e){const t=new Ei;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,c,u){try{const p=yield function(_,w){const D=Je(_);return D.persistence.runTransaction("read document","readonly",M=>D.localDocuments.getDocument(M,w))}(i,c);p.isFoundDocument()?u.resolve(p):p.isNoDocument()?u.resolve(null):u.reject(new Me(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const _=xy(p,`Failed to get document '${c} from cache`);u.reject(_)}}),function(i,c,u){return r.apply(this,arguments)})(yield KT(n),e,t);var r})),t.promise}(t,n._key).then(i=>new fd(e,r,n._key,i,new Um(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function P9(n){n=ln(n,lr);const e=ln(n.firestore,ur);return s3(Yr(e),n._key,{source:"server"}).then(t=>TP(e,n,t))}(this._delegate):function k9(n){n=ln(n,lr);const e=ln(n.firestore,ur);return s3(Yr(e),n._key).then(t=>TP(e,n,t))}(this._delegate),t.then(r=>new Xw(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new $a(this.firestore,this._delegate.withConverter(e?Hm.getInstance(this.firestore,e):null))}}function Jo(n,e,t){return n.message=n.message.replace(e,t),n}function q3(n){for(const e of n)if("object"==typeof e&&!AP(e))return e;return{}}function Z3(n,e){var t,r;let i;return i=AP(n[0])?n[0]:AP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{i.next&&i.next(e(c))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Xw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new $a(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return N3(this._delegate,e._delegate)}}class Jw extends Xw{data(e){const t=this._delegate.data(e);return function X5(n,e){n||ut()}(void 0!==t),t}}class es{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cS(e)}where(e,t,r){try{return new es(this.firestore,lf(this._delegate,function w9(n,e,t){const r=e,i=rS("where",n);return Kw._create(i,r,t)}(e,t,r)))}catch(i){throw Jo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new es(this.firestore,lf(this._delegate,function E9(n,e="asc"){const t=e,r=rS("orderBy",n);return IP._create(r,t)}(e,t)))}catch(r){throw Jo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new es(this.firestore,lf(this._delegate,function x9(n){return f3("limit",n),iS._create("limit",n,"F")}(e)))}catch(t){throw Jo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new es(this.firestore,lf(this._delegate,function C9(n){return f3("limitToLast",n),iS._create("limitToLast",n,"L")}(e)))}catch(t){throw Jo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new es(this.firestore,lf(this._delegate,function I9(...n){return oS._create("startAt",n,!0)}(...e)))}catch(t){throw Jo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new es(this.firestore,lf(this._delegate,function D9(...n){return oS._create("startAfter",n,!1)}(...e)))}catch(t){throw Jo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new es(this.firestore,lf(this._delegate,function T9(...n){return sS._create("endBefore",n,!1)}(...e)))}catch(t){throw Jo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new es(this.firestore,lf(this._delegate,function S9(...n){return sS._create("endAt",n,!0)}(...e)))}catch(t){throw Jo(t,"endAt()","Query.endAt()")}}isEqual(e){return yP(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function F9(n){n=ln(n,no);const e=ln(n.firestore,ur),t=Yr(e),r=new df(e);return function Kq(n,e){const t=new Ei;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,c,u){try{const p=yield BT(i,c,!0),_=new ZU(c,p.ir),w=_.sc(p.documents),D=_.applyChanges(w,!1);u.resolve(D.snapshot)}catch(p){const _=xy(p,`Failed to execute query '${c} against cache`);u.reject(_)}}),function(i,c,u){return r.apply(this,arguments)})(yield KT(n),e,t);var r})),t.promise}(t,n._query).then(i=>new uf(e,r,n,i))}(this._delegate):"server"===e?.source?function L9(n){n=ln(n,no);const e=ln(n.firestore,ur),t=Yr(e),r=new df(e);return a3(t,n._query,{source:"server"}).then(i=>new uf(e,r,n,i))}(this._delegate):function N9(n){n=ln(n,no);const e=ln(n.firestore,ur),t=Yr(e),r=new df(e);return S3(n._query),a3(t,n._query).then(i=>new uf(e,r,n,i))}(this._delegate),t.then(r=>new MP(this.firestore,new uf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=q3(e),r=Z3(e,i=>new MP(this.firestore,new uf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return V3(this._delegate,t,r)}withConverter(e){return new es(this.firestore,this._delegate.withConverter(e?Hm.getInstance(this.firestore,e):null))}}class cZ{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Jw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class MP{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new es(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Jw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new cZ(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Jw(this._firestore,r))})}isEqual(e){return N3(this._delegate,e._delegate)}}class Ry extends es{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new $a(this.firestore,e):null}doc(e){try{return new $a(this.firestore,void 0===e?QT(this._delegate):QT(this._delegate,e))}catch(t){throw Jo(t,"doc()","CollectionReference.doc()")}}add(e){return function B9(n,e){const t=ln(n.firestore,ur),r=QT(n),i=aS(n.converter,e);return My(t,[eS(Vm(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,gr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new $a(this.firestore,t))}isEqual(e){return _3(this._delegate,e._delegate)}withConverter(e){return new Ry(this.firestore,this._delegate.withConverter(e?Hm.getInstance(this.firestore,e):null))}}function jm(n){return ln(n,lr)}class RP{constructor(...e){this._delegate=new hd(...e)}static documentId(){return new RP(Lr.keyField().canonicalString())}isEqual(e){return(e=(0,mn.m9)(e))instanceof hd&&this._delegate._internalPath.isEqual(e._internalPath)}}class zm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function J9(){return new bP("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new zm(e)}static delete(){const e=function X9(){return new Gw("deleteField")}();return e._methodName="FieldValue.delete",new zm(e)}static arrayUnion(...e){const t=function eZ(...n){return new g9("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new zm(t)}static arrayRemove(...e){const t=function tZ(...n){return new _9("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new zm(t)}static increment(e){const t=function nZ(n){return new y9("increment",n)}(e);return t._methodName="FieldValue.increment",new zm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const lZ={Firestore:z3,GeoPoint:XT,Timestamp:mr,Blob:Qw,Transaction:$3,WriteBatch:G3,DocumentReference:$a,DocumentSnapshot:Xw,Query:es,QueryDocumentSnapshot:Jw,QuerySnapshot:MP,CollectionReference:Ry,FieldPath:RP,FieldValue:zm,setLogLevel:function aZ(n){!function Q5(n){Gh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function W3(n,e){return function hZ(n,e=ms.z){return new Cr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function kP(n,e){return W3(n,e).pipe((0,rt.U)(t=>({payload:t,type:"query"})))}function lS(n,e){return kP(n,e).pipe(qo(void 0),IR(),(0,rt.U)(([t,r])=>{const i=r.payload.docChanges(),c=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,p)=>{const _=i.find(D=>D.doc.ref.isEqual(u.ref)),w=t?.payload.docs.find(D=>D.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||c.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:u}})}),c}))}function K3(n,e,t){return lS(n,t).pipe($g((r,i)=>function pZ(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function mZ(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return OP(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return OP(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return OP(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(c=>c.payload),e),[]),(0,Xf.x)(),(0,rt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function OP(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function Y3(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function dZ(n){(function uZ(n,e){n.INTERNAL.registerComponent(new v_.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},lZ)))})(n,(e,t)=>new z3(e,t,new sZ)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(z6.Z);class Q3{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=lS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,rt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(qo(void 0),IR(),pn(([r,i])=>i.length>0||!r),(0,rt.U)(([r,i])=>i),Zr.iC)}auditTrail(e){return this.stateChanges(e).pipe($g((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Y3(e);return K3(this.query,t,this.afs.schedulers.outsideAngular).pipe(Zr.iC)}valueChanges(e={}){return kP(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Zr.iC)}get(e){return(0,Dn.D)(this.query.get(e)).pipe(Zr.iC)}add(e){return this.ref.add(e)}doc(e){return new X3(this.ref.doc(e),this.afs)}}class X3{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:c}=tH(r,t);return new Q3(i,c,this.afs)}snapshotChanges(){return function fZ(n,e){return W3(n,e).pipe(qo(void 0),IR(),(0,rt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Zr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,rt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Dn.D)(this.ref.get(e)).pipe(Zr.iC)}}class gZ{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?lS(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),pn(t=>t.length>0),Zr.iC):lS(this.query,this.afs.schedulers.outsideAngular).pipe(Zr.iC)}auditTrail(e){return this.stateChanges(e).pipe($g((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Y3(e);return K3(this.query,t,this.afs.schedulers.outsideAngular).pipe(Zr.iC)}valueChanges(e={}){return kP(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Zr.iC)}get(e){return(0,Dn.D)(this.query.get(e)).pipe(Zr.iC)}}const J3=new a.OlP("angularfire2.enableFirestorePersistence"),eH=new a.OlP("angularfire2.firestore.persistenceSettings"),_Z=new a.OlP("angularfire2.firestore.settings"),yZ=new a.OlP("angularfire2.firestore.use-emulator");function tH(n,e=(t=>t)){return{query:e(n),ref:n}}let vZ=(()=>{class n{constructor(t,r,i,c,u,p,_,w,D,M,L,$,W,J,he,He,et){this.schedulers=_;const Ge=(0,Io.on)(t,p,r),st=D;M&&HI(Ge,p,L,W,J,he,$,He),[this.firestore,this.persistenceEnabled$]=(0,Io.cc)(`${Ge.name}.firestore`,"AngularFirestore",Ge.name,()=>{const Tt=p.runOutsideAngular(()=>Ge.firestore());if(c&&Tt.settings(c),st&&Tt.useEmulator(...st),i&&!Ms(u)){const Ft=()=>{try{return(0,Dn.D)(Tt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(xn){return typeof console<"u"&&console.warn(xn),(0,ct.of)(!1)}};return[Tt,p.runOutsideAngular(Ft)]}return[Tt,(0,ct.of)(!1)]},[c,st,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:u}=tH(i,r),p=this.schedulers.ngZone.run(()=>c);return new Q3(p,u,this)}collectionGroup(t,r){const i=r||(u=>u),c=this.firestore.collectionGroup(t);return new gZ(i(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new X3(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Io.Dh),a.LFG(Io.xv,8),a.LFG(J3,8),a.LFG(_Z,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Zr.HU),a.LFG(eH,8),a.LFG(yZ,8),a.LFG(c0,8),a.LFG(BI,8),a.LFG(r0,8),a.LFG(o0,8),a.LFG(s0,8),a.LFG(a0,8),a.LFG(UI,8),a.LFG(ml,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),bZ=(()=>{class n{constructor(){LI.Z.registerVersion("angularfire",Zr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:J3,useValue:!0},{provide:eH,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[vZ]}),n})();const wZ={apiKey:"AIzaSyDGHv_yLI-SgQuTOQepMn_IQRWSHd3EiZM",authDomain:"ecomarket-893f9.firebaseapp.com",projectId:"ecomarket-893f9",storageBucket:"ecomarket-893f9.appspot.com",messagingSenderId:"850319693147",appId:"1:850319693147:web:bef1790574ae3c049c367e",measurementId:"G-DDPZ5BE255"};let EZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[Tj]}),n.\u0275inj=a.cJS({imports:[ga,Dj,E6,kv,Rv,mh,Ra,mp,jg,e2,j6,t2,Sb,Io.hO.initializeApp(wZ),bZ,l0,mD]}),n})();$c().bootstrapModule(EZ).catch(n=>console.error(n))},5619:(dt,Ce,O)=>{O.d(Ce,{X:()=>Z});var a=O(8645);class Z extends a.x{constructor(te){super(),this._value=te}get value(){return this.getValue()}_subscribe(te){const re=super._subscribe(te);return!re.closed&&te.next(this._value),re}getValue(){const{hasError:te,thrownError:re,_value:ae}=this;if(te)throw re;return this._throwIfClosed(),ae}next(te){super.next(this._value=te)}}},5592:(dt,Ce,O)=>{O.d(Ce,{y:()=>Pe});var a=O(305),Z=O(7394),P=O(4850),te=O(8407),re=O(2653),ae=O(4674),_e=O(1441);let Pe=(()=>{class ee{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const Ze=new ee;return Ze.source=this,Ze.operator=Ae,Ze}subscribe(Ae,Ze,Oe){const qe=function j(ee){return ee&&ee instanceof a.Lv||function B(ee){return ee&&(0,ae.m)(ee.next)&&(0,ae.m)(ee.error)&&(0,ae.m)(ee.complete)}(ee)&&(0,Z.Nn)(ee)}(Ae)?Ae:new a.Hp(Ae,Ze,Oe);return(0,_e.x)(()=>{const{operator:Fe,source:vt}=this;qe.add(Fe?Fe.call(qe,vt):vt?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(Ze){Ae.error(Ze)}}forEach(Ae,Ze){return new(Ze=fe(Ze))((Oe,qe)=>{const Fe=new a.Hp({next:vt=>{try{Ae(vt)}catch(mt){qe(mt),Fe.unsubscribe()}},error:qe,complete:Oe});this.subscribe(Fe)})}_subscribe(Ae){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(Ae)}[P.L](){return this}pipe(...Ae){return(0,te.U)(Ae)(this)}toPromise(Ae){return new(Ae=fe(Ae))((Ze,Oe)=>{let qe;this.subscribe(Fe=>qe=Fe,Fe=>Oe(Fe),()=>Ze(qe))})}}return ee.create=Ve=>new ee(Ve),ee})();function fe(ee){var Ve;return null!==(Ve=ee??re.config.Promise)&&void 0!==Ve?Ve:Promise}},8645:(dt,Ce,O)=>{O.d(Ce,{x:()=>_e});var a=O(5592),Z=O(7394);const te=(0,O(2306).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=O(9039),ae=O(1441);let _e=(()=>{class fe extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const ee=new Pe(this,this);return ee.operator=j,ee}_throwIfClosed(){if(this.closed)throw new te}next(j){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(j)}})}error(j){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:ee}=this;for(;ee.length;)ee.shift().error(j)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:ee,isStopped:Ve,observers:Ae}=this;return ee||Ve?Z.Lc:(this.currentObservers=null,Ae.push(j),new Z.w0(()=>{this.currentObservers=null,(0,re.P)(Ae,j)}))}_checkFinalizedStatuses(j){const{hasError:ee,thrownError:Ve,isStopped:Ae}=this;ee?j.error(Ve):Ae&&j.complete()}asObservable(){const j=new a.y;return j.source=this,j}}return fe.create=(B,j)=>new Pe(B,j),fe})();class Pe extends _e{constructor(B,j){super(),this.destination=B,this.source=j}next(B){var j,ee;null===(ee=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===ee||ee.call(j,B)}error(B){var j,ee;null===(ee=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===ee||ee.call(j,B)}complete(){var B,j;null===(j=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===j||j.call(B)}_subscribe(B){var j,ee;return null!==(ee=null===(j=this.source)||void 0===j?void 0:j.subscribe(B))&&void 0!==ee?ee:Z.Lc}}},305:(dt,Ce,O)=>{O.d(Ce,{Hp:()=>Oe,Lv:()=>ee});var a=O(4674),Z=O(7394),P=O(2653),te=O(3894),re=O(2420);const ae=fe("C",void 0,void 0);function fe(ie,ye,X){return{kind:ie,value:ye,error:X}}var B=O(7599),j=O(1441);class ee extends Z.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,Z.Nn)(ye)&&ye.add(this)):this.destination=mt}static create(ye,X,ge){return new Oe(ye,X,ge)}next(ye){this.isStopped?vt(function Pe(ie){return fe("N",ie,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?vt(function _e(ie){return fe("E",void 0,ie)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?vt(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Ae(ie,ye){return Ve.call(ie,ye)}class Ze{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:X}=this;if(X.next)try{X.next(ye)}catch(ge){qe(ge)}}error(ye){const{partialObserver:X}=this;if(X.error)try{X.error(ye)}catch(ge){qe(ge)}else qe(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(X){qe(X)}}}class Oe extends ee{constructor(ye,X,ge){let Re;if(super(),(0,a.m)(ye)||!ye)Re={next:ye??void 0,error:X??void 0,complete:ge??void 0};else{let Ue;this&&P.config.useDeprecatedNextContext?(Ue=Object.create(ye),Ue.unsubscribe=()=>this.unsubscribe(),Re={next:ye.next&&Ae(ye.next,Ue),error:ye.error&&Ae(ye.error,Ue),complete:ye.complete&&Ae(ye.complete,Ue)}):Re=ye}this.destination=new Ze(Re)}}function qe(ie){P.config.useDeprecatedSynchronousErrorHandling?(0,j.O)(ie):(0,te.h)(ie)}function vt(ie,ye){const{onStoppedNotification:X}=P.config;X&&B.z.setTimeout(()=>X(ie,ye))}const mt={closed:!0,next:re.Z,error:function Fe(ie){throw ie},complete:re.Z}},7394:(dt,Ce,O)=>{O.d(Ce,{Lc:()=>ae,w0:()=>re,Nn:()=>_e});var a=O(4674);const P=(0,O(2306).d)(fe=>function(j){fe(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((ee,Ve)=>`${Ve+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var te=O(9039);class re{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ae of j)Ae.remove(this);else j.remove(this);const{initialTeardown:ee}=this;if((0,a.m)(ee))try{ee()}catch(Ae){B=Ae instanceof P?Ae.errors:[Ae]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Ae of Ve)try{Pe(Ae)}catch(Ze){B=B??[],Ze instanceof P?B=[...B,...Ze.errors]:B.push(Ze)}}if(B)throw new P(B)}}add(B){var j;if(B&&B!==this)if(this.closed)Pe(B);else{if(B instanceof re){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(B)}}_hasParent(B){const{_parentage:j}=this;return j===B||Array.isArray(j)&&j.includes(B)}_addParent(B){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(B),j):j?[j,B]:B}_removeParent(B){const{_parentage:j}=this;j===B?this._parentage=null:Array.isArray(j)&&(0,te.P)(j,B)}remove(B){const{_finalizers:j}=this;j&&(0,te.P)(j,B),B instanceof re&&B._removeParent(this)}}re.EMPTY=(()=>{const fe=new re;return fe.closed=!0,fe})();const ae=re.EMPTY;function _e(fe){return fe instanceof re||fe&&"closed"in fe&&(0,a.m)(fe.remove)&&(0,a.m)(fe.add)&&(0,a.m)(fe.unsubscribe)}function Pe(fe){(0,a.m)(fe)?fe():fe.unsubscribe()}},2653:(dt,Ce,O)=>{O.d(Ce,{config:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(dt,Ce,O)=>{O.d(Ce,{E:()=>Z});const Z=new(O(5592).y)(re=>re.complete())},2459:(dt,Ce,O)=>{O.d(Ce,{D:()=>ye});var a=O(4829),Z=O(3093),P=O(5137),ae=O(5592),Pe=O(4971),fe=O(4674),B=O(7103);function ee(X,ge){if(!X)throw new Error("Iterable cannot be null");return new ae.y(Re=>{(0,B.f)(Re,ge,()=>{const Ue=X[Symbol.asyncIterator]();(0,B.f)(Re,ge,()=>{Ue.next().then(oe=>{oe.done?Re.complete():Re.next(oe.value)})},0,!0)})})}var Ve=O(8382),Ae=O(4026),Ze=O(4266),Oe=O(3664),qe=O(5726),Fe=O(9853),vt=O(541);function ye(X,ge){return ge?function ie(X,ge){if(null!=X){if((0,Ve.c)(X))return function te(X,ge){return(0,a.Xf)(X).pipe((0,P.R)(ge),(0,Z.Q)(ge))}(X,ge);if((0,Ze.z)(X))return function _e(X,ge){return new ae.y(Re=>{let Ue=0;return ge.schedule(function(){Ue===X.length?Re.complete():(Re.next(X[Ue++]),Re.closed||this.schedule())})})}(X,ge);if((0,Ae.t)(X))return function re(X,ge){return(0,a.Xf)(X).pipe((0,P.R)(ge),(0,Z.Q)(ge))}(X,ge);if((0,qe.D)(X))return ee(X,ge);if((0,Oe.T)(X))return function j(X,ge){return new ae.y(Re=>{let Ue;return(0,B.f)(Re,ge,()=>{Ue=X[Pe.h](),(0,B.f)(Re,ge,()=>{let oe,ze;try{({value:oe,done:ze}=Ue.next())}catch(Zt){return void Re.error(Zt)}ze?Re.complete():Re.next(oe)},0,!0)}),()=>(0,fe.m)(Ue?.return)&&Ue.return()})}(X,ge);if((0,vt.L)(X))return function mt(X,ge){return ee((0,vt.Q)(X),ge)}(X,ge)}throw(0,Fe.z)(X)}(X,ge):(0,a.Xf)(X)}},4829:(dt,Ce,O)=>{O.d(Ce,{Xf:()=>Ve});var a=O(7582),Z=O(4266),P=O(4026),te=O(5592),re=O(8382),ae=O(5726),_e=O(9853),Pe=O(3664),fe=O(541),B=O(4674),j=O(3894),ee=O(4850);function Ve(ie){if(ie instanceof te.y)return ie;if(null!=ie){if((0,re.c)(ie))return function Ae(ie){return new te.y(ye=>{const X=ie[ee.L]();if((0,B.m)(X.subscribe))return X.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ie);if((0,Z.z)(ie))return function Ze(ie){return new te.y(ye=>{for(let X=0;X<ie.length&&!ye.closed;X++)ye.next(ie[X]);ye.complete()})}(ie);if((0,P.t)(ie))return function Oe(ie){return new te.y(ye=>{ie.then(X=>{ye.closed||(ye.next(X),ye.complete())},X=>ye.error(X)).then(null,j.h)})}(ie);if((0,ae.D)(ie))return Fe(ie);if((0,Pe.T)(ie))return function qe(ie){return new te.y(ye=>{for(const X of ie)if(ye.next(X),ye.closed)return;ye.complete()})}(ie);if((0,fe.L)(ie))return function vt(ie){return Fe((0,fe.Q)(ie))}(ie)}throw(0,_e.z)(ie)}function Fe(ie){return new te.y(ye=>{(function mt(ie,ye){var X,ge,Re,Ue;return(0,a.mG)(this,void 0,void 0,function*(){try{for(X=(0,a.KL)(ie);!(ge=yield X.next()).done;)if(ye.next(ge.value),ye.closed)return}catch(oe){Re={error:oe}}finally{try{ge&&!ge.done&&(Ue=X.return)&&(yield Ue.call(X))}finally{if(Re)throw Re.error}}ye.complete()})})(ie,ye).catch(X=>ye.error(X))})}},3019:(dt,Ce,O)=>{O.d(Ce,{T:()=>ae});var a=O(7537),Z=O(4829),P=O(6232),te=O(9940),re=O(2459);function ae(..._e){const Pe=(0,te.yG)(_e),fe=(0,te._6)(_e,1/0),B=_e;return B.length?1===B.length?(0,Z.Xf)(B[0]):(0,a.J)(fe)((0,re.D)(B,Pe)):P.E}},2096:(dt,Ce,O)=>{O.d(Ce,{of:()=>P});var a=O(9940),Z=O(2459);function P(...te){const re=(0,a.yG)(te);return(0,Z.D)(te,re)}},8251:(dt,Ce,O)=>{O.d(Ce,{x:()=>Z});var a=O(305);function Z(te,re,ae,_e,Pe){return new P(te,re,ae,_e,Pe)}class P extends a.Lv{constructor(re,ae,_e,Pe,fe,B){super(re),this.onFinalize=fe,this.shouldUnsubscribe=B,this._next=ae?function(j){try{ae(j)}catch(ee){re.error(ee)}}:super._next,this._error=Pe?function(j){try{Pe(j)}catch(ee){re.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch(j){re.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},3997:(dt,Ce,O)=>{O.d(Ce,{x:()=>te});var a=O(2737),Z=O(9360),P=O(8251);function te(ae,_e=a.y){return ae=ae??re,(0,Z.e)((Pe,fe)=>{let B,j=!0;Pe.subscribe((0,P.x)(fe,ee=>{const Ve=_e(ee);(j||!ae(B,Ve))&&(j=!1,B=Ve,fe.next(ee))}))})}function re(ae,_e){return ae===_e}},7398:(dt,Ce,O)=>{O.d(Ce,{U:()=>P});var a=O(9360),Z=O(8251);function P(te,re){return(0,a.e)((ae,_e)=>{let Pe=0;ae.subscribe((0,Z.x)(_e,fe=>{_e.next(te.call(re,fe,Pe++))}))})}},7537:(dt,Ce,O)=>{O.d(Ce,{J:()=>P});var a=O(1631),Z=O(2737);function P(te=1/0){return(0,a.z)(Z.y,te)}},1631:(dt,Ce,O)=>{O.d(Ce,{z:()=>Pe});var a=O(7398),Z=O(4829),P=O(9360),te=O(7103),re=O(8251),_e=O(4674);function Pe(fe,B,j=1/0){return(0,_e.m)(B)?Pe((ee,Ve)=>(0,a.U)((Ae,Ze)=>B(ee,Ae,Ve,Ze))((0,Z.Xf)(fe(ee,Ve))),j):("number"==typeof B&&(j=B),(0,P.e)((ee,Ve)=>function ae(fe,B,j,ee,Ve,Ae,Ze,Oe){const qe=[];let Fe=0,vt=0,mt=!1;const ie=()=>{mt&&!qe.length&&!Fe&&B.complete()},ye=ge=>Fe<ee?X(ge):qe.push(ge),X=ge=>{Ae&&B.next(ge),Fe++;let Re=!1;(0,Z.Xf)(j(ge,vt++)).subscribe((0,re.x)(B,Ue=>{Ve?.(Ue),Ae?ye(Ue):B.next(Ue)},()=>{Re=!0},void 0,()=>{if(Re)try{for(Fe--;qe.length&&Fe<ee;){const Ue=qe.shift();Ze?(0,te.f)(B,Ze,()=>X(Ue)):X(Ue)}ie()}catch(Ue){B.error(Ue)}}))};return fe.subscribe((0,re.x)(B,ye,()=>{mt=!0,ie()})),()=>{Oe?.()}}(ee,Ve,fe,j)))}},3093:(dt,Ce,O)=>{O.d(Ce,{Q:()=>te});var a=O(7103),Z=O(9360),P=O(8251);function te(re,ae=0){return(0,Z.e)((_e,Pe)=>{_e.subscribe((0,P.x)(Pe,fe=>(0,a.f)(Pe,re,()=>Pe.next(fe),ae),()=>(0,a.f)(Pe,re,()=>Pe.complete(),ae),fe=>(0,a.f)(Pe,re,()=>Pe.error(fe),ae)))})}},3020:(dt,Ce,O)=>{O.d(Ce,{B:()=>re});var a=O(4829),Z=O(8645),P=O(305),te=O(9360);function re(_e={}){const{connector:Pe=(()=>new Z.x),resetOnError:fe=!0,resetOnComplete:B=!0,resetOnRefCountZero:j=!0}=_e;return ee=>{let Ve,Ae,Ze,Oe=0,qe=!1,Fe=!1;const vt=()=>{Ae?.unsubscribe(),Ae=void 0},mt=()=>{vt(),Ve=Ze=void 0,qe=Fe=!1},ie=()=>{const ye=Ve;mt(),ye?.unsubscribe()};return(0,te.e)((ye,X)=>{Oe++,!Fe&&!qe&&vt();const ge=Ze=Ze??Pe();X.add(()=>{Oe--,0===Oe&&!Fe&&!qe&&(Ae=ae(ie,j))}),ge.subscribe(X),!Ve&&Oe>0&&(Ve=new P.Hp({next:Re=>ge.next(Re),error:Re=>{Fe=!0,vt(),Ae=ae(mt,fe,Re),ge.error(Re)},complete:()=>{qe=!0,vt(),Ae=ae(mt,B),ge.complete()}}),(0,a.Xf)(ye).subscribe(Ve))})(ee)}}function ae(_e,Pe,...fe){if(!0===Pe)return void _e();if(!1===Pe)return;const B=new P.Hp({next:()=>{B.unsubscribe(),_e()}});return(0,a.Xf)(Pe(...fe)).subscribe(B)}},5137:(dt,Ce,O)=>{O.d(Ce,{R:()=>Z});var a=O(9360);function Z(P,te=0){return(0,a.e)((re,ae)=>{ae.add(P.schedule(()=>re.subscribe(ae),te))})}},4664:(dt,Ce,O)=>{O.d(Ce,{w:()=>te});var a=O(4829),Z=O(9360),P=O(8251);function te(re,ae){return(0,Z.e)((_e,Pe)=>{let fe=null,B=0,j=!1;const ee=()=>j&&!fe&&Pe.complete();_e.subscribe((0,P.x)(Pe,Ve=>{fe?.unsubscribe();let Ae=0;const Ze=B++;(0,a.Xf)(re(Ve,Ze)).subscribe(fe=(0,P.x)(Pe,Oe=>Pe.next(ae?ae(Ve,Oe,Ze,Ae++):Oe),()=>{fe=null,ee()}))},()=>{j=!0,ee()}))})}},9397:(dt,Ce,O)=>{O.d(Ce,{b:()=>re});var a=O(4674),Z=O(9360),P=O(8251),te=O(2737);function re(ae,_e,Pe){const fe=(0,a.m)(ae)||_e||Pe?{next:ae,error:_e,complete:Pe}:ae;return fe?(0,Z.e)((B,j)=>{var ee;null===(ee=fe.subscribe)||void 0===ee||ee.call(fe);let Ve=!0;B.subscribe((0,P.x)(j,Ae=>{var Ze;null===(Ze=fe.next)||void 0===Ze||Ze.call(fe,Ae),j.next(Ae)},()=>{var Ae;Ve=!1,null===(Ae=fe.complete)||void 0===Ae||Ae.call(fe),j.complete()},Ae=>{var Ze;Ve=!1,null===(Ze=fe.error)||void 0===Ze||Ze.call(fe,Ae),j.error(Ae)},()=>{var Ae,Ze;Ve&&(null===(Ae=fe.unsubscribe)||void 0===Ae||Ae.call(fe)),null===(Ze=fe.finalize)||void 0===Ze||Ze.call(fe)}))}):te.y}},1954:(dt,Ce,O)=>{O.d(Ce,{o:()=>re});var a=O(7394);class Z extends a.w0{constructor(_e,Pe){super()}schedule(_e,Pe=0){return this}}const P={setInterval(ae,_e,...Pe){const{delegate:fe}=P;return fe?.setInterval?fe.setInterval(ae,_e,...Pe):setInterval(ae,_e,...Pe)},clearInterval(ae){const{delegate:_e}=P;return(_e?.clearInterval||clearInterval)(ae)},delegate:void 0};var te=O(9039);class re extends Z{constructor(_e,Pe){super(_e,Pe),this.scheduler=_e,this.work=Pe,this.pending=!1}schedule(_e,Pe=0){var fe;if(this.closed)return this;this.state=_e;const B=this.id,j=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(j,B,Pe)),this.pending=!0,this.delay=Pe,this.id=null!==(fe=this.id)&&void 0!==fe?fe:this.requestAsyncId(j,this.id,Pe),this}requestAsyncId(_e,Pe,fe=0){return P.setInterval(_e.flush.bind(_e,this),fe)}recycleAsyncId(_e,Pe,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return Pe;null!=Pe&&P.clearInterval(Pe)}execute(_e,Pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(_e,Pe);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,Pe){let B,fe=!1;try{this.work(_e)}catch(j){fe=!0,B=j||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:_e,scheduler:Pe}=this,{actions:fe}=Pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(fe,this),null!=_e&&(this.id=this.recycleAsyncId(Pe,_e,null)),this.delay=null,super.unsubscribe()}}}},2631:(dt,Ce,O)=>{O.d(Ce,{v:()=>P});var a=O(4552);class Z{constructor(re,ae=Z.now){this.schedulerActionCtor=re,this.now=ae}schedule(re,ae=0,_e){return new this.schedulerActionCtor(this,re).schedule(_e,ae)}}Z.now=a.l.now;class P extends Z{constructor(re,ae=Z.now){super(re,ae),this.actions=[],this._active=!1}flush(re){const{actions:ae}=this;if(this._active)return void ae.push(re);let _e;this._active=!0;do{if(_e=re.execute(re.state,re.delay))break}while(re=ae.shift());if(this._active=!1,_e){for(;re=ae.shift();)re.unsubscribe();throw _e}}}},6321:(dt,Ce,O)=>{O.d(Ce,{P:()=>te,z:()=>P});var a=O(1954);const P=new(O(2631).v)(a.o),te=P},4552:(dt,Ce,O)=>{O.d(Ce,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},7599:(dt,Ce,O)=>{O.d(Ce,{z:()=>a});const a={setTimeout(Z,P,...te){const{delegate:re}=a;return re?.setTimeout?re.setTimeout(Z,P,...te):setTimeout(Z,P,...te)},clearTimeout(Z){const{delegate:P}=a;return(P?.clearTimeout||clearTimeout)(Z)},delegate:void 0}},4971:(dt,Ce,O)=>{O.d(Ce,{h:()=>Z});const Z=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(dt,Ce,O)=>{O.d(Ce,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(dt,Ce,O)=>{O.d(Ce,{_6:()=>ae,jO:()=>te,yG:()=>re});var a=O(4674),Z=O(671);function P(_e){return _e[_e.length-1]}function te(_e){return(0,a.m)(P(_e))?_e.pop():void 0}function re(_e){return(0,Z.K)(P(_e))?_e.pop():void 0}function ae(_e,Pe){return"number"==typeof P(_e)?_e.pop():Pe}},9039:(dt,Ce,O)=>{function a(Z,P){if(Z){const te=Z.indexOf(P);0<=te&&Z.splice(te,1)}}O.d(Ce,{P:()=>a})},2306:(dt,Ce,O)=>{function a(Z){const te=Z(re=>{Error.call(re),re.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}O.d(Ce,{d:()=>a})},1441:(dt,Ce,O)=>{O.d(Ce,{O:()=>te,x:()=>P});var a=O(2653);let Z=null;function P(re){if(a.config.useDeprecatedSynchronousErrorHandling){const ae=!Z;if(ae&&(Z={errorThrown:!1,error:null}),re(),ae){const{errorThrown:_e,error:Pe}=Z;if(Z=null,_e)throw Pe}}else re()}function te(re){a.config.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=re)}},7103:(dt,Ce,O)=>{function a(Z,P,te,re=0,ae=!1){const _e=P.schedule(function(){te(),ae?Z.add(this.schedule(null,re)):this.unsubscribe()},re);if(Z.add(_e),!ae)return _e}O.d(Ce,{f:()=>a})},2737:(dt,Ce,O)=>{function a(Z){return Z}O.d(Ce,{y:()=>a})},4266:(dt,Ce,O)=>{O.d(Ce,{z:()=>a});const a=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},5726:(dt,Ce,O)=>{O.d(Ce,{D:()=>Z});var a=O(4674);function Z(P){return Symbol.asyncIterator&&(0,a.m)(P?.[Symbol.asyncIterator])}},4674:(dt,Ce,O)=>{function a(Z){return"function"==typeof Z}O.d(Ce,{m:()=>a})},8382:(dt,Ce,O)=>{O.d(Ce,{c:()=>P});var a=O(4850),Z=O(4674);function P(te){return(0,Z.m)(te[a.L])}},3664:(dt,Ce,O)=>{O.d(Ce,{T:()=>P});var a=O(4971),Z=O(4674);function P(te){return(0,Z.m)(te?.[a.h])}},4026:(dt,Ce,O)=>{O.d(Ce,{t:()=>Z});var a=O(4674);function Z(P){return(0,a.m)(P?.then)}},541:(dt,Ce,O)=>{O.d(Ce,{L:()=>te,Q:()=>P});var a=O(7582),Z=O(4674);function P(re){return(0,a.FC)(this,arguments,function*(){const _e=re.getReader();try{for(;;){const{value:Pe,done:fe}=yield(0,a.qq)(_e.read());if(fe)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(Pe)}}finally{_e.releaseLock()}})}function te(re){return(0,Z.m)(re?.getReader)}},671:(dt,Ce,O)=>{O.d(Ce,{K:()=>Z});var a=O(4674);function Z(P){return P&&(0,a.m)(P.schedule)}},9360:(dt,Ce,O)=>{O.d(Ce,{A:()=>Z,e:()=>P});var a=O(4674);function Z(te){return(0,a.m)(te?.lift)}function P(te){return re=>{if(Z(re))return re.lift(function(ae){try{return te(ae,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(dt,Ce,O)=>{function a(){}O.d(Ce,{Z:()=>a})},8407:(dt,Ce,O)=>{O.d(Ce,{U:()=>P,z:()=>Z});var a=O(2737);function Z(...te){return P(te)}function P(te){return 0===te.length?a.y:1===te.length?te[0]:function(ae){return te.reduce((_e,Pe)=>Pe(_e),ae)}}},3894:(dt,Ce,O)=>{O.d(Ce,{h:()=>P});var a=O(2653),Z=O(7599);function P(te){Z.z.setTimeout(()=>{const{onUnhandledError:re}=a.config;if(!re)throw te;re(te)})}},9853:(dt,Ce,O)=>{function a(Z){return new TypeError(`You provided ${null!==Z&&"object"==typeof Z?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Ce,{z:()=>a})},5879:(dt,Ce,O)=>{O.d(Ce,{$8M:()=>ms,$WT:()=>is,$Z:()=>YS,AFp:()=>FS,AaK:()=>ee,BQk:()=>t_,CHM:()=>Sf,CRH:()=>wI,EJc:()=>jI,EiD:()=>AE,EpF:()=>nb,F$t:()=>r_,F4k:()=>Kx,FYo:()=>zS,FiY:()=>Eo,Gf:()=>Xb,GfV:()=>$S,GkF:()=>Op,Gpc:()=>Ze,Gre:()=>vC,HDt:()=>d0,Hsn:()=>Cs,Ikx:()=>CC,JOm:()=>Vs,JVY:()=>bS,JZr:()=>mt,KtG:()=>as,L6k:()=>wg,LAX:()=>BP,LFG:()=>nn,LSH:()=>xg,Lbi:()=>hv,Lck:()=>XN,MAs:()=>Xv,MGl:()=>sl,MMx:()=>Pb,MR2:()=>dv,NdJ:()=>Yx,O4$:()=>_a,Ojb:()=>XP,OlP:()=>En,Oqu:()=>c_,P3R:()=>OS,PXZ:()=>Qi,Q6J:()=>Mp,QGY:()=>n_,QbO:()=>QP,Qsj:()=>sN,R0b:()=>Ni,RDi:()=>Xf,Rgc:()=>Zp,SBq:()=>Fg,Sil:()=>h1,Suo:()=>bI,TTD:()=>ha,TgZ:()=>Th,Udp:()=>s_,VKq:()=>zM,VuI:()=>j1,W1O:()=>II,WFA:()=>Qx,WLB:()=>ve,X6Q:()=>sm,XFs:()=>We,Xpm:()=>No,Xq5:()=>Rx,Xts:()=>Ig,Y36:()=>fp,YKP:()=>nI,YNc:()=>Qv,Yjl:()=>Ol,Yz7:()=>Nt,Z0I:()=>un,ZZ4:()=>um,_Bn:()=>tI,_UZ:()=>eb,_Vd:()=>Ng,_c5:()=>hm,_uU:()=>mC,aQg:()=>M0,c2e:()=>gl,cJS:()=>An,cg1:()=>vb,d8E:()=>IC,dDg:()=>KI,dqk:()=>an,eBb:()=>qo,eFA:()=>rm,eJc:()=>Jb,ekj:()=>lb,eoX:()=>N_,f3M:()=>Yt,g9A:()=>jE,h0i:()=>Ph,hGG:()=>NF,hij:()=>Mh,iGM:()=>Qu,ifc:()=>wn,ip1:()=>Va,jDz:()=>Zr,kL8:()=>bb,kcU:()=>ya,lG2:()=>Js,lqb:()=>fh,lri:()=>WI,mCW:()=>np,n5z:()=>Qd,n_E:()=>E_,oAB:()=>Fo,oxw:()=>Jx,pB0:()=>xE,q3G:()=>Dr,q4F:()=>GS,qFp:()=>fD,qLn:()=>Hs,qOj:()=>Gg,qZA:()=>Sh,qzn:()=>Eu,rWj:()=>g0,rg0:()=>Od,s9C:()=>rb,sBO:()=>x1,s_b:()=>Fh,soG:()=>Xp,tb:()=>nm,tp0:()=>ri,uIk:()=>jv,vHH:()=>ie,vpe:()=>Yo,wAp:()=>St,xp6:()=>Cv,ynx:()=>e_,z2F:()=>om,z3N:()=>xc,zSh:()=>BE,zs3:()=>Su});var a=O(8645),Z=O(7394),P=O(5619),te=O(5592),re=O(3019),ae=O(2096),_e=O(3020),Pe=O(4664),fe=O(3997);function B(o){for(let s in o)if(o[s]===B)return s;throw Error("Could not find renamed property on target object.")}function j(o,s){for(const l in s)s.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=s[l])}function ee(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ee).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const l=s.indexOf("\n");return-1===l?s:s.substring(0,l)}function Ve(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const Ae=B({__forward_ref__:B});function Ze(o){return o.__forward_ref__=Ze,o.toString=function(){return ee(this())},o}function Oe(o){return qe(o)?o():o}function qe(o){return"function"==typeof o&&o.hasOwnProperty(Ae)&&o.__forward_ref__===Ze}function Fe(o){return o&&!!o.\u0275providers}const mt="https://g.co/ng/security#xss";class ie extends Error{constructor(s,l){super(function ye(o,s){return`NG0${Math.abs(o)}${s?": "+s:""}`}(s,l)),this.code=s}}function X(o){return"string"==typeof o?o:null==o?"":String(o)}function ze(o,s){throw new ie(-201,!1)}function tt(o,s){null==o&&function at(o,s,l,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${l} ${d} ${s} <=Actual]`))}(s,o,null,"!=")}function Nt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function An(o){return{providers:o.providers||[],imports:o.imports||[]}}function yr(o){return Br(o,ai)||Br(o,ts)}function un(o){return null!==yr(o)}function Br(o,s){return o.hasOwnProperty(s)?o[s]:null}function Za(o){return o&&(o.hasOwnProperty(ci)||o.hasOwnProperty(Wa))?o[ci]:null}const ai=B({\u0275prov:B}),ci=B({\u0275inj:B}),ts=B({ngInjectableDef:B}),Wa=B({ngInjectorDef:B});var We=(()=>((We=We||{})[We.Default=0]="Default",We[We.Host=1]="Host",We[We.Self=2]="Self",We[We.SkipSelf=4]="SkipSelf",We[We.Optional=8]="Optional",We))();let gt;function yn(o){const s=gt;return gt=o,s}function Mn(o,s,l){const d=yr(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&We.Optional?null:void 0!==s?s:void ze(ee(o))}const an=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Sr={},jt="__NG_DI_FLAG__",io="ngTempTokenPath",Ya=/\n/gm,oo="__source";let br;function bn(o){const s=br;return br=o,s}function so(o,s=We.Default){if(void 0===br)throw new ie(-203,!1);return null===br?Mn(o,void 0,s):br.get(o,s&We.Optional?null:void 0,s)}function nn(o,s=We.Default){return(function wt(){return gt}()||so)(Oe(o),s)}function Yt(o,s=We.Default){return nn(o,U(s))}function U(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function V(o){const s=[];for(let l=0;l<o.length;l++){const d=Oe(o[l]);if(Array.isArray(d)){if(0===d.length)throw new ie(900,!1);let h,m=We.Default;for(let y=0;y<d.length;y++){const E=d[y],C=Ie(E);"number"==typeof C?-1===C?h=E.token:m|=C:h=E}s.push(nn(h,m))}else s.push(nn(d))}return s}function q(o,s){return o[jt]=s,o.prototype[jt]=s,o}function Ie(o){return o[jt]}function _t(o){return{toString:o}.toString()}var Mt=(()=>((Mt=Mt||{})[Mt.OnPush=0]="OnPush",Mt[Mt.Default=1]="Default",Mt))(),wn=(()=>{return(o=wn||(wn={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",wn;var o})();const fn={},It=[],Wt=B({\u0275cmp:B}),wr=B({\u0275dir:B}),Ci=B({\u0275pipe:B}),co=B({\u0275mod:B}),ui=B({\u0275fac:B}),me=B({__NG_ELEMENT_ID__:B}),ne=B({__NG_ENV_ID__:B});function Ne(o,s,l){let d=o.length;for(;;){const h=o.indexOf(s,l);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const m=s.length;if(h+m===d||o.charCodeAt(h+m)<=32)return h}l=h+1}}function ft(o,s,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const m=l[d++],y=l[d++],E=l[d++];o.setAttribute(s,y,E,m)}else{const m=h,y=l[++d];Vt(m)?o.setProperty(s,m,y):o.setAttribute(s,m,y),d++}}return d}function Dt(o){return 3===o||4===o||6===o}function Vt(o){return 64===o.charCodeAt(0)}function Xt(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let l=-1;for(let d=0;d<s.length;d++){const h=s[d];"number"==typeof h?l=h:0===l||rr(o,l,h,null,-1===l||2===l?s[++d]:null)}}return o}function rr(o,s,l,d,h){let m=0,y=o.length;if(-1===s)y=-1;else for(;m<o.length;){const E=o[m++];if("number"==typeof E){if(E===s){y=-1;break}if(E>s){y=m-1;break}}}for(;m<o.length;){const E=o[m];if("number"==typeof E)break;if(E===l){if(null===d)return void(null!==h&&(o[m+1]=h));if(d===o[m+1])return void(o[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==y&&(o.splice(y,0,s),m=y+1),o.splice(m++,0,l),null!==d&&o.splice(m++,0,d),null!==h&&o.splice(m++,0,h)}const Wn="ng-template";function Po(o,s,l){let d=0,h=!0;for(;d<o.length;){let m=o[d++];if("string"==typeof m&&h){const y=o[d++];if(l&&"class"===m&&-1!==Ne(y.toLowerCase(),s,0))return!0}else{if(1===m){for(;d<o.length&&"string"==typeof(m=o[d++]);)if(m.toLowerCase()===s)return!0;return!1}"number"==typeof m&&(h=!1)}}return!1}function ns(o){return 4===o.type&&o.value!==Wn}function Qa(o,s,l){return s===(4!==o.type||l?o.value:Wn)}function md(o,s,l){let d=4;const h=o.attrs||[],m=function rs(o){for(let s=0;s<o.length;s++)if(Dt(o[s]))return s;return o.length}(h);let y=!1;for(let E=0;E<s.length;E++){const C=s[E];if("number"!=typeof C){if(!y)if(4&d){if(d=2|1&d,""!==C&&!Qa(o,C,l)||""===C&&1===s.length){if(di(d))return!1;y=!0}}else{const S=8&d?C:s[++E];if(8&d&&null!==o.attrs){if(!Po(o.attrs,S,l)){if(di(d))return!1;y=!0}continue}const F=gd(8&d?"class":C,h,ns(o),l);if(-1===F){if(di(d))return!1;y=!0;continue}if(""!==S){let G;G=F>m?"":h[F+1].toLowerCase();const Q=8&d?G:null;if(Q&&-1!==Ne(Q,S,0)||2&d&&S!==G){if(di(d))return!1;y=!0}}}}else{if(!y&&!di(d)&&!di(C))return!1;if(y&&di(C))continue;y=!1,d=C|1&d}}return di(d)||y}function di(o){return 0==(1&o)}function gd(o,s,l,d){if(null===s)return-1;let h=0;if(d||!l){let m=!1;for(;h<s.length;){const y=s[h];if(y===o)return h;if(3===y||6===y)m=!0;else{if(1===y||2===y){let E=s[++h];for(;"string"==typeof E;)E=s[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=m?1:2}return-1}return function _d(o,s){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const d=o[l];if("number"==typeof d)return-1;if(d===s)return l;l++}return-1}(s,o)}function Ii(o,s,l=!1){for(let d=0;d<s.length;d++)if(md(o,s[d],l))return!0;return!1}function Kn(o,s){e:for(let l=0;l<s.length;l++){const d=s[l];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function hi(o,s){return o?":not("+s.trim()+")":s}function qm(o){let s=o[0],l=1,d=2,h="",m=!1;for(;l<o.length;){let y=o[l];if("string"==typeof y)if(2&d){const E=o[++l];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!di(y)&&(s+=hi(m,h),h=""),d=y,m=m||!di(d);l++}return""!==h&&(s+=hi(m,h)),s}function No(o){return _t(()=>{const s=Nc(o),l={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Mt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||wn.Emulated,styles:o.styles||It,_:null,schemas:o.schemas||null,tView:null,id:""};Pl(l);const d=o.dependencies;return l.directiveDefs=ea(d,!1),l.pipeDefs=ea(d,!0),l.id=function vd(o){let s=0;const l=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const h of l)s=Math.imul(31,s)+h.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(l),l})}function kl(o){return Bt(o)||dr(o)}function Zm(o){return null!==o}function Fo(o){return _t(()=>({type:o.type,bootstrap:o.bootstrap||It,declarations:o.declarations||It,imports:o.imports||It,exports:o.exports||It,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Xs(o,s){if(null==o)return fn;const l={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),l[h]=d,s&&(s[h]=m)}return l}function Js(o){return _t(()=>{const s=Nc(o);return Pl(s),s})}function Ol(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Bt(o){return o[Wt]||null}function dr(o){return o[wr]||null}function hn(o){return o[Ci]||null}function is(o){const s=Bt(o)||dr(o)||hn(o);return null!==s&&s.standalone}function Ar(o,s){const l=o[co]||null;if(!l&&!0===s)throw new Error(`Type ${ee(o)} does not have '\u0275mod' property.`);return l}function Nc(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:o.inputs||fn,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||It,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xs(o.inputs,s),outputs:Xs(o.outputs)}}function Pl(o){o.features?.forEach(s=>s(o))}function ea(o,s){if(!o)return null;const l=s?hn:kl;return()=>("function"==typeof o?o():o).map(d=>l(d)).filter(Zm)}const $n=0,Ye=1,kt=2,Cn=3,fi=4,ta=5,Ur=6,As=7,Rn=8,Er=9,Lo=10,Ot=11,Jr=12,bd=13,lo=14,Ln=15,na=16,Ja=17,rn=18,ra=19,wd=20,pi=21,Gn=22,Fc=23,Ms=24,Gt=25,Lc=1,uo=2,ei=7,Rs=9,hr=11;function qn(o){return Array.isArray(o)&&"object"==typeof o[Lc]}function mi(o){return Array.isArray(o)&&!0===o[Lc]}function ia(o){return 0!=(4&o.flags)}function Vo(o){return o.componentOffset>-1}function Bo(o){return 1==(1&o.flags)}function xr(o){return!!o.template}function Mr(o){return 0!=(512&o[kt])}function oa(o,s){return o.hasOwnProperty(ui)?o[ui]:null}let Ad=an.WeakRef??class ic{constructor(s){this.ref=s}deref(){return this.ref}},ca=0,fo=null,la=!1;function Yn(o){const s=fo;return fo=o,s}class ti{constructor(){this.id=ca++,this.ref=function aa(o){return new Ad(o)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,l]of this.producers){const d=l.producerNode.deref();if(void 0!==d&&l.atTrackingVersion===this.trackingVersion){if(d.producerPollStatus(l.seenValueVersion))return!0}else this.producers.delete(s),d?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=la;la=!0;try{for(const[l,d]of this.consumers){const h=d.consumerNode.deref();void 0!==h&&h.trackingVersion===d.atTrackingVersion?h.onConsumerDependencyMayHaveChanged():(this.consumers.delete(l),h?.producers.delete(this.id))}}finally{la=s}}producerAccessed(){if(la)throw new Error("");if(null===fo)return;let s=fo.producers.get(this.id);void 0===s?(s={consumerNode:fo.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:fo.trackingVersion},fo.producers.set(this.id,s),this.consumers.set(fo.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=fo.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==fo?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let kd=null;function Od(o){const s=Yn(null);try{return o()}finally{Yn(s)}}const Hl=()=>{};class jl extends ti{constructor(s,l,d){super(),this.watch=s,this.schedule=l,this.dirty=!1,this.cleanupFn=Hl,this.registerOnCleanup=h=>{this.cleanupFn=h},this.consumerAllowSignalWrites=d}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=Yn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Hl,this.watch(this.registerOnCleanup)}finally{Yn(s)}}cleanup(){this.cleanupFn()}}class zl{constructor(s,l,d){this.previousValue=s,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function ha(){return Bc}function Bc(o){return o.type.prototype.ngOnChanges&&(o.setInput=xf),sc}function sc(){const o=Cf(this),s=o?.current;if(s){const l=o.previous;if(l===fn)o.previous=s;else for(let d in s)l[d]=s[d];o.current=null,this.ngOnChanges(s)}}function xf(o,s,l,d){const h=this.declaredInputs[l],m=Cf(o)||function Uc(o,s){return o[$l]=s}(o,{previous:fn,current:null}),y=m.current||(m.current={}),E=m.previous,C=E[h];y[h]=new zl(C&&C.currentValue,s,E===fn),o[d]=s}ha.ngInherit=!0;const $l="__ngSimpleChanges__";function Cf(o){return o[$l]||null}const po=function(o,s,l){},ac="svg";function on(o){for(;Array.isArray(o);)o=o[$n];return o}function fa(o,s){return on(s[o])}function kr(o,s){return on(s[o.index])}function Fd(o,s){return o.data[s]}function Si(o,s){const l=s[o];return qn(l)?l:l[$n]}function mo(o,s){return null==s?null:o[s]}function Vd(o){o[Ja]=0}function Zl(o){1024&o[kt]||(o[kt]|=1024,Wl(o,1))}function Hc(o){1024&o[kt]&&(o[kt]&=-1025,Wl(o,-1))}function Wl(o,s){let l=o[Cn];if(null===l)return;l[ta]+=s;let d=l;for(l=l[Cn];null!==l&&(1===s&&1===d[ta]||-1===s&&0===d[ta]);)l[ta]+=s,d=l,l=l[Cn]}const Ct={lFrame:tu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Yl(){return Ct.bindingsEnabled}function Ai(){return null!==Ct.skipHydrationRootTNode}function Se(){return Ct.lFrame.lView}function Kt(){return Ct.lFrame.tView}function Sf(o){return Ct.lFrame.contextLView=o,o[Rn]}function as(o){return Ct.lFrame.contextLView=null,o}function Or(){let o=cs();for(;null!==o&&64===o.type;)o=o.parent;return o}function cs(){return Ct.lFrame.currentTNode}function ji(o,s){const l=Ct.lFrame;l.currentTNode=o,l.isParent=s}function lc(){return Ct.lFrame.isParent}function Jl(){Ct.lFrame.isParent=!1}function Hr(){const o=Ct.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function kn(){return Ct.lFrame.bindingIndex++}function zi(o){const s=Ct.lFrame,l=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,l}function jd(o,s){const l=Ct.lFrame;l.bindingIndex=l.bindingRootIndex=o,dc(s)}function dc(o){Ct.lFrame.currentDirectiveIndex=o}function eu(o){const s=Ct.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}function hc(){return Ct.lFrame.currentQueryIndex}function Os(o){Ct.lFrame.currentQueryIndex=o}function go(o){const s=o[Ye];return 2===s.type?s.declTNode:1===s.type?o[Ur]:null}function Gc(o,s,l){if(l&We.SkipSelf){let h=s,m=o;for(;!(h=h.parent,null!==h||l&We.Host||(h=go(m),null===h||(m=m[lo],10&h.type))););if(null===h)return!1;s=h,o=m}const d=Ct.lFrame=pc();return d.currentTNode=s,d.lView=o,!0}function fc(o){const s=pc(),l=o[Ye];Ct.lFrame=s,s.currentTNode=l.firstChild,s.lView=o,s.tView=l,s.contextLView=o,s.bindingIndex=l.bindingStartIndex,s.inI18n=!1}function pc(){const o=Ct.lFrame,s=null===o?null:o.child;return null===s?tu(o):s}function tu(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Af(){const o=Ct.lFrame;return Ct.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Xm=Af;function Ps(){const o=Af();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function ni(){return Ct.lFrame.selectedIndex}function ls(o){Ct.lFrame.selectedIndex=o}function Bn(){const o=Ct.lFrame;return Fd(o.tView,o.selectedIndex)}function _a(){Ct.lFrame.currentNamespace=ac}function ya(){!function Rf(){Ct.lFrame.currentNamespace=null}()}let nu=!0;function gc(){return nu}function Ns(o){nu=o}function ru(o,s){for(let l=s.directiveStart,d=s.directiveEnd;l<d;l++){const m=o.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:k}=m;y&&(o.contentHooks??=[]).push(-l,y),E&&((o.contentHooks??=[]).push(l,E),(o.contentCheckHooks??=[]).push(l,E)),C&&(o.viewHooks??=[]).push(-l,C),S&&((o.viewHooks??=[]).push(l,S),(o.viewCheckHooks??=[]).push(l,S)),null!=k&&(o.destroyHooks??=[]).push(l,k)}}function va(o,s,l){In(o,s,3,l)}function iu(o,s,l,d){(3&o[kt])===l&&In(o,s,l,d)}function qc(o,s){let l=o[kt];(3&l)===s&&(l&=8191,l+=1,o[kt]=l)}function In(o,s,l,d){const m=d??-1,y=s.length-1;let E=0;for(let C=void 0!==d?65535&o[Ja]:0;C<y;C++)if("number"==typeof s[C+1]){if(E=s[C],null!=d&&E>=d)break}else s[C]<0&&(o[Ja]+=65536),(E<m||-1==m)&&(kf(o,l,s,C),o[Ja]=(4294901760&o[Ja])+C+2),C++}function _o(o,s){po(4,o,s);const l=Yn(null);try{s.call(o)}finally{Yn(l),po(5,o,s)}}function kf(o,s,l,d){const h=l[d]<0,m=l[d+1],E=o[h?-l[d]:l[d]];h?o[kt]>>13<o[Ja]>>16&&(3&o[kt])===s&&(o[kt]+=8192,_o(E,m)):_o(E,m)}const $i=-1;class Zc{constructor(s,l,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function ir(o){return o!==$i}function rt(o){return 32767&o}function _c(o,s){let l=function Gd(o){return o>>16}(o),d=s;for(;l>0;)d=d[lo],l--;return d}let ds=!0;function Fs(o){const s=ds;return ds=o,s}const Gi=255,hs=5;let ou=0;const vo={};function au(o,s){const l=qi(o,s);if(-1!==l)return l;const d=s[Ye];d.firstCreatePass&&(o.injectorIndex=s.length,wa(d.data,o),wa(s,null),wa(d.blueprint,null));const h=jo(o,s),m=o.injectorIndex;if(ir(h)){const y=rt(h),E=_c(h,s),C=E[Ye].data;for(let S=0;S<8;S++)s[m+S]=E[y+S]|C[y+S]}return s[m+8]=h,m}function wa(o,s){o.push(0,0,0,0,0,0,0,0,s)}function qi(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function jo(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,d=null,h=s;for(;null!==h;){if(d=eg(h),null===d)return $i;if(l++,h=h[lo],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return $i}function Ea(o,s,l){!function su(o,s,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(me)&&(d=l[me]),null==d&&(d=l[me]=ou++);const h=d&Gi;s.data[o+(h>>hs)]|=1<<h}(o,s,l)}function Wc(o,s,l){if(l&We.Optional||void 0!==o)return o;ze()}function cu(o,s,l,d){if(l&We.Optional&&void 0===d&&(d=null),!(l&(We.Self|We.Host))){const h=o[Er],m=yn(void 0);try{return h?h.get(s,d,l&We.Optional):Mn(s,d,l&We.Optional)}finally{yn(m)}}return Wc(d,0,l)}function Zd(o,s,l,d=We.Default,h){if(null!==o){if(2048&s[kt]&&!(d&We.Self)){const y=function Nf(o,s,l,d,h){let m=o,y=s;for(;null!==m&&null!==y&&2048&y[kt]&&!(512&y[kt]);){const E=lu(m,y,l,d|We.Self,vo);if(E!==vo)return E;let C=m.parent;if(!C){const S=y[wd];if(S){const k=S.get(l,vo,d);if(k!==vo)return k}C=eg(y),y=y[lo]}m=C}return h}(o,s,l,d,vo);if(y!==vo)return y}const m=lu(o,s,l,d,vo);if(m!==vo)return m}return cu(s,l,d,h)}function lu(o,s,l,d,h){const m=function uu(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(me)?o[me]:void 0;return"number"==typeof s?s>=0?s&Gi:Kc:s}(l);if("function"==typeof m){if(!Gc(s,o,d))return d&We.Host?Wc(h,0,d):cu(s,l,d,h);try{const y=m(d);if(null!=y||d&We.Optional)return y;ze()}finally{Xm()}}else if("number"==typeof m){let y=null,E=qi(o,s),C=$i,S=d&We.Host?s[Ln][Ur]:null;for((-1===E||d&We.SkipSelf)&&(C=-1===E?jo(o,s):s[E+8],C!==$i&&Yd(d,!1)?(y=s[Ye],E=rt(C),s=_c(C,s)):E=-1);-1!==E;){const k=s[Ye];if(Kd(m,E,k.data)){const F=Wd(E,s,l,y,d,S);if(F!==vo)return F}C=s[E+8],C!==$i&&Yd(d,s[Ye].data[E+8]===S)&&Kd(m,E,s)?(y=k,E=rt(C),s=_c(C,s)):E=-1}}return h}function Wd(o,s,l,d,h,m){const y=s[Ye],E=y.data[o+8],k=zo(E,y,l,null==d?Vo(E)&&ds:d!=y&&0!=(3&E.type),h&We.Host&&m===E);return null!==k?fs(s,y,k,E):vo}function zo(o,s,l,d,h){const m=o.providerIndexes,y=s.data,E=1048575&m,C=o.directiveStart,k=m>>20,G=h?E+k:o.directiveEnd;for(let Q=d?E:E+k;Q<G;Q++){const Ee=y[Q];if(Q<C&&l===Ee||Q>=C&&Ee.type===l)return Q}if(h){const Q=y[C];if(Q&&xr(Q)&&Q.type===l)return C}return null}function fs(o,s,l,d){let h=o[l];const m=s.data;if(function yo(o){return o instanceof Zc}(h)){const y=h;y.resolving&&function Re(o,s){const l=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new ie(-200,`Circular dependency in DI detected for ${o}${l}`)}(function ge(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():X(o)}(m[l]));const E=Fs(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?yn(y.injectImpl):null;Gc(o,d,We.Default);try{h=o[l]=y.factory(void 0,m,o,d),s.firstCreatePass&&l>=d.directiveStart&&function $d(o,s,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=s.type.prototype;if(d){const y=Bc(s);(l.preOrderHooks??=[]).push(o,y),(l.preOrderCheckHooks??=[]).push(o,y)}h&&(l.preOrderHooks??=[]).push(0-o,h),m&&((l.preOrderHooks??=[]).push(o,m),(l.preOrderCheckHooks??=[]).push(o,m))}(l,m[l],s)}finally{null!==C&&yn(C),Fs(E),y.resolving=!1,Xm()}}return h}function Kd(o,s,l){return!!(l[s+(o>>hs)]&1<<o)}function Yd(o,s){return!(o&We.Self||o&We.Host&&s)}class ps{constructor(s,l){this._tNode=s,this._lView=l}get(s,l,d){return Zd(this._tNode,this._lView,s,U(d),l)}}function Kc(){return new ps(Or(),Se())}function Qd(o){return _t(()=>{const s=o.prototype.constructor,l=s[ui]||yc(s),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const m=h[ui]||yc(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function yc(o){return qe(o)?()=>{const s=yc(Oe(o));return s&&s()}:oa(o)}function eg(o){const s=o[Ye],l=s.type;return 2===l?s.declTNode:1===l?o[Ur]:null}function ms(o){return function Pf(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const l=o.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const m=l[h];if(Dt(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(m===s)return l[h+1];h+=2}}}return null}(Or(),o)}const On="__parameters__";function bo(o,s,l){return _t(()=>{const d=function xa(o){return function(...l){if(o){const d=o(...l);for(const h in d)this[h]=d[h]}}}(s);function h(...m){if(this instanceof h)return d.apply(this,m),this;const y=new h(...m);return E.annotation=y,E;function E(C,S,k){const F=C.hasOwnProperty(On)?C[On]:Object.defineProperty(C,On,{value:[]})[On];for(;F.length<=k;)F.push(null);return(F[k]=F[k]||[]).push(y),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}function zr(o,s){o.forEach(l=>Array.isArray(l)?zr(l,s):s(l))}function fu(o,s,l){s>=o.length?o.push(l):o.splice(s,0,l)}function pu(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Ia(o,s){const l=[];for(let d=0;d<o;d++)l.push(s);return l}function I(o,s,l){let d=N(o,s);return d>=0?o[1|d]=l:(d=~d,function ng(o,s,l,d){let h=o.length;if(h==s)o.push(l,d);else if(1===h)o.push(d,o[0]),o[0]=l;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=l,o[s+1]=d}}(o,d,s,l)),d}function A(o,s){const l=N(o,s);if(l>=0)return o[1|l]}function N(o,s){return function K(o,s,l){let d=0,h=o.length>>l;for(;h!==d;){const m=d+(h-d>>1),y=o[m<<l];if(s===y)return m<<l;y>s?h=m:d=m+1}return~(h<<l)}(o,s,1)}const Eo=q(bo("Optional"),8),ri=q(bo("SkipSelf"),4);function zf(o){return 128==(128&o.flags)}var Vs=(()=>((Vs=Vs||{})[Vs.Important=1]="Important",Vs[Vs.DashCase=2]="DashCase",Vs))();const Gy=/^>|^->|<!--|-->|--!>|<!-$/g,cE=/(<|>)/,lE="\u200b$1\u200b";const cg=new Map;let nh=0;const rh="__ngContext__";function ii(o,s){qn(s)?(o[rh]=s[ra],function qy(o){cg.set(o[ra],o)}(s)):o[rh]=s}let ug;function ys(o,s){return ug(o,s)}function oh(o){const s=o[Cn];return mi(s)?s[Cn]:s}function hg(o){return Wf(o[Jr])}function Ri(o){return Wf(o[fi])}function Wf(o){for(;null!==o&&!mi(o);)o=o[fi];return o}function wc(o,s,l,d,h){if(null!=d){let m,y=!1;mi(d)?m=d:qn(d)&&(y=!0,d=d[$n]);const E=on(d);0===o&&null!==l?null==h?ke(s,l,E):Y(s,l,E,h||null,!0):1===o&&null!==l?Y(s,l,E,h||null,!0):2===o?function lh(o,s,l){const d=Pn(o,s);d&&function ot(o,s,l,d){o.removeChild(s,l,d)}(o,d,s,l)}(s,E,y):3===o&&s.destroyNode(E),null!=m&&function FP(o,s,l,d,h){const m=l[ei];m!==on(l)&&wc(s,o,d,m,h);for(let E=hr;E<l.length;E++){const C=l[E];dh(C[Ye],C,o,s,d,m)}}(s,o,m,l,h)}}function el(o,s){return o.createComment(function ag(o){return o.replace(Gy,s=>s.replace(cE,lE))}(s))}function sh(o,s,l){return o.createElement(s,l)}function Jy(o,s){const l=o[Rs],d=l.indexOf(s);Hc(s),l.splice(d,1)}function v(o,s){if(o.length<=hr)return;const l=hr+s,d=o[l];if(d){const h=d[na];null!==h&&h!==o&&Jy(h,d),s>0&&(o[l-1][fi]=d[fi]);const m=pu(o,hr+s);!function Xy(o,s){dh(o,s,s[Ot],2,null,null),s[$n]=null,s[Ur]=null}(d[Ye],d);const y=m[rn];null!==y&&y.detachView(m[Ye]),d[Cn]=null,d[fi]=null,d[kt]&=-129}return d}function f(o,s){if(!(256&s[kt])){const l=s[Ot];s[Fc]?.destroy(),s[Ms]?.destroy(),l.destroyNode&&dh(o,s,l,3,null,null),function _E(o){let s=o[Jr];if(!s)return g(o[Ye],o);for(;s;){let l=null;if(qn(s))l=s[Jr];else{const d=s[hr];d&&(l=d)}if(!l){for(;s&&!s[fi]&&s!==o;)qn(s)&&g(s[Ye],s),s=s[Cn];null===s&&(s=o),qn(s)&&g(s[Ye],s),l=s&&s[fi]}s=l}}(s)}}function g(o,s){if(!(256&s[kt])){s[kt]&=-129,s[kt]|=256,function T(o,s){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let d=0;d<l.length;d+=2){const h=s[l[d]];if(!(h instanceof Zc)){const m=l[d+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const E=h[m[y]],C=m[y+1];po(4,E,C);try{C.call(E)}finally{po(5,E,C)}}else{po(4,h,m);try{m.call(h)}finally{po(5,h,m)}}}}}(o,s),function b(o,s){const l=o.cleanup,d=s[As];if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const y=l[m+3];y>=0?d[y]():d[-y].unsubscribe(),m+=2}else l[m].call(d[l[m+1]]);null!==d&&(s[As]=null);const h=s[pi];if(null!==h){s[pi]=null;for(let m=0;m<h.length;m++)(0,h[m])()}}(o,s),1===s[Ye].type&&s[Ot].destroy();const l=s[na];if(null!==l&&mi(s[Cn])){l!==s[Cn]&&Jy(l,s);const d=s[rn];null!==d&&d.detachView(o)}!function dE(o){cg.delete(o[ra])}(s)}}function R(o,s,l){return function H(o,s,l){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return l[$n];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:m}=o.data[d.directiveStart+h];if(m===wn.None||m===wn.Emulated)return null}return kr(d,l)}}(o,s.parent,l)}function Y(o,s,l,d,h){o.insertBefore(s,l,d,h)}function ke(o,s,l){o.appendChild(s,l)}function je(o,s,l,d,h){null!==d?Y(o,s,l,d,h):ke(o,s,l)}function Pn(o,s){return o.parentNode(s)}function ah(o,s,l){return Yf(o,s,l)}let Qf,tv,_g,yg,Yf=function pg(o,s,l){return 40&o.type?kr(o,l):null};function bu(o,s,l,d){const h=R(o,d,s),m=s[Ot],E=ah(d.parent||s[Ur],d,s);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)je(m,h,l[C],E,!1);else je(m,h,l,E,!1);void 0!==Qf&&Qf(m,d,s,l,h)}function wu(o,s){if(null!==s){const l=s.type;if(3&l)return kr(s,o);if(4&l)return ch(-1,o[s.index]);if(8&l){const d=s.child;if(null!==d)return wu(o,d);{const h=o[s.index];return mi(h)?ch(-1,h):on(h)}}if(32&l)return ys(s,o)()||on(o[s.index]);{const d=gg(o,s);return null!==d?Array.isArray(d)?d[0]:wu(oh(o[Ln]),d):wu(o,s.next)}}return null}function gg(o,s){return null!==s?o[Ln][Ur].projection[s.projection]:null}function ch(o,s){const l=hr+o+1;if(l<s.length){const d=s[l],h=d[Ye].firstChild;if(null!==h)return wu(d,h)}return s[ei]}function uh(o,s,l,d,h,m,y){for(;null!=l;){const E=d[l.index],C=l.type;if(y&&0===s&&(E&&ii(on(E),d),l.flags|=2),32!=(32&l.flags))if(8&C)uh(o,s,l.child,d,h,m,!1),wc(s,o,h,E,m);else if(32&C){const S=ys(l,d);let k;for(;k=S();)wc(s,o,h,k,m);wc(s,o,h,E,m)}else 16&C?gS(o,s,d,l,h,m):wc(s,o,h,E,m);l=y?l.projectionNext:l.next}}function dh(o,s,l,d,h,m){uh(l,d,o.firstChild,s,h,m,!1)}function gS(o,s,l,d,h,m){const y=l[Ln],C=y[Ur].projection[d.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)wc(s,o,h,C[S],m);else{let S=C;const k=y[Cn];zf(d)&&(S.flags|=128),uh(o,s,S,k,h,m,!0)}}function _S(o,s,l){""===l?o.removeAttribute(s,"class"):o.setAttribute(s,"class",l)}function yS(o,s,l){const{mergedAttrs:d,classes:h,styles:m}=l;null!==d&&ft(o,s,d),null!==h&&_S(o,s,h),null!==m&&function VP(o,s,l){o.setAttribute(s,"style",l)}(o,s,m)}function Ec(o){return function nv(){if(void 0===tv&&(tv=null,an.trustedTypes))try{tv=an.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return tv}()?.createHTML(o)||o}function Xf(o){_g=o}function wE(o){return function iv(){if(void 0===yg&&(yg=null,an.trustedTypes))try{yg=an.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return yg}()?.createScriptURL(o)||o}class Dn{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mt})`}}class vg extends Dn{getTypeName(){return"HTML"}}class ep extends Dn{getTypeName(){return"Style"}}class EE extends Dn{getTypeName(){return"Script"}}class vS extends Dn{getTypeName(){return"URL"}}class bg extends Dn{getTypeName(){return"ResourceURL"}}function xc(o){return o instanceof Dn?o.changingThisBreaksApplicationSecurity:o}function Eu(o,s){const l=function tp(o){return o instanceof Dn&&o.getTypeName()||null}(o);if(null!=l&&l!==s){if("ResourceURL"===l&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${l} (see ${mt})`)}return l===s}function bS(o){return new vg(o)}function wg(o){return new ep(o)}function qo(o){return new EE(o)}function BP(o){return new vS(o)}function xE(o){return new bg(o)}class wS{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const l=(new window.DOMParser).parseFromString(Ec(s),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(s):(l.removeChild(l.firstChild),l)}catch{return null}}}class ES{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const l=this.inertDocument.createElement("template");return l.innerHTML=Ec(s),l}}const CS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function np(o){return(o=String(o)).match(CS)?o:"unsafe:"+o}function rl(o){const s={};for(const l of o.split(","))s[l]=!0;return s}function hh(...o){const s={};for(const l of o)for(const d in l)l.hasOwnProperty(d)&&(s[d]=!0);return s}const IS=rl("area,br,col,hr,img,wbr"),DS=rl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sv=rl("rp,rt"),av=hh(IS,hh(DS,rl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hh(sv,rl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hh(sv,DS)),CE=rl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),IE=hh(CE,rl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),rl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),HP=rl("script,style,template");class DE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let l=s.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(s){const l=s.nodeName.toLowerCase();if(!av.hasOwnProperty(l))return this.sanitizedSomething=!0,!HP.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=s.attributes;for(let h=0;h<d.length;h++){const m=d.item(h),y=m.name,E=y.toLowerCase();if(!IE.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=m.value;CE[E]&&(C=np(C)),this.buf.push(" ",y,'="',SE(C),'"')}return this.buf.push(">"),!0}endElement(s){const l=s.nodeName.toLowerCase();av.hasOwnProperty(l)&&!IS.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(s){this.buf.push(SE(s))}checkClobberedElement(s,l){if(l&&(s.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return l}}const jP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,TE=/([^\#-~ |!])/g;function SE(o){return o.replace(/&/g,"&amp;").replace(jP,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(TE,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Eg;function AE(o,s){let l=null;try{Eg=Eg||function nl(o){const s=new ES(o);return function xS(){try{return!!(new window.DOMParser).parseFromString(Ec(""),"text/html")}catch{return!1}}()?new wS(s):s}(o);let d=s?String(s):"";l=Eg.getInertBodyElement(d);let h=5,m=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=m,m=l.innerHTML,l=Eg.getInertBodyElement(d)}while(d!==m);return Ec((new DE).sanitizeChildren(cv(l)||l))}finally{if(l){const d=cv(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function cv(o){return"content"in o&&function TS(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Dr=(()=>((Dr=Dr||{})[Dr.NONE=0]="NONE",Dr[Dr.HTML=1]="HTML",Dr[Dr.STYLE=2]="STYLE",Dr[Dr.SCRIPT=3]="SCRIPT",Dr[Dr.URL=4]="URL",Dr[Dr.RESOURCE_URL=5]="RESOURCE_URL",Dr))();function xg(o){const s=Cg();return s?s.sanitize(Dr.URL,o)||"":Eu(o,"URL")?xc(o):np(X(o))}function RE(o){const s=Cg();if(s)return wE(s.sanitize(Dr.RESOURCE_URL,o)||"");if(Eu(o,"ResourceURL"))return wE(xc(o));throw new ie(904,!1)}function OS(o,s,l){return function kS(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?RE:xg}(s,l)(o)}function Cg(){const o=Se();return o&&o[Lo].sanitizer}class En{constructor(s,l){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Nt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ig=new En("ENVIRONMENT_INITIALIZER"),lv=new En("INJECTOR",-1),uv=new En("INJECTOR_DEF_TYPES");class kE{get(s,l=Sr){if(l===Sr){const d=new Error(`NullInjectorError: No provider for ${ee(s)}!`);throw d.name="NullInjectorError",d}return l}}function dv(o){return{\u0275providers:o}}function OE(...o){return{\u0275providers:xu(0,o),\u0275fromNgModule:!0}}function xu(o,...s){const l=[],d=new Set;let h;return zr(s,m=>{const y=m;NE(y,l,[],d)&&(h||=[],h.push(y))}),void 0!==h&&PE(h,l),l}function PE(o,s){for(let l=0;l<o.length;l++){const{providers:h}=o[l];FE(h,m=>{s.push(m)})}}function NE(o,s,l,d){if(!(o=Oe(o)))return!1;let h=null,m=Za(o);const y=!m&&Bt(o);if(m||y){if(y&&!y.standalone)return!1;h=o}else{const C=o.ngModule;if(m=Za(C),!m)return!1;h=C}const E=d.has(h);if(y){if(E)return!1;if(d.add(h),y.dependencies){const C="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of C)NE(S,s,l,d)}}else{if(!m)return!1;{if(null!=m.imports&&!E){let S;d.add(h);try{zr(m.imports,k=>{NE(k,s,l,d)&&(S||=[],S.push(k))})}finally{}void 0!==S&&PE(S,s)}if(!E){const S=oa(h)||(()=>new h);s.push({provide:h,useFactory:S,deps:It},{provide:uv,useValue:h,multi:!0},{provide:Ig,useValue:()=>nn(h),multi:!0})}const C=m.providers;null==C||E||FE(C,k=>{s.push(k)})}}return h!==o&&void 0!==o.providers}function FE(o,s){for(let l of o)Fe(l)&&(l=l.\u0275providers),Array.isArray(l)?FE(l,s):s(l)}const $P=B({provide:String,useValue:B});function LE(o){return null!==o&&"object"==typeof o&&$P in o}function Sa(o){return"function"==typeof o}const BE=new En("Set Injector scope."),ip={},UE={};let op;function Dg(){return void 0===op&&(op=new kE),op}class fh{}class Tg extends fh{get destroyed(){return this._destroyed}constructor(s,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sg(s,y=>this.processProvider(y)),this.records.set(lv,sp(void 0,this)),h.has("environment")&&this.records.set(fh,sp(void 0,this));const m=this.records.get(BE);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(uv.multi,It,We.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of s)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const l=bn(this),d=yn(void 0);try{return s()}finally{bn(l),yn(d)}}get(s,l=Sr,d=We.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ne))return s[ne](this);d=U(d);const h=bn(this),m=yn(void 0);try{if(!(d&We.SkipSelf)){let E=this.records.get(s);if(void 0===E){const C=function KP(o){return"function"==typeof o||"object"==typeof o&&o instanceof En}(s)&&yr(s);E=C&&this.injectableDefInScope(C)?sp(HE(s),ip):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(d&We.Self?Dg():this.parent).get(s,l=d&We.Optional&&l===Sr?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[io]=y[io]||[]).unshift(ee(s)),h)throw y;return function se(o,s,l,d){const h=o[io];throw s[oo]&&h.unshift(s[oo]),o.message=function it(o,s,l,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=ee(s);if(Array.isArray(s))h=s.map(ee).join(" -> ");else if("object"==typeof s){let m=[];for(let y in s)if(s.hasOwnProperty(y)){let E=s[y];m.push(y+":"+("string"==typeof E?JSON.stringify(E):ee(E)))}h=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${o.replace(Ya,"\n  ")}`}("\n"+o.message,h,l,d),o.ngTokenPath=h,o[io]=null,o}(y,s,"R3InjectorError",this.source)}throw y}finally{yn(m),bn(h)}}resolveInjectorInitializers(){const s=bn(this),l=yn(void 0);try{const d=this.get(Ig.multi,It,We.Self);for(const h of d)h()}finally{bn(s),yn(l)}}toString(){const s=[],l=this.records;for(const d of l.keys())s.push(ee(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(s){let l=Sa(s=Oe(s))?s:Oe(s&&s.provide);const d=function qP(o){return LE(o)?sp(void 0,o.useValue):sp(NS(o),ip)}(s);if(Sa(s)||!0!==s.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=sp(void 0,ip,!0),h.factory=()=>V(h.multi),this.records.set(l,h)),l=s,h.multi.push(s)}this.records.set(l,d)}hydrate(s,l){return l.value===ip&&(l.value=UE,l.value=l.factory()),"object"==typeof l.value&&l.value&&function WP(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(s){if(!s.providedIn)return!1;const l=Oe(s.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(s){const l=this._onDestroyHooks.indexOf(s);-1!==l&&this._onDestroyHooks.splice(l,1)}}function HE(o){const s=yr(o),l=null!==s?s.factory:oa(o);if(null!==l)return l;if(o instanceof En)throw new ie(204,!1);if(o instanceof Function)return function GP(o){const s=o.length;if(s>0)throw Ia(s,"?"),new ie(204,!1);const l=function si(o){return o&&(o[ai]||o[ts])||null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new ie(204,!1)}function NS(o,s,l){let d;if(Sa(o)){const h=Oe(o);return oa(h)||HE(h)}if(LE(o))d=()=>Oe(o.useValue);else if(function VE(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...V(o.deps||[]));else if(function PS(o){return!(!o||!o.useExisting)}(o))d=()=>nn(Oe(o.useExisting));else{const h=Oe(o&&(o.useClass||o.provide));if(!function ZP(o){return!!o.deps}(o))return oa(h)||HE(h);d=()=>new h(...V(o.deps))}return d}function sp(o,s,l=!1){return{factory:o,value:s,multi:l?[]:void 0}}function Sg(o,s){for(const l of o)Array.isArray(l)?Sg(l,s):l&&Fe(l)?Sg(l.\u0275providers,s):s(l)}const FS=new En("AppId",{providedIn:"root",factory:()=>YP}),YP="ng",jE=new En("Platform Initializer"),hv=new En("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),QP=new En("AnimationModuleType"),XP=new En("CSP nonce",{providedIn:"root",factory:()=>function Jf(){if(void 0!==_g)return _g;if(typeof document<"u")return document;throw new ie(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let VS=(o,s)=>null;function gv(o,s){return VS(o,s)}class yv{}class Pg{}class rN{resolveComponentFactory(s){throw function nN(o){const s=Error(`No component factory found for ${ee(o)}.`);return s.ngComponent=o,s}(s)}}let Ng=(()=>{class o{}return o.NULL=new rN,o})();function iN(){return dp(Or(),Se())}function dp(o,s){return new Fg(kr(o,s))}let Fg=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=iN,o})();function oN(o){return o instanceof Fg?o.nativeElement:o}class zS{}let sN=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function aN(){const o=Se(),l=Si(Or().index,o);return(qn(l)?l:o)[Ot]}(),o})(),cN=(()=>{class o{}return o.\u0275prov=Nt({token:o,providedIn:"root",factory:()=>null}),o})();class $S{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const GS=new $S("16.1.2"),hp={};function Iu(o){for(;o;){o[kt]|=64;const s=oh(o);if(Mr(o)&&!s)return o;o=s}return null}function Us(o){return o.ngOriginalError}class Hs{constructor(){this._console=console}handleError(s){const l=this._findOriginalError(s);this._console.error("ERROR",s),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(s){let l=s&&Us(s);for(;l&&Us(l);)l=Us(l);return l||null}}const wv=new En("",{providedIn:"root",factory:()=>!1});function il(o){return o instanceof Function?o():o}class nx extends ti{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){Iu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,l,d){const h=Yn(this);this.trackingVersion++;try{s(l,d)}finally{Yn(h)}}destroy(){this.trackingVersion++}}let Lg=null;function rx(){return Lg??=new nx,Lg}function ix(o,s){return o[s]??rx()}function ox(o,s){const l=rx();l.hasReadASignal&&(o[s]=Lg,l.lView=o,Lg=new nx)}const zt={};function Cv(o){WS(Kt(),Se(),ni()+o,!1)}function WS(o,s,l,d){if(!d)if(3==(3&s[kt])){const m=o.preOrderCheckHooks;null!==m&&va(s,m,l)}else{const m=o.preOrderHooks;null!==m&&iu(s,m,0,l)}ls(l)}function ux(o,s=null,l=null,d){const h=dx(o,s,l,d);return h.resolveInjectorInitializers(),h}function dx(o,s=null,l=null,d,h=new Set){const m=[l||It,OE(o)];return d=d||("object"==typeof o?void 0:ee(o)),new Tg(m,s||Dg(),d||null,h)}let Su=(()=>{class o{static create(l,d){if(Array.isArray(l))return ux({name:""},d,l,"");{const h=l.name??"";return ux({name:h},l.parent,l.providers,h)}}}return o.THROW_IF_NOT_FOUND=Sr,o.NULL=new kE,o.\u0275prov=Nt({token:o,providedIn:"any",factory:()=>nn(lv)}),o.__NG_ELEMENT_ID__=-1,o})();function fp(o,s=We.Default){const l=Se();return null===l?nn(o,s):Zd(Or(),l,Oe(o),s)}function YS(){throw new Error("invalid")}function Sv(o,s,l,d,h,m,y,E,C,S,k){const F=s.blueprint.slice();return F[$n]=h,F[kt]=140|d,(null!==S||o&&2048&o[kt])&&(F[kt]|=2048),Vd(F),F[Cn]=F[lo]=o,F[Rn]=l,F[Lo]=y||o&&o[Lo],F[Ot]=E||o&&o[Ot],F[Er]=C||o&&o[Er]||null,F[Ur]=m,F[ra]=function uE(){return nh++}(),F[Gn]=k,F[wd]=S,F[Ln]=2==s.type?o[Ln]:F,F}function pp(o,s,l,d,h){let m=o.data[s];if(null===m)m=function hx(o,s,l,d,h){const m=cs(),y=lc(),C=o.data[s]=function gx(o,s,l,d,h,m){let y=s?s.injectorIndex:-1,E=0;return Ai()&&(E|=128),{type:l,index:d,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,l,s,d,h);return null===o.firstChild&&(o.firstChild=C),null!==m&&(y?null==m.child&&null!==C.parent&&(m.child=C):null===m.next&&(m.next=C,C.prev=m)),C}(o,s,l,d,h),function Pr(){return Ct.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=l,m.value=d,m.attrs=h;const y=function jc(){const o=Ct.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return ji(m,!0),m}function Bg(o,s,l,d){if(0===l)return-1;const h=s.length;for(let m=0;m<l;m++)s.push(d),o.blueprint.push(d),o.data.push(null);return h}function Av(o,s,l,d,h){const m=ix(s,Fc),y=ni(),E=2&d;try{if(ls(-1),E&&s.length>Gt&&WS(o,s,Gt,!1),po(E?2:0,h),E)m.runInContext(l,d,h);else{const S=Yn(null);try{l(d,h)}finally{Yn(S)}}}finally{E&&null===s[Fc]&&ox(s,Fc),ls(y),po(E?3:1,h)}}function Ug(o,s,l){if(ia(s)){const d=Yn(null);try{const m=s.directiveEnd;for(let y=s.directiveStart;y<m;y++){const E=o.data[y];E.contentQueries&&E.contentQueries(1,l[y],y)}}finally{Yn(d)}}}function Au(o,s,l){Yl()&&(function Rv(o,s,l,d){const h=l.directiveStart,m=l.directiveEnd;Vo(l)&&function lA(o,s,l){const d=kr(s,o),h=fx(l);let y=16;l.signals?y=4096:l.onPush&&(y=64);const E=Fv(o,Sv(o,h,null,y,d,s,null,o[Lo].rendererFactory.createRenderer(d,l),null,null,null));o[s.index]=E}(s,l,o.data[h+l.componentOffset]),o.firstCreatePass||au(l,s),ii(d,s);const y=l.initialInputs;for(let E=h;E<m;E++){const C=o.data[E],S=fs(s,o,E,l);ii(S,s),null!==y&&uA(0,E-h,S,C,0,y),xr(C)&&(Si(l.index,s)[Rn]=fs(s,o,E,l))}}(o,s,l,kr(l,s)),64==(64&l.flags)&&kv(o,s,l))}function Mv(o,s,l=kr){const d=s.localNames;if(null!==d){let h=s.index+1;for(let m=0;m<d.length;m+=2){const y=d[m+1],E=-1===y?l(s,o):o[y];o[h++]=E}}}function fx(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=px(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):s}function px(o,s,l,d,h,m,y,E,C,S,k){const F=Gt+d,G=F+h,Q=function _N(o,s){const l=[];for(let d=0;d<s;d++)l.push(d<o?null:zt);return l}(F,G),Ee="function"==typeof S?S():S;return Q[Ye]={type:o,blueprint:Q,template:l,queries:null,viewQuery:E,declTNode:s,data:Q.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:G,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:Ee,incompleteFirstPass:!1,ssrId:k}}let mx=o=>null;function eA(o,s,l,d){for(let h in o)if(o.hasOwnProperty(h)){l=null===l?{}:l;const m=o[h];null===d?tA(l,s,h,m):d.hasOwnProperty(h)&&tA(l,s,d[h],m)}return l}function tA(o,s,l,d){o.hasOwnProperty(l)?o[l].push(s,d):o[l]=[s,d]}function ws(o,s,l,d,h,m,y,E){const C=kr(s,l);let k,S=s.inputs;!E&&null!=S&&(k=S[d])?(mh(o,l,k,d,h),Vo(s)&&function wN(o,s){const l=Si(s,o);16&l[kt]||(l[kt]|=64)}(l,s.index)):3&s.type&&(d=function bN(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=y?y(h,s.value||"",d):h,m.setProperty(C,d,h))}function _x(o,s,l,d){if(Yl()){const h=null===d?null:{"":-1},m=function oA(o,s){const l=o.directiveRegistry;let d=null,h=null;if(l)for(let m=0;m<l.length;m++){const y=l[m];if(Ii(s,y.selectors,!1))if(d||(d=[]),xr(y))if(null!==y.findHostDirectiveDefs){const E=[];h=h||new Map,y.findHostDirectiveDefs(y,E,h),d.unshift(...E,y),Ov(o,s,E.length)}else d.unshift(y),Ov(o,s,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(o,l);let y,E;null===m?y=E=null:[y,E]=m,null!==y&&rA(o,s,l,y,h,E),h&&function sA(o,s,l){if(s){const d=o.localNames=[];for(let h=0;h<s.length;h+=2){const m=l[s[h+1]];if(null==m)throw new ie(-301,!1);d.push(s[h],m)}}}(l,d,h)}l.mergedAttrs=Xt(l.mergedAttrs,l.attrs)}function rA(o,s,l,d,h,m){for(let S=0;S<d.length;S++)Ea(au(l,s),o,d[S].type);!function cA(o,s,l){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+l,o.providerIndexes=s}(l,o.data.length,d.length);for(let S=0;S<d.length;S++){const k=d[S];k.providersResolver&&k.providersResolver(k)}let y=!1,E=!1,C=Bg(o,s,d.length,null);for(let S=0;S<d.length;S++){const k=d[S];l.mergedAttrs=Xt(l.mergedAttrs,k.hostAttrs),yx(o,l,s,C,k),aA(C,k,h),null!==k.contentQueries&&(l.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(l.flags|=64);const F=k.type.prototype;!y&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((o.preOrderHooks??=[]).push(l.index),y=!0),!E&&(F.ngOnChanges||F.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(l.index),E=!0),C++}!function nA(o,s,l){const h=s.directiveEnd,m=o.data,y=s.attrs,E=[];let C=null,S=null;for(let k=s.directiveStart;k<h;k++){const F=m[k],G=l?l.get(F):null,Ee=G?G.outputs:null;C=eA(F.inputs,k,C,G?G.inputs:null),S=eA(F.outputs,k,S,Ee);const Le=null===C||null===y||ns(s)?null:dA(C,k,y);E.push(Le)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=8),C.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=C,s.outputs=S}(o,l,m)}function kv(o,s,l){const d=l.directiveStart,h=l.directiveEnd,m=l.index,y=function uc(){return Ct.lFrame.currentDirectiveIndex}();try{ls(m);for(let E=d;E<h;E++){const C=o.data[E],S=s[E];dc(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&iA(C,S)}}finally{ls(-1),dc(y)}}function iA(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function Ov(o,s,l){s.componentOffset=l,(o.components??=[]).push(s.index)}function aA(o,s,l){if(l){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)l[s.exportAs[d]]=o;xr(s)&&(l[""]=o)}}function yx(o,s,l,d,h){o.data[d]=h;const m=h.factory||(h.factory=oa(h.type)),y=new Zc(m,xr(h),fp);o.blueprint[d]=y,l[d]=y,function xN(o,s,l,d,h){const m=h.hostBindings;if(m){let y=o.hostBindingOpCodes;null===y&&(y=o.hostBindingOpCodes=[]);const E=~s.index;(function mp(o){let s=o.length;for(;s>0;){const l=o[--s];if("number"==typeof l&&l<0)return l}return 0})(y)!=E&&y.push(E),y.push(l,d,m)}}(o,s,d,Bg(o,l,h.hostVars,zt),h)}function Ma(o,s,l,d,h,m){const y=kr(o,s);!function Hg(o,s,l,d,h,m,y){if(null==m)o.removeAttribute(s,h,l);else{const E=null==y?X(m):y(m,d||"",h);o.setAttribute(s,h,E,l)}}(s[Ot],y,m,o.value,l,d,h)}function uA(o,s,l,d,h,m){const y=m[s];if(null!==y)for(let E=0;E<y.length;)Pv(d,l,y[E++],y[E++],y[E++])}function Pv(o,s,l,d,h){const m=Yn(null);try{const y=o.inputTransforms;null!==y&&y.hasOwnProperty(d)&&(h=y[d].call(s,h)),null!==o.setInput?o.setInput(s,h,l,d):s[d]=h}finally{Yn(m)}}function dA(o,s,l){let d=null,h=0;for(;h<l.length;){const m=l[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(o.hasOwnProperty(m)){null===d&&(d=[]);const y=o[m];for(let E=0;E<y.length;E+=2)if(y[E]===s){d.push(m,y[E+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function vx(o,s,l,d){return[o,!0,!1,s,null,0,d,l,null,null,null]}function Nv(o,s){const l=o.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const m=l[d+1];if(-1!==m){const y=o.data[m];Os(l[d]),y.contentQueries(2,s[m],m)}}}function Fv(o,s){return o[Jr]?o[bd][fi]=s:o[Jr]=s,o[bd]=s,s}function bx(o,s,l){Os(0);const d=Yn(null);try{s(o,l)}finally{Yn(d)}}function hA(o){return o[As]||(o[As]=[])}function fA(o){return o.cleanup||(o.cleanup=[])}function pA(o,s,l){return(null===o||xr(o))&&(l=function cc(o){for(;Array.isArray(o);){if("object"==typeof o[Lc])return o;o=o[$n]}return null}(l[s.index])),l[Ot]}function jg(o,s){const l=o[Er],d=l?l.get(Hs,null):null;d&&d.handleError(s)}function mh(o,s,l,d,h){for(let m=0;m<l.length;){const y=l[m++],E=l[m++];Pv(o.data[y],s[y],d,E,h)}}function mA(o,s){const l=Si(s,o),d=l[Ye];!function gA(o,s){for(let l=s.length;l<o.blueprint.length;l++)s.push(o.blueprint[l])}(d,l);const h=l[$n];null!==h&&null===l[Gn]&&(l[Gn]=gv(h,l[Er])),gh(d,l,l[Rn])}function gh(o,s,l){fc(s);try{const d=o.viewQuery;null!==d&&bx(1,d,l);const h=o.template;null!==h&&Av(o,s,h,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Nv(o,s),o.staticViewQueries&&bx(2,o.viewQuery,l);const m=o.components;null!==m&&function wx(o,s){for(let l=0;l<s.length;l++)mA(o,s[l])}(s,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{s[kt]&=-5,Ps()}}let Lv=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(l,d,h){const m=typeof Zone>"u"?null:Zone.current,y=new jl(l,S=>{this.all.has(S)&&this.queue.set(S,m)},h);let E;this.all.add(y),y.notify();const C=()=>{y.cleanup(),E?.(),this.all.delete(y),this.queue.delete(y)};return E=d?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[l,d]of this.queue)this.queue.delete(l),d?d.run(()=>l.run()):l.run()}get isQueueEmpty(){return 0===this.queue.size}}return o.\u0275prov=Nt({token:o,providedIn:"root",factory:()=>new o}),o})();function Mu(o,s,l){let d=l?o.styles:null,h=l?o.classes:null,m=0;if(null!==s)for(let y=0;y<s.length;y++){const E=s[y];"number"==typeof E?m=E:1==m?h=Ve(h,E):2==m&&(d=Ve(d,E+": "+s[++y]+";"))}l?o.styles=d:o.stylesWithoutHost=d,l?o.classes=h:o.classesWithoutHost=h}function yh(o,s,l,d,h=!1){for(;null!==l;){const m=s[l.index];if(null!==m&&d.push(on(m)),mi(m)){for(let E=hr;E<m.length;E++){const C=m[E],S=C[Ye].firstChild;null!==S&&yh(C[Ye],C,S,d)}m[ei]!==m[$n]&&d.push(m[ei])}const y=l.type;if(8&y)yh(o,s,l.child,d);else if(32&y){const E=ys(l,s);let C;for(;C=E();)d.push(C)}else if(16&y){const E=gg(s,l);if(Array.isArray(E))d.push(...E);else{const C=oh(s[Ln]);yh(C[Ye],C,E,d,!0)}}l=h?l.projectionNext:l.next}return d}function zg(o,s,l,d=!0){const h=s[Lo].rendererFactory;h.begin&&h.begin();try{Cc(o,s,o.template,l)}catch(y){throw d&&jg(s,y),y}finally{h.end&&h.end(),s[Lo].effectManager?.flush()}}function Cc(o,s,l,d){const h=s[kt];if(256!=(256&h)){s[Lo].effectManager?.flush(),fc(s);try{Vd(s),function $c(o){return Ct.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&Av(o,s,l,2,d);const y=3==(3&h);if(y){const S=o.preOrderCheckHooks;null!==S&&va(s,S,null)}else{const S=o.preOrderHooks;null!==S&&iu(s,S,0,null),qc(s,0)}if(function $g(o){for(let s=hg(o);null!==s;s=Ri(s)){if(!s[uo])continue;const l=s[Rs];for(let d=0;d<l.length;d++){Zl(l[d])}}}(s),xx(s,2),null!==o.contentQueries&&Nv(o,s),y){const S=o.contentCheckHooks;null!==S&&va(s,S)}else{const S=o.contentHooks;null!==S&&iu(s,S,1),qc(s,1)}!function gN(o,s){const l=o.hostBindingOpCodes;if(null===l)return;const d=ix(s,Ms);try{for(let h=0;h<l.length;h++){const m=l[h];if(m<0)ls(~m);else{const y=m,E=l[++h],C=l[++h];jd(E,y),d.runInContext(C,2,s[y])}}}finally{null===s[Ms]&&ox(s,Ms),ls(-1)}}(o,s);const E=o.components;null!==E&&ku(s,E,0);const C=o.viewQuery;if(null!==C&&bx(2,C,d),y){const S=o.viewCheckHooks;null!==S&&va(s,S)}else{const S=o.viewHooks;null!==S&&iu(s,S,2),qc(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[kt]&=-73,Hc(s)}finally{Ps()}}}function xx(o,s){for(let l=hg(o);null!==l;l=Ri(l))for(let d=hr;d<l.length;d++)Cx(l[d],s)}function Vv(o,s,l){Cx(Si(s,o),l)}function Cx(o,s){if(!function Ld(o){return 128==(128&o[kt])}(o))return;const l=o[Ye];if(80&o[kt]&&0===s||1024&o[kt]||2===s)Cc(l,o,l.template,o[Rn]);else if(o[ta]>0){xx(o,1);const h=o[Ye].components;null!==h&&ku(o,h,1)}}function ku(o,s,l){for(let d=0;d<s.length;d++)Vv(o,s[d],l)}class Ut{get rootNodes(){const s=this._lView,l=s[Ye];return yh(l,s,l.firstChild,[])}constructor(s,l){this._lView=s,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rn]}set context(s){this._lView[Rn]=s}get destroyed(){return 256==(256&this._lView[kt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Cn];if(mi(s)){const l=s[8],d=l?l.indexOf(this):-1;d>-1&&(v(s,d),pu(l,d))}this._attachedToViewContainer=!1}f(this._lView[Ye],this._lView)}onDestroy(s){!function os(o,s){if(256==(256&o[kt]))throw new ie(911,!1);null===o[pi]&&(o[pi]=[]),o[pi].push(s)}(this._lView,s)}markForCheck(){Iu(this._cdRefInjectingView||this._lView)}detach(){this._lView[kt]&=-129}reattach(){this._lView[kt]|=128}detectChanges(){zg(this._lView[Ye],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fg(o,s){dh(o,s,s[Ot],2,null,null)}(this._lView[Ye],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=s}}class gp extends Ut{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;zg(s[Ye],s,s[Rn],!1)}checkNoChanges(){}get context(){return null}}class Ix extends Ng{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const l=Bt(s);return new Co(l,this.ngModule)}}function Ou(o){const s=[];for(let l in o)o.hasOwnProperty(l)&&s.push({propName:o[l],templateName:l});return s}class vA{constructor(s,l){this.injector=s,this.parentInjector=l}get(s,l,d){d=U(d);const h=this.injector.get(s,hp,d);return h!==hp||l===hp?h:this.parentInjector.get(s,l,d)}}class Co extends Pg{get inputs(){return Ou(this.componentDef.inputs)}get outputs(){return Ou(this.componentDef.outputs)}constructor(s,l){super(),this.componentDef=s,this.ngModule=l,this.componentType=s.type,this.selector=function pf(o){return o.map(qm).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!l}create(s,l,d,h){let m=(h=h||this.ngModule)instanceof fh?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new vA(s,m):s,E=y.get(zS,null);if(null===E)throw new ie(407,!1);const k={rendererFactory:E,sanitizer:y.get(cN,null),effectManager:y.get(Lv,null)},F=E.createRenderer(null,this.componentDef),G=this.componentDef.selectors[0][0]||"div",Q=d?function QS(o,s,l,d){const m=d.get(wv,!1)||l===wn.ShadowDom,y=o.selectRootElement(s,m);return function XS(o){mx(o)}(y),y}(F,d,this.componentDef.encapsulation,y):sh(F,G,function yA(o){const s=o.toLowerCase();return"svg"===s?ac:"math"===s?"math":null}(G)),Qe=this.componentDef.signals?4608:this.componentDef.onPush?576:528,pt=px(0,null,null,1,0,null,null,null,null,null,null),De=Sv(null,pt,null,Qe,null,null,k,F,y,null,null);let Ht,en;fc(De);try{const sn=this.componentDef;let wi,W_=null;sn.findHostDirectiveDefs?(wi=[],W_=new Map,sn.findHostDirectiveDefs(sn,wi,W_),wi.push(sn)):wi=[sn];const N0=function ol(o,s){const l=o[Ye],d=Gt;return o[d]=s,pp(l,d,2,"#host",null)}(De,Q),q1=function wA(o,s,l,d,h,m,y){const E=h[Ye];!function Tx(o,s,l,d){for(const h of o)s.mergedAttrs=Xt(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(Mu(s,s.mergedAttrs,!0),null!==l&&yS(d,l,s))}(d,o,s,y);let C=null;null!==s&&(C=gv(s,h[Er]));const S=m.rendererFactory.createRenderer(s,l);let k=16;l.signals?k=4096:l.onPush&&(k=64);const F=Sv(h,fx(l),null,k,h[o.index],o,m,S,null,null,C);return E.firstCreatePass&&Ov(E,o,d.length-1),Fv(h,F),h[o.index]=F}(N0,Q,sn,wi,De,k,F);en=Fd(pt,Gt),Q&&function EA(o,s,l,d){if(d)ft(o,l,["ng-version",GS.full]);else{const{attrs:h,classes:m}=function Oc(o){const s=[],l=[];let d=1,h=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===h?""!==m&&s.push(m,o[++d]):8===h&&l.push(m);else{if(!di(h))break;h=m}d++}return{attrs:s,classes:l}}(s.selectors[0]);h&&ft(o,l,h),m&&m.length>0&&_S(o,l,m.join(" "))}}(F,sn,Q,d),void 0!==l&&function Ax(o,s,l){const d=o.projection=[];for(let h=0;h<s.length;h++){const m=l[h];d.push(null!=m?Array.from(m):null)}}(en,this.ngContentSelectors,l),Ht=function Sx(o,s,l,d,h,m){const y=Or(),E=h[Ye],C=kr(y,h);rA(E,h,y,l,null,d);for(let k=0;k<l.length;k++)ii(fs(h,E,y.directiveStart+k,y),h);kv(E,h,y),C&&ii(C,h);const S=fs(h,E,y.directiveStart+y.componentOffset,y);if(o[Rn]=h[Rn]=S,null!==m)for(const k of m)k(S,s);return Ug(E,y,o),S}(q1,sn,wi,W_,De,[xA]),gh(pt,De,null)}finally{Ps()}return new Dx(this.componentType,Ht,dp(en,De),De,en)}}class Dx extends yv{constructor(s,l,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new gp(h),this.componentType=s}setInput(s,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),l))return;const m=this._rootLView;mh(m[Ye],m,h,s,l),this.previousInputValues.set(s,l),Iu(Si(this._tNode.index,m))}}get injector(){return new ps(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function xA(){const o=Or();ru(Se()[Ye],o)}function Gg(o){let s=function Bv(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const d=[o];for(;s;){let h;if(xr(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ie(903,!1);h=s.\u0275dir}if(h){if(l){d.push(h);const y=o;y.inputs=Ic(o.inputs),y.inputTransforms=Ic(o.inputTransforms),y.declaredInputs=Ic(o.declaredInputs),y.outputs=Ic(o.outputs);const E=h.hostBindings;E&&CA(o,E);const C=h.viewQuery,S=h.contentQueries;if(C&&Tn(o,C),S&&_p(o,S),j(o.inputs,h.inputs),j(o.declaredInputs,h.declaredInputs),j(o.outputs,h.outputs),null!==h.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),j(y.inputTransforms,h.inputTransforms)),xr(h)&&h.data.animation){const k=o.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let y=0;y<m.length;y++){const E=m[y];E&&E.ngInherit&&E(o),E===Gg&&(l=!1)}}s=Object.getPrototypeOf(s)}!function qg(o){let s=0,l=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=s+=h.hostVars,h.hostAttrs=Xt(h.hostAttrs,l=Xt(l,h.hostAttrs))}}(d)}function Ic(o){return o===fn?{}:o===It?[]:o}function Tn(o,s){const l=o.viewQuery;o.viewQuery=l?(d,h)=>{s(d,h),l(d,h)}:s}function _p(o,s){const l=o.contentQueries;o.contentQueries=l?(d,h,m)=>{s(d,h,m),l(d,h,m)}:s}function CA(o,s){const l=o.hostBindings;o.hostBindings=l?(d,h)=>{s(d,h),l(d,h)}:s}function Rx(o){const s=o.inputConfig,l={};for(const d in s)if(s.hasOwnProperty(d)){const h=s[d];Array.isArray(h)&&h[2]&&(l[d]=h[2])}o.inputTransforms=l}function Nu(o){return!!Hv(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Hv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function ka(o,s,l){return o[s]=l}function Oi(o,s,l){return!Object.is(o[s],l)&&(o[s]=l,!0)}function jv(o,s,l,d){const h=Se();return Oi(h,kn(),s)&&(Kt(),Ma(Bn(),h,o,s,l,d)),jv}function wh(o,s,l,d){return Oi(o,kn(),l)?s+X(l)+d:zt}function Qv(o,s,l,d,h,m,y,E){const C=Se(),S=Kt(),k=o+Gt,F=S.firstCreatePass?function zx(o,s,l,d,h,m,y,E,C){const S=s.consts,k=pp(s,o,4,y||null,mo(S,E));_x(s,l,k,mo(S,C)),ru(s,k);const F=k.tView=px(2,k,d,h,m,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S,null);return null!==s.queries&&(s.queries.template(s,k),F.queries=s.queries.embeddedTView(k)),k}(k,S,C,s,l,d,h,m,y):S.data[k];ji(F,!1);const G=$x(S,C,F,o);gc()&&bu(S,C,G,F),ii(G,C),Fv(C,C[k]=vx(G,C,G,F)),Bo(F)&&Au(S,C,F),null!=y&&Mv(C,F,E)}let $x=function zu(o,s,l,d){return Ns(!0),s[Ot].createComment("")};function Xv(o){return function Ho(o,s){return o[s]}(function Vn(){return Ct.lFrame.contextLView}(),Gt+o)}function Mp(o,s,l){const d=Se();return Oi(d,kn(),s)&&ws(Kt(),Bn(),d,o,s,d[Ot],l,!1),Mp}function Jg(o,s,l,d,h){const y=h?"class":"style";mh(o,l,s.inputs[y],y,d)}function Th(o,s,l,d){const h=Se(),m=Kt(),y=Gt+o,E=h[Ot],C=m.firstCreatePass?function Jv(o,s,l,d,h,m){const y=s.consts,C=pp(s,o,2,d,mo(y,h));return _x(s,l,C,mo(y,m)),null!==C.attrs&&Mu(C,C.attrs,!1),null!==C.mergedAttrs&&Mu(C,C.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,C),C}(y,m,h,s,l,d):m.data[y],S=Rp(m,h,C,E,s,o);h[y]=S;const k=Bo(C);return ji(C,!0),yS(E,S,C),32!=(32&C.flags)&&gc()&&bu(m,h,S,C),0===function If(){return Ct.lFrame.elementDepthCount}()&&ii(S,h),function Ud(){Ct.lFrame.elementDepthCount++}(),k&&(Au(m,h,C),Ug(m,C,h)),null!==d&&Mv(h,C),Th}function Sh(){let o=Or();lc()?Jl():(o=o.parent,ji(o,!1));const s=o;(function ma(o){return Ct.skipHydrationRootTNode===o})(s)&&function Tf(){Ct.skipHydrationRootTNode=null}(),function Df(){Ct.lFrame.elementDepthCount--}();const l=Kt();return l.firstCreatePass&&(ru(l,o),ia(o)&&l.queries.elementEnd(o)),null!=s.classesWithoutHost&&function Cr(o){return 0!=(8&o.flags)}(s)&&Jg(l,s,Se(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function us(o){return 0!=(16&o.flags)}(s)&&Jg(l,s,Se(),s.stylesWithoutHost,!1),Sh}function eb(o,s,l,d){return Th(o,s,l,d),Sh(),eb}let Rp=(o,s,l,d,h,m)=>(Ns(!0),sh(d,h,function mc(){return Ct.lFrame.currentNamespace}()));function e_(o,s,l){const d=Se(),h=Kt(),m=o+Gt,y=h.firstCreatePass?function kp(o,s,l,d,h){const m=s.consts,y=mo(m,d),E=pp(s,o,8,"ng-container",y);return null!==y&&Mu(E,y,!0),_x(s,l,E,mo(m,h)),null!==s.queries&&s.queries.elementStart(s,E),E}(m,h,d,s,l):h.data[m];ji(y,!0);const E=tb(h,d,y,o);return d[m]=E,gc()&&bu(h,d,E,y),ii(E,d),Bo(y)&&(Au(h,d,y),Ug(h,y,d)),null!=l&&Mv(d,y),e_}function t_(){let o=Or();const s=Kt();return lc()?Jl():(o=o.parent,ji(o,!1)),s.firstCreatePass&&(ru(s,o),ia(o)&&s.queries.elementEnd(o)),t_}function Op(o,s,l){return e_(o,s,l),t_(),Op}let tb=(o,s,l,d)=>(Ns(!0),el(s[Ot],""));function nb(){return Se()}function n_(o){return!!o&&"function"==typeof o.then}function Kx(o){return!!o&&"function"==typeof o.subscribe}function Yx(o,s,l,d){const h=Se(),m=Kt(),y=Or();return LA(m,h,h[Ot],y,o,s,d),Yx}function Qx(o,s){const l=Or(),d=Se(),h=Kt();return LA(h,d,pA(eu(h.data),l,d),l,o,s),Qx}function LA(o,s,l,d,h,m,y){const E=Bo(d),S=o.firstCreatePass&&fA(o),k=s[Rn],F=hA(s);let G=!0;if(3&d.type||y){const Le=kr(d,s),Qe=y?y(Le):Le,pt=F.length,De=y?en=>y(on(en[d.index])):d.index;let Ht=null;if(!y&&E&&(Ht=function DN(o,s,l,d){const h=o.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const y=h[m];if(y===l&&h[m+1]===d){const E=s[As],C=h[m+2];return E.length>C?E[C]:null}"string"==typeof y&&(m+=2)}return null}(o,s,h,d.index)),null!==Ht)(Ht.__ngLastListenerFn__||Ht).__ngNextListenerFn__=m,Ht.__ngLastListenerFn__=m,G=!1;else{m=VA(d,s,k,m,!1);const en=l.listen(Qe,h,m);F.push(m,en),S&&S.push(h,De,pt,pt+1)}}else m=VA(d,s,k,m,!1);const Q=d.outputs;let Ee;if(G&&null!==Q&&(Ee=Q[h])){const Le=Ee.length;if(Le)for(let Qe=0;Qe<Le;Qe+=2){const sn=s[Ee[Qe]][Ee[Qe+1]].subscribe(m),wi=F.length;F.push(m,sn),S&&S.push(h,d.index,wi,-(wi+1))}}}function Xx(o,s,l,d){try{return po(6,s,l),!1!==l(d)}catch(h){return jg(o,h),!1}finally{po(7,s,l)}}function VA(o,s,l,d,h){return function m(y){if(y===Function)return d;Iu(o.componentOffset>-1?Si(o.index,s):s);let C=Xx(s,l,d,y),S=m.__ngNextListenerFn__;for(;S;)C=Xx(s,l,S,y)&&C,S=S.__ngNextListenerFn__;return h&&!1===C&&y.preventDefault(),C}}function Jx(o=1){return function zd(o){return(Ct.lFrame.contextLView=function Jm(o,s){for(;o>0;)s=s[lo],o--;return s}(o,Ct.lFrame.contextLView))[Rn]}(o)}function BA(o,s){let l=null;const d=function Rl(o){const s=o.attrs;if(null!=s){const l=s.indexOf(5);if(!(1&l))return s[l+1]}return null}(o);for(let h=0;h<s.length;h++){const m=s[h];if("*"!==m){if(null===d?Ii(o,m,!0):Kn(d,m))return h}else l=h}return l}function r_(o){const s=Se()[Ln][Ur];if(!s.projection){const d=s.projection=Ia(o?o.length:1,null),h=d.slice();let m=s.child;for(;null!==m;){const y=o?BA(m,o):0;null!==y&&(h[y]?h[y].projectionNext=m:d[y]=m,h[y]=m),m=m.next}}}function Cs(o,s=0,l){const d=Se(),h=Kt(),m=pp(h,Gt+o,16,null,l||null);null===m.projection&&(m.projection=s),Jl(),(!d[Gn]||Ai())&&32!=(32&m.flags)&&function NP(o,s,l){gS(s[Ot],0,s,l,R(o,l,s),ah(l.parent||s[Ur],l,s))}(h,d,m)}function rb(o,s,l){return sl(o,"",s,"",l),rb}function sl(o,s,l,d,h){const m=Se(),y=wh(m,s,l,d);return y!==zt&&ws(Kt(),Bn(),m,o,y,m[Ot],h,!1),sl}function al(o,s){return o<<17|s<<2}function cl(o){return o>>17&32767}function Gu(o){return 2|o}function qu(o){return(131068&o)>>2}function ob(o,s){return-131069&o|s<<2}function sb(o){return 1|o}function ab(o,s,l,d,h){const m=o[l+1],y=null===s;let E=d?cl(m):qu(m),C=!1;for(;0!==E&&(!1===C||y);){const k=o[E+1];i_(o[E],s)&&(C=!0,o[E+1]=d?sb(k):Gu(k)),E=d?cl(k):qu(k)}C&&(o[l+1]=d?Gu(m):sb(m))}function i_(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&N(o,s)>=0}const Jn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function iC(o){return o.substring(Jn.key,Jn.keyEnd)}function oC(o,s){const l=Jn.textEnd;return l===s?-1:(s=Jn.keyEnd=function ZA(o,s,l){for(;s<l&&o.charCodeAt(s)>32;)s++;return s}(o,Jn.key=s,l),Ah(o,s,l))}function Ah(o,s,l){for(;s<l&&o.charCodeAt(s)<=32;)s++;return s}function s_(o,s,l){return Wo(o,s,l,!1),s_}function lb(o,s){return Wo(o,s,null,!0),lb}function Fa(o,s){for(let l=function GA(o){return function aC(o){Jn.key=0,Jn.keyEnd=0,Jn.value=0,Jn.valueEnd=0,Jn.textEnd=o.length}(o),oC(o,Ah(o,0,Jn.textEnd))}(s);l>=0;l=oC(s,l))I(o,iC(s),!0)}function Wo(o,s,l,d){const h=Se(),m=Kt(),y=zi(2);m.firstUpdatePass&&dC(m,o,y,d),s!==zt&&Oi(h,y,s)&&eM(m,m.data[ni()],h,h[Ot],o,h[y+1]=function tM(o,s){return null==o||""===o||("string"==typeof s?o+=s:"object"==typeof o&&(o=ee(xc(o)))),o}(s,l),d,y)}function uC(o,s){return s>=o.expandoStartIndex}function dC(o,s,l,d){const h=o.data;if(null===h[l+1]){const m=h[ni()],y=uC(o,l);pC(m,d)&&null===s&&!y&&(s=!1),s=function KA(o,s,l,d){const h=eu(o);let m=d?s.residualClasses:s.residualStyles;if(null===h)0===(d?s.classBindings:s.styleBindings)&&(l=Lp(l=db(null,o,s,l,d),s.attrs,d),m=null);else{const y=s.directiveStylingLast;if(-1===y||o[y]!==h)if(l=db(h,o,s,l,d),null===m){let C=function YA(o,s,l){const d=l?s.classBindings:s.styleBindings;if(0!==qu(d))return o[cl(d)]}(o,s,d);void 0!==C&&Array.isArray(C)&&(C=db(null,o,s,C[1],d),C=Lp(C,s.attrs,d),function a_(o,s,l,d){o[cl(l?s.classBindings:s.styleBindings)]=d}(o,s,d,C))}else m=function QA(o,s,l){let d;const h=s.directiveEnd;for(let m=1+s.directiveStylingLast;m<h;m++)d=Lp(d,o[m].hostAttrs,l);return Lp(d,s.attrs,l)}(o,s,d)}return void 0!==m&&(d?s.residualClasses=m:s.residualStyles=m),l}(h,m,s,d),function AN(o,s,l,d,h,m){let y=m?s.classBindings:s.styleBindings,E=cl(y),C=qu(y);o[d]=l;let k,S=!1;if(Array.isArray(l)?(k=l[1],(null===k||N(l,k)>0)&&(S=!0)):k=l,h)if(0!==C){const G=cl(o[E+1]);o[d+1]=al(G,E),0!==G&&(o[G+1]=ob(o[G+1],d)),o[E+1]=function Np(o,s){return 131071&o|s<<17}(o[E+1],d)}else o[d+1]=al(E,0),0!==E&&(o[E+1]=ob(o[E+1],d)),E=d;else o[d+1]=al(C,0),0===E?E=d:o[C+1]=ob(o[C+1],d),C=d;S&&(o[d+1]=Gu(o[d+1])),ab(o,k,d,!0),ab(o,k,d,!1),function zA(o,s,l,d,h){const m=h?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof s&&N(m,s)>=0&&(l[d+1]=sb(l[d+1]))}(s,k,o,d,m),y=al(E,C),m?s.classBindings=y:s.styleBindings=y}(h,m,s,l,y,d)}}function db(o,s,l,d,h){let m=null;const y=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<y&&(m=s[E],d=Lp(d,m.hostAttrs,h),m!==o);)E++;return null!==o&&(l.directiveStylingLast=E),d}function Lp(o,s,l){const d=l?1:2;let h=-1;if(null!==s)for(let m=0;m<s.length;m++){const y=s[m];"number"==typeof y?h=y:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),I(o,y,!!l||s[++m]))}return void 0===o?null:o}function eM(o,s,l,d,h,m,y,E){if(!(3&s.type))return;const C=o.data,S=C[E+1],k=function jA(o){return 1==(1&o)}(S)?hb(C,s,l,h,qu(S),y):void 0;Vp(k)||(Vp(m)||function HA(o){return 2==(2&o)}(S)&&(m=hb(C,null,l,h,E,y)),function LP(o,s,l,d,h){if(s)h?o.addClass(l,d):o.removeClass(l,d);else{let m=-1===d.indexOf("-")?void 0:Vs.DashCase;null==h?o.removeStyle(l,d,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Vs.Important),o.setStyle(l,d,h,m))}}(d,y,fa(ni(),l),h,m))}function hb(o,s,l,d,h,m){const y=null===s;let E;for(;h>0;){const C=o[h],S=Array.isArray(C),k=S?C[1]:C,F=null===k;let G=l[h+1];G===zt&&(G=F?It:void 0);let Q=F?A(G,d):k===d?G:void 0;if(S&&!Vp(Q)&&(Q=A(C,d)),Vp(Q)&&(E=Q,y))return E;const Ee=o[h+1];h=y?cl(Ee):qu(Ee)}if(null!==s){let C=m?s.residualClasses:s.residualStyles;null!=C&&(E=A(C,d))}return E}function Vp(o){return void 0!==o}function pC(o,s){return 0!=(o.flags&(s?8:16))}function mC(o,s=""){const l=Se(),d=Kt(),h=o+Gt,m=d.firstCreatePass?pp(d,h,1,s,null):d.data[h],y=gC(d,l,m,s,o);l[h]=y,gc()&&bu(d,l,y,m),ji(m,!1)}let gC=(o,s,l,d,h)=>(Ns(!0),function Kf(o,s){return o.createText(s)}(s[Ot],d));function c_(o){return Mh("",o,""),c_}function Mh(o,s,l){const d=Se(),h=wh(d,o,s,l);return h!==zt&&function Ra(o,s,l){const d=fa(s,o);!function Bs(o,s,l){o.setValue(s,l)}(o[Ot],d,l)}(d,ni(),h),Mh}function vC(o,s,l){!function Is(o,s,l,d){const h=Kt(),m=zi(2);h.firstUpdatePass&&dC(h,null,m,d);const y=Se();if(l!==zt&&Oi(y,m,l)){const E=h.data[ni()];if(pC(E,d)&&!uC(h,m)){let C=d?E.classesWithoutHost:E.stylesWithoutHost;null!==C&&(l=Ve(C,l||"")),Jg(h,E,y,l,d)}else!function fC(o,s,l,d,h,m,y,E){h===zt&&(h=It);let C=0,S=0,k=0<h.length?h[0]:null,F=0<m.length?m[0]:null;for(;null!==k||null!==F;){const G=C<h.length?h[C+1]:void 0,Q=S<m.length?m[S+1]:void 0;let Le,Ee=null;k===F?(C+=2,S+=2,G!==Q&&(Ee=F,Le=Q)):null===F||null!==k&&k<F?(C+=2,Ee=k):(S+=2,Ee=F,Le=Q),null!==Ee&&eM(o,s,l,d,Ee,Le,y,E),k=C<h.length?h[C]:null,F=S<m.length?m[S]:null}}(h,E,y,y[Ot],y[m+1],y[m+1]=function XA(o,s,l){if(null==l||""===l)return It;const d=[],h=xc(l);if(Array.isArray(h))for(let m=0;m<h.length;m++)o(d,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&o(d,m,h[m]);else"string"==typeof h&&s(d,h);return d}(o,s,l),d,m)}}(I,Fa,wh(Se(),o,s,l),!0)}function CC(o,s,l){const d=Se();return Oi(d,kn(),s)&&ws(Kt(),Bn(),d,o,s,d[Ot],l,!0),CC}function IC(o,s,l){const d=Se();if(Oi(d,kn(),s)){const m=Kt(),y=Bn();ws(m,y,d,o,s,pA(eu(m.data),y,d),l,!0)}return IC}const Rh=void 0;var TC=["en",[["a","p"],["AM","PM"],Rh],[["AM","PM"],Rh,Rh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Rh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Rh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Rh,"{1} 'at' {0}",Rh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DC(o){const l=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let ll={};function vb(o){const s=function RN(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=SC(s);if(l)return l;const d=s.split("-")[0];if(l=SC(d),l)return l;if("en"===d)return TC;throw new ie(701,!1)}function bb(o){return vb(o)[St.PluralCase]}function SC(o){return o in ll||(ll[o]=an.ng&&an.ng.common&&an.ng.common.locales&&an.ng.common.locales[o]),ll[o]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const Wu="en-US";let AC=Wu;function JC(o,s,l,d,h){if(o=Oe(o),Array.isArray(o))for(let m=0;m<o.length;m++)JC(o[m],s,l,d,h);else{const m=Kt(),y=Se();let E=Sa(o)?o:Oe(o.provide),C=NS(o);const S=Or(),k=1048575&S.providerIndexes,F=S.directiveStart,G=S.providerIndexes>>20;if(Sa(o)||!o.multi){const Q=new Zc(C,h,fp),Ee=Sb(E,s,h?k:k+G,F);-1===Ee?(Ea(au(S,y),m,E),eI(m,o,s.length),s.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(Q),y.push(Q)):(l[Ee]=Q,y[Ee]=Q)}else{const Q=Sb(E,s,k+G,F),Ee=Sb(E,s,k,k+G),Qe=Ee>=0&&l[Ee];if(h&&!Qe||!h&&!(Q>=0&&l[Q])){Ea(au(S,y),m,E);const pt=function BM(o,s,l,d,h){const m=new Zc(o,l,fp);return m.multi=[],m.index=s,m.componentProviders=0,VM(m,h,d&&!l),m}(h?y_:QN,l.length,h,d,C);!h&&Qe&&(l[Ee].providerFactory=pt),eI(m,o,s.length,0),s.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(pt),y.push(pt)}else eI(m,o,Q>-1?Q:Ee,VM(l[h?Ee:Q],C,!h&&d));!h&&d&&Qe&&l[Ee].componentProviders++}}}function eI(o,s,l,d){const h=Sa(s),m=function rp(o){return!!o.useClass}(s);if(h||m){const C=(m?Oe(s.useClass):s).prototype.ngOnDestroy;if(C){const S=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const k=S.indexOf(l);-1===k?S.push(l,[d,C]):S[k+1].push(d,C)}else S.push(l,C)}}}function VM(o,s,l){return l&&o.componentProviders++,o.multi.push(s)-1}function Sb(o,s,l,d){for(let h=l;h<d;h++)if(s[h]===o)return h;return-1}function QN(o,s,l,d){return Ab(this.multi,[])}function y_(o,s,l,d){const h=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=fs(l,l[Ye],this.providerFactory.index,d);m=E.slice(0,y),Ab(h,m);for(let C=y;C<E.length;C++)m.push(E[C])}else m=[],Ab(h,m);return m}function Ab(o,s){for(let l=0;l<o.length;l++)s.push((0,o[l])());return s}function tI(o,s=[]){return l=>{l.providersResolver=(d,h)=>function YN(o,s,l){const d=Kt();if(d.firstCreatePass){const h=xr(o);JC(l,d.data,d.blueprint,h,!0),JC(s,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,s)}}class Ph{}class nI{}function XN(o,s){return new Rb(o,s??null,[])}class Rb extends Ph{constructor(s,l,d){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ix(this);const h=Ar(s);this._bootstrapComponents=il(h.bootstrap),this._r3Injector=dx(s,l,[{provide:Ph,useValue:this},{provide:Ng,useValue:this.componentFactoryResolver},...d],ee(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class kb extends nI{constructor(s){super(),this.moduleType=s}create(s){return new Rb(this.moduleType,s,[])}}class Ob extends Ph{constructor(s){super(),this.componentFactoryResolver=new Ix(this),this.instance=null;const l=new Tg([...s.providers,{provide:Ph,useValue:this},{provide:Ng,useValue:this.componentFactoryResolver}],s.parent||Dg(),s.debugName,new Set(["environment"]));this.injector=l,s.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Pb(o,s,l=null){return new Ob({providers:o,parent:s,debugName:l,runEnvironmentInitializers:!0}).injector}let Nb=(()=>{class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=xu(0,l.type),h=d.length>0?Pb([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Nt({token:o,providedIn:"environment",factory:()=>new o(nn(fh))}),o})();function Zr(o){o.getStandaloneInjector=s=>s.get(Nb).getOrCreateStandaloneInjector(o)}function zM(o,s,l,d){return function aI(o,s,l,d,h,m){const y=s+l;return Oi(o,y,h)?ka(o,y+1,m?d.call(m,h):d(h)):Hn(o,y+1)}(Se(),Hr(),o,s,l,d)}function ve(o,s,l,d,h){return function qp(o,s,l,d,h,m,y){const E=s+l;return function Lu(o,s,l,d){const h=Oi(o,s,l);return Oi(o,s+1,d)||h}(o,E,h,m)?ka(o,E+2,y?d.call(y,h,m):d(h,m)):Hn(o,E+2)}(Se(),Hr(),o,s,l,d,h)}function Hn(o,s){const l=o[s];return l===zt?void 0:l}function Nh(o){return s=>{setTimeout(o,void 0,s)}}const Yo=class Bb extends a.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,l,d){let h=s,m=l||(()=>null),y=d;if(s&&"object"==typeof s){const C=s;h=C.next?.bind(C),m=C.error?.bind(C),y=C.complete?.bind(C)}this.__isAsync&&(m=Nh(m),h&&(h=Nh(h)),y&&(y=Nh(y)));const E=super.subscribe({next:h,error:m,complete:y});return s instanceof Z.w0&&s.add(E),E}};function Ub(){return this._results[Symbol.iterator]()}class E_{get changes(){return this._changes||(this._changes=new Yo)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=E_.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=Ub)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,l){return this._results.reduce(s,l)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,l){const d=this;d.dirty=!1;const h=function jr(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function gi(o,s,l){if(o.length!==s.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],m=s[d];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Zp=(()=>{class o{}return o.__NG_ELEMENT_ID__=YM,o})();const dI=Zp,KM=class extends dI{constructor(s,l,d){super(),this._declarationLView=s,this._declarationTContainer=l,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,l){return this.createEmbeddedViewImpl(s,l,null)}createEmbeddedViewImpl(s,l,d){const y=this._declarationTContainer.tView,E=Sv(this._declarationLView,y,s,4096&this._declarationLView[kt]?4096:16,null,y.declTNode,null,null,null,l||null,d||null);E[na]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[rn];return null!==S&&(E[rn]=S.createEmbeddedView(y)),gh(y,E,s),new Ut(E)}};function YM(){return pl(Or(),Se())}function pl(o,s){return 4&o.type?new KM(s,o,dp(o,s)):null}let Fh=(()=>{class o{}return o.__NG_ELEMENT_ID__=mI,o})();function mI(){return _I(Or(),Se())}const Wp=Fh,gI=class extends Wp{constructor(s,l,d){super(),this._lContainer=s,this._hostTNode=l,this._hostLView=d}get element(){return dp(this._hostTNode,this._hostLView)}get injector(){return new ps(this._hostTNode,this._hostLView)}get parentInjector(){const s=jo(this._hostTNode,this._hostLView);if(ir(s)){const l=_c(s,this._hostLView),d=rt(s);return new ps(l[Ye].data[d+8],l)}return new ps(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const l=C_(this._lContainer);return null!==l&&l[s]||null}get length(){return this._lContainer.length-hr}createEmbeddedView(s,l,d){let h,m;"number"==typeof d?h=d:null!=d&&(h=d.index,m=d.injector);const E=s.createEmbeddedViewImpl(l||{},m,null);return this.insertImpl(E,h,false),E}createComponent(s,l,d,h,m){const y=s&&!function Go(o){return"function"==typeof o}(s);let E;if(y)E=l;else{const Le=l||{};E=Le.index,d=Le.injector,h=Le.projectableNodes,m=Le.environmentInjector||Le.ngModuleRef}const C=y?s:new Co(Bt(s)),S=d||this.parentInjector;if(!m&&null==C.ngModule){const Qe=(y?S:this.parentInjector).get(fh,null);Qe&&(m=Qe)}Bt(C.componentType??{});const Q=C.create(S,h,null,m);return this.insertImpl(Q.hostView,E,false),Q}insert(s,l){return this.insertImpl(s,l,!1)}insertImpl(s,l,d){const h=s._lView,m=h[Ye];if(function ql(o){return mi(o[Cn])}(h)){const C=this.indexOf(s);if(-1!==C)this.detach(C);else{const S=h[Cn],k=new gI(S,S[Ur],S[Cn]);k.detach(k.indexOf(s))}}const y=this._adjustIndex(l),E=this._lContainer;if(function yE(o,s,l,d){const h=hr+d,m=l.length;d>0&&(l[h-1][fi]=s),d<m-hr?(s[fi]=l[h],fu(l,hr+d,s)):(l.push(s),s[fi]=null),s[Cn]=l;const y=s[na];null!==y&&l!==y&&function vE(o,s){const l=o[Rs];s[Ln]!==s[Cn][Cn][Ln]&&(o[uo]=!0),null===l?o[Rs]=[s]:l.push(s)}(y,s);const E=s[rn];null!==E&&E.insertView(o),s[kt]|=128}(m,h,E,y),!d){const C=ch(y,E),S=h[Ot],k=Pn(S,E[ei]);null!==k&&function gE(o,s,l,d,h,m){d[$n]=h,d[Ur]=s,dh(o,d,l,1,h,m)}(m,E[Ur],S,h,k,C)}return s.attachToViewContainerRef(),fu(Kp(E),y,s),s}move(s,l){return this.insert(s,l)}indexOf(s){const l=C_(this._lContainer);return null!==l?l.indexOf(s):-1}remove(s){const l=this._adjustIndex(s,-1),d=v(this._lContainer,l);d&&(pu(Kp(this._lContainer),l),f(d[Ye],d))}detach(s){const l=this._adjustIndex(s,-1),d=v(this._lContainer,l);return d&&null!=pu(Kp(this._lContainer),l)?new Ut(d):null}_adjustIndex(s,l=0){return s??this.length+l}};function C_(o){return o[8]}function Kp(o){return o[8]||(o[8]=[])}function _I(o,s){let l;const d=s[o.index];return mi(d)?l=d:(l=vx(d,s,null,o),s[o.index]=l,Fv(s,l)),I_(l,s,o,d),new gI(l,o,s)}let I_=function D_(o,s,l,d){if(o[ei])return;let h;h=8&l.type?on(d):function Gb(o,s){const l=o[Ot],d=l.createComment(""),h=kr(s,o);return Y(l,Pn(l,h),d,function vs(o,s){return o.nextSibling(s)}(l,h),!1),d}(s,l),o[ei]=h};class Zb{constructor(s){this.queryList=s,this.matches=null}clone(){return new Zb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wb{constructor(s=[]){this.queries=s}createEmbeddedView(s){const l=s.queries;if(null!==l){const d=null!==s.contentQueries?s.contentQueries[0]:l.length,h=[];for(let m=0;m<d;m++){const y=l.getByIndex(m);h.push(this.queries[y.indexInDeclarationView].clone())}return new Wb(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let l=0;l<this.queries.length;l++)null!==CI(s,l).matches&&this.queries[l].setDirty()}}class Yp{constructor(s,l,d=null){this.predicate=s,this.flags=l,this.read=d}}class Qp{constructor(s=[]){this.queries=s}elementStart(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,l)}elementEnd(s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(s)}embeddedTView(s){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(s,h);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new Qp(l):null}template(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,l)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class T_{constructor(s,l=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(s,l){this.isApplyingToNode(l)&&this.matchTNode(s,l)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,l){this.elementStart(s,l)}embeddedTView(s,l){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,l),new T_(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(s,l,Kb(l,m)),this.matchTNodeWithReadOption(s,l,zo(l,s,m,!1,!1))}else d===Zp?4&l.type&&this.matchTNodeWithReadOption(s,l,-1):this.matchTNodeWithReadOption(s,l,zo(l,s,d,!1,!1))}matchTNodeWithReadOption(s,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Fg||h===Fh||h===Zp&&4&l.type)this.addMatch(l.index,-2);else{const m=zo(l,s,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(s,l){null===this.matches?this.matches=[s,l]:this.matches.push(s,l)}}function Kb(o,s){const l=o.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===s)return l[d+1];return null}function Qb(o,s,l,d){return-1===l?function Yb(o,s){return 11&o.type?dp(o,s):4&o.type?pl(o,s):null}(s,o):-2===l?function yI(o,s,l){return l===Fg?dp(s,o):l===Zp?pl(s,o):l===Fh?_I(s,o):void 0}(o,s,d):fs(o,o[Ye],l,s)}function vI(o,s,l,d){const h=s[rn].queries[d];if(null===h.matches){const m=o.data,y=l.matches,E=[];for(let C=0;C<y.length;C+=2){const S=y[C];E.push(S<0?null:Qb(s,m[S],y[C+1],l.metadata.read))}h.matches=E}return h.matches}function S_(o,s,l,d){const h=o.queries.getByIndex(l),m=h.matches;if(null!==m){const y=vI(o,s,h,l);for(let E=0;E<m.length;E+=2){const C=m[E];if(C>0)d.push(y[E/2]);else{const S=m[E+1],k=s[-C];for(let F=hr;F<k.length;F++){const G=k[F];G[na]===G[Cn]&&S_(G[Ye],G,S,d)}if(null!==k[Rs]){const F=k[Rs];for(let G=0;G<F.length;G++){const Q=F[G];S_(Q[Ye],Q,S,d)}}}}}return d}function Qu(o){const s=Se(),l=Kt(),d=hc();Os(d+1);const h=CI(l,d);if(o.dirty&&function Ym(o){return 4==(4&o[kt])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const m=h.crossesNgTemplate?S_(l,s,d,[]):vI(l,s,h,d);o.reset(m,oN),o.notifyOnChanges()}return!0}return!1}function Xb(o,s,l){const d=Kt();d.firstCreatePass&&(xI(d,new Yp(o,s,l),-1),2==(2&s)&&(d.staticViewQueries=!0)),EI(d,Se(),s)}function bI(o,s,l,d){const h=Kt();if(h.firstCreatePass){const m=Or();xI(h,new Yp(s,l,d),m.index),function t1(o,s){const l=o.contentQueries||(o.contentQueries=[]);s!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,s)}(h,o),2==(2&l)&&(h.staticContentQueries=!0)}EI(h,Se(),l)}function wI(){return function e1(o,s){return o[rn].queries[s].queryList}(Se(),hc())}function EI(o,s,l){const d=new E_(4==(4&l));(function vN(o,s,l,d){const h=hA(s);h.push(l),o.firstCreatePass&&fA(o).push(d,h.length-1)})(o,s,d,d.destroy),null===s[rn]&&(s[rn]=new Wb),s[rn].queries.push(new Zb(d))}function xI(o,s,l){null===o.queries&&(o.queries=new Qp),o.queries.track(new T_(s,l))}function CI(o,s){return o.queries.getByIndex(s)}function II(o,s){return pl(o,s)}function Jb(o){return!!Ar(o)}const Va=new En("Application Initializer");let u0=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d}),this.appInits=Yt(Va,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const h of this.appInits){const m=h();if(n_(m))l.push(m);else if(Kx(m)){const y=new Promise((E,C)=>{m.subscribe({complete:E,error:C})});l.push(y)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Nt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),gl=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Nt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Xp=new En("LocaleId",{providedIn:"root",factory:()=>Yt(Xp,We.Optional|We.SkipSelf)||function u1(){return typeof $localize<"u"&&$localize.locale||Wu}()}),jI=new En("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let d0=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new P.X(!1)}add(){this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Nt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();class d1{constructor(s,l){this.ngModuleFactory=s,this.componentFactories=l}}let h1=(()=>{class o{compileModuleSync(l){return new kb(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),m=il(Ar(l).declarations).reduce((y,E)=>{const C=Bt(E);return C&&y.push(new Co(C)),y},[]);return new d1(d,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Nt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function zs(...o){}class Ni{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yo(!1),this.onMicrotaskEmpty=new Yo(!1),this.onStable=new Yo(!1),this.onError=new Yo(!1),typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function zI(){let o=an.requestAnimationFrame,s=an.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function qI(o){const s=()=>{!function GI(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(an,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,P_(o),o.isCheckStableRunning=!0,O_(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),P_(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,m,y,E)=>{try{return em(o),l.invokeTask(h,m,y,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&s(),f0(o)}},onInvoke:(l,d,h,m,y,E,C)=>{try{return em(o),l.invoke(h,m,y,E,C)}finally{o.shouldCoalesceRunChangeDetection&&s(),f0(o)}},onHasTask:(l,d,h,m)=>{l.hasTask(h,m),d===h&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,P_(o),O_(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,h,m)=>(l.handleError(h,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ni.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(Ni.isInAngularZone())throw new ie(909,!1)}run(s,l,d){return this._inner.run(s,l,d)}runTask(s,l,d,h){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+h,s,$I,zs,zs);try{return m.runTask(y,l,d)}finally{m.cancelTask(y)}}runGuarded(s,l,d){return this._inner.runGuarded(s,l,d)}runOutsideAngular(s){return this._outer.run(s)}}const $I={};function O_(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function P_(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function em(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function f0(o){o._nesting--,O_(o)}class ZI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yo,this.onMicrotaskEmpty=new Yo,this.onStable=new Yo,this.onError=new Yo}run(s,l,d){return s.apply(l,d)}runGuarded(s,l,d){return s.apply(l,d)}runOutsideAngular(s){return s()}runTask(s,l,d,h){return s.apply(l,d)}}const p0=new En("",{providedIn:"root",factory:m0});function m0(){const o=Yt(Ni);let s=!0;const l=new te.y(h=>{s=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{h.next(s),h.complete()})}),d=new te.y(h=>{let m;o.runOutsideAngular(()=>{m=o.onStable.subscribe(()=>{Ni.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(s=!0,h.next(!0))})})});const y=o.onUnstable.subscribe(()=>{Ni.assertInAngularZone(),s&&(s=!1,o.runOutsideAngular(()=>{h.next(!1)}))});return()=>{m.unsubscribe(),y.unsubscribe()}});return(0,re.T)(l,d.pipe((0,_e.B)()))}const WI=new En(""),g0=new En("");let tm,KI=(()=>{class o{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,tm||(function YI(o){tm=o}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ni.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return o.\u0275fac=function(l){return new(l||o)(nn(Ni),nn(N_),nn(g0))},o.\u0275prov=Nt({token:o,factory:o.\u0275fac}),o})(),N_=(()=>{class o{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return tm?.findTestabilityInTree(this,l,d)??null}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Nt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Ac=null;const _0=new En("AllowMultipleToken"),F_=new En("PlatformDestroyListeners"),nm=new En("appBootstrapListener");class Qi{constructor(s,l){this.name=s,this.token=l}}function rm(o,s,l=[]){const d=`Platform: ${s}`,h=new En(d);return(m=[])=>{let y=b0();if(!y||y.injector.get(_0,!1)){const E=[...l,...m,{provide:h,useValue:!0}];o?o(E):function yl(o){if(Ac&&!Ac.get(_0,!1))throw new ie(400,!1);(function y0(){!function Vc(o){kd=o}(()=>{throw new ie(600,!1)})})(),Ac=o;const s=o.get(B_);(function g1(o){o.get(jE,null)?.forEach(l=>l())})(o)}(function V_(o=[],s){return Su.create({name:s,providers:[{provide:BE,useValue:"platform"},{provide:F_,useValue:new Set([()=>Ac=null])},...o]})}(E,d))}return function im(o){const s=b0();if(!s)throw new ie(401,!1);return s}()}}function b0(){return Ac?.get(B_)??null}let B_=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function TF(o="zone.js",s){return"noop"===o?new ZI:"zone.js"===o?new Ni(s):o}(d?.ngZone,function JI(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return h.run(()=>{const m=function rI(o,s,l){return new Rb(o,s,l)}(l.moduleType,this.injector,function E1(o){return[{provide:Ni,useFactory:o},{provide:Ig,multi:!0,useFactory:()=>{const s=Yt(eD,{optional:!0});return()=>s.initialize()}},{provide:b1,useFactory:w1},{provide:p0,useFactory:m0}]}(()=>h)),y=m.injector.get(Hs,null);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:C=>{y.handleError(C)}});m.onDestroy(()=>{w0(this._modules,m),E.unsubscribe()})}),function _1(o,s,l){try{const d=l();return n_(d)?d.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw s.runOutsideAngular(()=>o.handleError(d)),d}}(y,h,()=>{const E=m.injector.get(u0);return E.runInitializers(),E.donePromise.then(()=>(function MC(o){tt(o,"Expected localeId to be defined"),"string"==typeof o&&(AC=o.toLowerCase().replace(/_/g,"-"))}(m.injector.get(Xp,Wu)||Wu),this._moduleDoBootstrap(m),m))})})}bootstrapModule(l,d=[]){const h=y1({},d);return function L_(o,s,l){const d=new kb(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(l){const d=l.injector.get(om);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new ie(-403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(F_,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)(nn(Su))},o.\u0275prov=Nt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function y1(o,s){return Array.isArray(s)?s.reduce(y1,o):{...o,...s}}let om=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Yt(b1),this.zoneIsStable=Yt(p0),this.componentTypes=[],this.components=[],this.isStable=Yt(d0).hasPendingTasks.pipe((0,Pe.w)(l=>l?(0,ae.of)(!1):this.zoneIsStable),(0,fe.x)(),(0,_e.B)()),this._injector=Yt(fh)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const h=l instanceof Pg;if(!this._injector.get(u0).done)throw!h&&is(l),new ie(405,!1);let y;y=h?l:this._injector.get(Ng).resolveComponentFactory(l),this.componentTypes.push(y.componentType);const E=function QI(o){return o.isBoundToModule}(y)?void 0:this._injector.get(Ph),S=y.create(Su.NULL,[],d||y.selector,E),k=S.location.nativeElement,F=S.injector.get(WI,null);return F?.registerApplication(k),S.onDestroy(()=>{this.detachView(S.hostView),w0(this.components,S),F?.unregisterApplication(k)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new ie(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;w0(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const d=this._injector.get(nm,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>w0(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new ie(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Nt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function w0(o,s){const l=o.indexOf(s);l>-1&&o.splice(l,1)}const b1=new En("",{providedIn:"root",factory:()=>Yt(Hs).handleError.bind(void 0)});function w1(){const o=Yt(Ni),s=Yt(Hs);return l=>o.runOutsideAngular(()=>s.handleError(l))}let eD=(()=>{class o{constructor(){this.zone=Yt(Ni),this.applicationRef=Yt(om)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=Nt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function sm(){return!1}let x1=(()=>{class o{}return o.__NG_ELEMENT_ID__=x0,o})();function x0(o){return function C1(o,s,l){if(Vo(o)&&!l){const d=Si(o.index,s);return new Ut(d,d)}return 47&o.type?new Ut(s[Ln],s):null}(Or(),Se(),16==(16&o))}class nD{constructor(){}supports(s){return Nu(s)}create(s){return new S1(s)}}const rD=(o,s)=>s;class S1{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||rD}forEachItem(s){let l;for(l=this._itHead;null!==l;l=l._next)s(l)}forEachOperation(s){let l=this._itHead,d=this._removalsHead,h=0,m=null;for(;l||d;){const y=!d||l&&l.currentIndex<M1(d,h,m)?l:d,E=M1(y,h,m),C=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(l=l._next,null==y.previousIndex)h++;else{m||(m=[]);const S=E-h,k=C-h;if(S!=k){for(let G=0;G<S;G++){const Q=G<m.length?m[G]:m[G]=0,Ee=Q+G;k<=Ee&&Ee<S&&(m[G]=Q+1)}m[y.previousIndex]=k-S}}E!==C&&s(y,E,C)}}forEachPreviousItem(s){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachMovedItem(s){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}forEachIdentityChange(s){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)s(l)}diff(s){if(null==s&&(s=[]),!Nu(s))throw new ie(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,m,y,l=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)m=s[E],y=this._trackByFn(E,m),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,m,y,E)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,y,E),d=!0),l=l._next}else h=0,function Px(o,s){if(Array.isArray(o))for(let l=0;l<o.length;l++)s(o[l]);else{const l=o[Symbol.iterator]();let d;for(;!(d=l.next()).done;)s(d.value)}}(s,E=>{y=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,E,y,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,y,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,l,d,h){let m;return null===s?m=this._itTail:(m=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._reinsertAfter(s,m,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._moveAfter(s,m,h)):s=this._addAfter(new OF(l,d),m,h),s}_verifyReinsertion(s,l,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?s=this._reinsertAfter(m,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const l=s._next;this._addToRemovals(this._unlink(s)),s=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,m=s._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(s,l,d),this._addToMoves(s,d),s}_moveAfter(s,l,d){return this._unlink(s),this._insertAfter(s,l,d),this._addToMoves(s,d),s}_addAfter(s,l,d){return this._insertAfter(s,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,l,d){const h=null===l?this._itHead:l._next;return s._next=h,s._prev=l,null===h?this._itTail=s:h._prev=s,null===l?this._itHead=s:l._next=s,null===this._linkedRecords&&(this._linkedRecords=new $_),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const l=s._prev,d=s._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,s}_addToMoves(s,l){return s.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $_),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,l){return s.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class OF{constructor(s,l){this.item=s,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class A1{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const l=s._prevDup,d=s._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class $_{constructor(){this.map=new Map}put(s){const l=s.trackById;let d=this.map.get(l);d||(d=new A1,this.map.set(l,d)),d.add(s)}get(s,l){const h=this.map.get(s);return h?h.get(s,l):null}remove(s){const l=s.trackById;return this.map.get(l).remove(s)&&this.map.delete(l),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function M1(o,s,l){const d=o.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+s+h}class R1{constructor(){}supports(s){return s instanceof Map||Hv(s)}create(){return new S0}}class S0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let l;for(l=this._mapHead;null!==l;l=l._next)s(l)}forEachPreviousItem(s){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)s(l)}forEachChangedItem(s){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}diff(s){if(s){if(!(s instanceof Map||Hv(s)))throw new ie(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,l){if(s){const d=s._prev;return l._next=s,l._prev=d,s._prev=l,d&&(d._next=l),s===this._mapHead&&(this._mapHead=l),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(s,l){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,l);const m=h._prev,y=h._next;return m&&(m._next=y),y&&(y._prev=m),h._next=null,h._prev=null,h}const d=new k1(s);return this._records.set(s,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,l){Object.is(l,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=l,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,l){s instanceof Map?s.forEach(l):Object.keys(s).forEach(d=>l(s[d],d))}}class k1{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function A0(){return new um([new nD])}let um=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||A0()),deps:[[o,new ri,new Eo]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new ie(901,!1)}}return o.\u0275prov=Nt({token:o,providedIn:"root",factory:A0}),o})();function O1(){return new M0([new R1])}let M0=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||O1()),deps:[[o,new ri,new Eo]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new ie(901,!1)}}return o.\u0275prov=Nt({token:o,providedIn:"root",factory:O1}),o})();const hm=rm(null,"core",[]);let NF=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)(nn(om))},o.\u0275mod=Fo({type:o}),o.\u0275inj=An({}),o})();function j1(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function fD(o){const s=Bt(o);if(!s)return null;const l=new Co(s);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3106:(dt,Ce,O)=>{O.d(Ce,{Z:()=>Ze});var a=O(9058),Z=O(4537),P=O(534),te=O(7879);class re{constructor(qe,Fe){this._delegate=qe,this.firebase=Fe,(0,P._addComponent)(qe,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this._delegate.automaticDataCollectionEnabled=qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(qe=>{this._delegate.checkDestroyed(),qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(qe,Fe=P._DEFAULT_ENTRY_NAME){var vt;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(qe);return!mt.isInitialized()&&"EXPLICIT"===(null===(vt=mt.getComponent())||void 0===vt?void 0:vt.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:Fe})}_removeServiceInstance(qe,Fe=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(qe).clearInstance(Fe)}_addComponent(qe){(0,P._addComponent)(this._delegate,qe)}_addOrOverwriteComponent(qe){(0,P._addOrOverwriteComponent)(this._delegate,qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function fe(){const Oe=function Pe(Oe){const qe={},Fe={__esModule:!0,initializeApp:function ie(Re,Ue={}){const oe=P.initializeApp(Re,Ue);if((0,a.r3)(qe,oe.name))return qe[oe.name];const ze=new Oe(oe,Fe);return qe[oe.name]=ze,ze},app:mt,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function X(Re){const Ue=Re.name,oe=Ue.replace("-compat","");if(P._registerComponent(Re)&&"PUBLIC"===Re.type){const ze=(Zt=mt())=>{if("function"!=typeof Zt[oe])throw _e.create("invalid-app-argument",{appName:Ue});return Zt[oe]()};void 0!==Re.serviceProps&&(0,a.ZB)(ze,Re.serviceProps),Fe[oe]=ze,Oe.prototype[oe]=function(...Zt){return this._getService.bind(this,Ue).apply(this,Re.multipleInstances?Zt:[])}}return"PUBLIC"===Re.type?Fe[oe]:null},removeApp:function vt(Re){delete qe[Re]},useAsService:function ge(Re,Ue){return"serverAuth"===Ue?null:Ue},modularAPIs:P}};function mt(Re){if(!(0,a.r3)(qe,Re=Re||P._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:Re});return qe[Re]}return Fe.default=Fe,Object.defineProperty(Fe,"apps",{get:function ye(){return Object.keys(qe).map(Re=>qe[Re])}}),mt.App=Oe,Fe}(re);return Oe.INTERNAL=Object.assign(Object.assign({},Oe.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function qe(Fe){(0,a.ZB)(Oe,Fe)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Oe}(),j=new te.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Oe=self.firebase.SDK_VERSION;Oe&&Oe.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=B;!function Ae(Oe){(0,P.registerVersion)("@firebase/app-compat","0.2.13",Oe)}()},534:(dt,Ce,O)=>{O.r(Ce),O.d(Ce,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>Ss,_DEFAULT_ENTRY_NAME:()=>We,_addComponent:()=>Mn,_addOrOverwriteComponent:()=>Xr,_apps:()=>wt,_clearComponents:()=>dn,_components:()=>yn,_getProvider:()=>vr,_registerComponent:()=>an,_removeServiceInstance:()=>Ka,deleteApp:()=>br,getApp:()=>li,getApps:()=>oo,initializeApp:()=>Ya,onLog:()=>so,registerVersion:()=>bn,setLogLevel:()=>nn});var a=O(5861),Z=O(4537),P=O(7879),te=O(9058);const re=(me,ne)=>ne.some(Ne=>me instanceof Ne);let ae,_e;const B=new WeakMap,j=new WeakMap,ee=new WeakMap,Ve=new WeakMap,Ae=new WeakMap;let qe={get(me,ne,Ne){if(me instanceof IDBTransaction){if("done"===ne)return j.get(me);if("objectStoreNames"===ne)return me.objectStoreNames||ee.get(me);if("store"===ne)return Ne.objectStoreNames[1]?void 0:Ne.objectStore(Ne.objectStoreNames[0])}return ie(me[ne])},set:(me,ne,Ne)=>(me[ne]=Ne,!0),has:(me,ne)=>me instanceof IDBTransaction&&("done"===ne||"store"===ne)||ne in me};function mt(me){return"function"==typeof me?function vt(me){return me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(me)?function(...ne){return me.apply(ye(this),ne),ie(B.get(this))}:function(...ne){return ie(me.apply(ye(this),ne))}:function(ne,...Ne){const ft=me.call(ye(this),ne,...Ne);return ee.set(ft,ne.sort?ne.sort():[ne]),ie(ft)}}(me):(me instanceof IDBTransaction&&function Oe(me){if(j.has(me))return;const ne=new Promise((Ne,ft)=>{const Dt=()=>{me.removeEventListener("complete",Vt),me.removeEventListener("error",Xt),me.removeEventListener("abort",Xt)},Vt=()=>{Ne(),Dt()},Xt=()=>{ft(me.error||new DOMException("AbortError","AbortError")),Dt()};me.addEventListener("complete",Vt),me.addEventListener("error",Xt),me.addEventListener("abort",Xt)});j.set(me,ne)}(me),re(me,function Pe(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(me,qe):me)}function ie(me){if(me instanceof IDBRequest)return function Ze(me){const ne=new Promise((Ne,ft)=>{const Dt=()=>{me.removeEventListener("success",Vt),me.removeEventListener("error",Xt)},Vt=()=>{Ne(ie(me.result)),Dt()},Xt=()=>{ft(me.error),Dt()};me.addEventListener("success",Vt),me.addEventListener("error",Xt)});return ne.then(Ne=>{Ne instanceof IDBCursor&&B.set(Ne,me)}).catch(()=>{}),Ae.set(ne,me),ne}(me);if(Ve.has(me))return Ve.get(me);const ne=mt(me);return ne!==me&&(Ve.set(me,ne),Ae.set(ne,me)),ne}const ye=me=>Ae.get(me),Re=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],oe=new Map;function ze(me,ne){if(!(me instanceof IDBDatabase)||ne in me||"string"!=typeof ne)return;if(oe.get(ne))return oe.get(ne);const Ne=ne.replace(/FromIndex$/,""),ft=ne!==Ne,Dt=Ue.includes(Ne);if(!(Ne in(ft?IDBIndex:IDBObjectStore).prototype)||!Dt&&!Re.includes(Ne))return;const Vt=function(){var Xt=(0,a.Z)(function*(rr,...Wn){const Po=this.transaction(rr,Dt?"readwrite":"readonly");let ns=Po.store;return ft&&(ns=ns.index(Wn.shift())),(yield Promise.all([ns[Ne](...Wn),Dt&&Po.done]))[0]});return function(Wn){return Xt.apply(this,arguments)}}();return oe.set(ne,Vt),Vt}!function Fe(me){qe=me(qe)}(me=>({...me,get:(ne,Ne,ft)=>ze(ne,Ne)||me.get(ne,Ne,ft),has:(ne,Ne)=>!!ze(ne,Ne)||me.has(ne,Ne)}));class Zt{constructor(ne){this.container=ne}getPlatformInfoString(){return this.container.getProviders().map(Ne=>{if(function _r(me){const ne=me.getComponent();return"VERSION"===ne?.type}(Ne)){const ft=Ne.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(Ne=>Ne).join(" ")}}const Qr="@firebase/app",jn=new P.Yd("@firebase/app"),We="[DEFAULT]",gt={[Qr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wt=new Map,yn=new Map;function Mn(me,ne){try{me.container.addComponent(ne)}catch(Ne){jn.debug(`Component ${ne.name} failed to register with FirebaseApp ${me.name}`,Ne)}}function Xr(me,ne){me.container.addOrOverwriteComponent(ne)}function an(me){const ne=me.name;if(yn.has(ne))return jn.debug(`There were multiple attempts to register component ${ne}.`),!1;yn.set(ne,me);for(const Ne of wt.values())Mn(Ne,me);return!0}function vr(me,ne){const Ne=me.container.getProvider("heartbeat").getImmediate({optional:!0});return Ne&&Ne.triggerHeartbeat(),me.container.getProvider(ne)}function Ka(me,ne,Ne=We){vr(me,ne).clearInstance(Ne)}function dn(){yn.clear()}const jt=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class io{constructor(ne,Ne,ft){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},Ne),this._name=Ne.name,this._automaticDataCollectionEnabled=Ne.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw jt.create("app-deleted",{appName:this._name})}}const Ss="9.23.0";function Ya(me,ne={}){let Ne=me;"object"!=typeof ne&&(ne={name:ne});const ft=Object.assign({name:We,automaticDataCollectionEnabled:!1},ne),Dt=ft.name;if("string"!=typeof Dt||!Dt)throw jt.create("bad-app-name",{appName:String(Dt)});if(Ne||(Ne=(0,te.aH)()),!Ne)throw jt.create("no-options");const Vt=wt.get(Dt);if(Vt){if((0,te.vZ)(Ne,Vt.options)&&(0,te.vZ)(ft,Vt.config))return Vt;throw jt.create("duplicate-app",{appName:Dt})}const Xt=new Z.H0(Dt);for(const Wn of yn.values())Xt.addComponent(Wn);const rr=new io(Ne,ft,Xt);return wt.set(Dt,rr),rr}function li(me=We){const ne=wt.get(me);if(!ne&&me===We&&(0,te.aH)())return Ya();if(!ne)throw jt.create("no-app",{appName:me});return ne}function oo(){return Array.from(wt.values())}function br(me){return nr.apply(this,arguments)}function nr(){return(nr=(0,a.Z)(function*(me){const ne=me.name;wt.has(ne)&&(wt.delete(ne),yield Promise.all(me.container.getProviders().map(Ne=>Ne.delete())),me.isDeleted=!0)})).apply(this,arguments)}function bn(me,ne,Ne){var ft;let Dt=null!==(ft=gt[me])&&void 0!==ft?ft:me;Ne&&(Dt+=`-${Ne}`);const Vt=Dt.match(/\s|\//),Xt=ne.match(/\s|\//);if(Vt||Xt){const rr=[`Unable to register library "${Dt}" with version "${ne}":`];return Vt&&rr.push(`library name "${Dt}" contains illegal characters (whitespace or "/")`),Vt&&Xt&&rr.push("and"),Xt&&rr.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void jn.warn(rr.join(" "))}an(new Z.wA(`${Dt}-version`,()=>({library:Dt,version:ne}),"VERSION"))}function so(me,ne){if(null!==me&&"function"!=typeof me)throw jt.create("invalid-log-argument");(0,P.Am)(me,ne)}function nn(me){(0,P.Ub)(me)}const ao="firebase-heartbeat-database",Yt=1,U="firebase-heartbeat-store";let V=null;function q(){return V||(V=function X(me,ne,{blocked:Ne,upgrade:ft,blocking:Dt,terminated:Vt}={}){const Xt=indexedDB.open(me,ne),rr=ie(Xt);return ft&&Xt.addEventListener("upgradeneeded",Wn=>{ft(ie(Xt.result),Wn.oldVersion,Wn.newVersion,ie(Xt.transaction),Wn)}),Ne&&Xt.addEventListener("blocked",Wn=>Ne(Wn.oldVersion,Wn.newVersion,Wn)),rr.then(Wn=>{Vt&&Wn.addEventListener("close",()=>Vt()),Dt&&Wn.addEventListener("versionchange",Po=>Dt(Po.oldVersion,Po.newVersion,Po))}).catch(()=>{}),rr}(ao,Yt,{upgrade:(me,ne)=>{0===ne&&me.createObjectStore(U)}}).catch(me=>{throw jt.create("idb-open",{originalErrorMessage:me.message})})),V}function se(){return(se=(0,a.Z)(function*(me){try{return yield(yield q()).transaction(U).objectStore(U).get(Mt(me))}catch(ne){if(ne instanceof te.ZR)jn.warn(ne.message);else{const Ne=jt.create("idb-get",{originalErrorMessage:ne?.message});jn.warn(Ne.message)}}})).apply(this,arguments)}function it(me,ne){return _t.apply(this,arguments)}function _t(){return(_t=(0,a.Z)(function*(me,ne){try{const ft=(yield q()).transaction(U,"readwrite");yield ft.objectStore(U).put(ne,Mt(me)),yield ft.done}catch(Ne){if(Ne instanceof te.ZR)jn.warn(Ne.message);else{const ft=jt.create("idb-set",{originalErrorMessage:Ne?.message});jn.warn(ft.message)}}})).apply(this,arguments)}function Mt(me){return`${me.name}!${me.options.appId}`}class It{constructor(ne){this.container=ne,this._heartbeatsCache=null;const Ne=this.container.getProvider("app").getImmediate();this._storage=new Ci(Ne),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var ne=this;return(0,a.Z)(function*(){const ft=ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Dt=Wt();if(null===ne._heartbeatsCache&&(ne._heartbeatsCache=yield ne._heartbeatsCachePromise),ne._heartbeatsCache.lastSentHeartbeatDate!==Dt&&!ne._heartbeatsCache.heartbeats.some(Vt=>Vt.date===Dt))return ne._heartbeatsCache.heartbeats.push({date:Dt,agent:ft}),ne._heartbeatsCache.heartbeats=ne._heartbeatsCache.heartbeats.filter(Vt=>{const Xt=new Date(Vt.date).valueOf();return Date.now()-Xt<=2592e6}),ne._storage.overwrite(ne._heartbeatsCache)})()}getHeartbeatsHeader(){var ne=this;return(0,a.Z)(function*(){if(null===ne._heartbeatsCache&&(yield ne._heartbeatsCachePromise),null===ne._heartbeatsCache||0===ne._heartbeatsCache.heartbeats.length)return"";const Ne=Wt(),{heartbeatsToSend:ft,unsentEntries:Dt}=function wr(me,ne=1024){const Ne=[];let ft=me.slice();for(const Dt of me){const Vt=Ne.find(Xt=>Xt.agent===Dt.agent);if(Vt){if(Vt.dates.push(Dt.date),co(Ne)>ne){Vt.dates.pop();break}}else if(Ne.push({agent:Dt.agent,dates:[Dt.date]}),co(Ne)>ne){Ne.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:Ne,unsentEntries:ft}}(ne._heartbeatsCache.heartbeats),Vt=(0,te.L)(JSON.stringify({version:2,heartbeats:ft}));return ne._heartbeatsCache.lastSentHeartbeatDate=Ne,Dt.length>0?(ne._heartbeatsCache.heartbeats=Dt,yield ne._storage.overwrite(ne._heartbeatsCache)):(ne._heartbeatsCache.heartbeats=[],ne._storage.overwrite(ne._heartbeatsCache)),Vt})()}}function Wt(){return(new Date).toISOString().substring(0,10)}class Ci{constructor(ne){this.app=ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ne=this;return(0,a.Z)(function*(){return(yield ne._canUseIndexedDBPromise)&&(yield function Ie(me){return se.apply(this,arguments)}(ne.app))||{heartbeats:[]}})()}overwrite(ne){var Ne=this;return(0,a.Z)(function*(){var ft;if(yield Ne._canUseIndexedDBPromise){const Vt=yield Ne.read();return it(Ne.app,{lastSentHeartbeatDate:null!==(ft=ne.lastSentHeartbeatDate)&&void 0!==ft?ft:Vt.lastSentHeartbeatDate,heartbeats:ne.heartbeats})}})()}add(ne){var Ne=this;return(0,a.Z)(function*(){var ft;if(yield Ne._canUseIndexedDBPromise){const Vt=yield Ne.read();return it(Ne.app,{lastSentHeartbeatDate:null!==(ft=ne.lastSentHeartbeatDate)&&void 0!==ft?ft:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...ne.heartbeats]})}})()}}function co(me){return(0,te.L)(JSON.stringify({version:2,heartbeats:me})).length}!function ui(me){an(new Z.wA("platform-logger",ne=>new Zt(ne),"PRIVATE")),an(new Z.wA("heartbeat",ne=>new It(ne),"PRIVATE")),bn(Qr,"0.9.13",me),bn(Qr,"0.9.13","esm2017"),bn("fire-js","")}("")},4537:(dt,Ce,O)=>{O.d(Ce,{H0:()=>Pe,wA:()=>P});var a=O(5861),Z=O(9058);class P{constructor(B,j,ee){this.name=B,this.instanceFactory=j,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const te="[DEFAULT]";class re{constructor(B,j){this.name=B,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const j=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(j)){const ee=new Z.BH;if(this.instancesDeferred.set(j,ee),this.isInitialized(j)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:j});Ve&&ee.resolve(Ve)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(B){var j;const ee=this.normalizeInstanceIdentifier(B?.identifier),Ve=null!==(j=B?.optional)&&void 0!==j&&j;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Ae){if(Ve)return null;throw Ae}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function _e(fe){return"EAGER"===fe.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[j,ee]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(j);try{const Ae=this.getOrInitializeService({instanceIdentifier:Ve});ee.resolve(Ae)}catch{}}}}clearInstance(B=te){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,a.Z)(function*(){const j=Array.from(B.instances.values());yield Promise.all([...j.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...j.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=te){return this.instances.has(B)}getOptions(B=te){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:j={}}=B,ee=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:ee,options:j});for(const[Ae,Ze]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Ae)&&Ze.resolve(Ve);return Ve}onInit(B,j){var ee;const Ve=this.normalizeInstanceIdentifier(j),Ae=null!==(ee=this.onInitCallbacks.get(Ve))&&void 0!==ee?ee:new Set;Ae.add(B),this.onInitCallbacks.set(Ve,Ae);const Ze=this.instances.get(Ve);return Ze&&B(Ze,Ve),()=>{Ae.delete(B)}}invokeOnInitCallbacks(B,j){const ee=this.onInitCallbacks.get(j);if(ee)for(const Ve of ee)try{Ve(B,j)}catch{}}getOrInitializeService({instanceIdentifier:B,options:j={}}){let ee=this.instances.get(B);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=B,fe===te?void 0:fe),options:j}),this.instances.set(B,ee),this.instancesOptions.set(B,j),this.invokeOnInitCallbacks(ee,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,ee)}catch{}var fe;return ee||null}normalizeInstanceIdentifier(B=te){return this.component?this.component.multipleInstances?B:te:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pe{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const j=this.getProvider(B.name);if(j.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);j.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const j=new re(B,this);return this.providers.set(B,j),j}getProviders(){return Array.from(this.providers.values())}}},7879:(dt,Ce,O)=>{O.d(Ce,{Am:()=>fe,Ub:()=>Pe,Yd:()=>_e,in:()=>Z});const a=[];var Z=(()=>((Z=Z||{})[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",Z))();const P={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},te=Z.INFO,re={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},ae=(B,j,...ee)=>{if(j<B.logLevel)return;const Ve=(new Date).toISOString(),Ae=re[j];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ae](`[${Ve}]  ${B.name}:`,...ee)};class _e{constructor(j){this.name=j,this._logLevel=te,this._logHandler=ae,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in Z))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?P[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...j),this._logHandler(this,Z.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...j),this._logHandler(this,Z.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...j),this._logHandler(this,Z.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...j),this._logHandler(this,Z.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...j),this._logHandler(this,Z.ERROR,...j)}}function Pe(B){a.forEach(j=>{j.setLogLevel(B)})}function fe(B,j){for(const ee of a){let Ve=null;j&&j.level&&(Ve=P[j.level]),ee.userLogHandler=null===B?null:(Ae,Ze,...Oe)=>{const qe=Oe.map(Fe=>{if(null==Fe)return null;if("string"==typeof Fe)return Fe;if("number"==typeof Fe||"boolean"==typeof Fe)return Fe.toString();if(Fe instanceof Error)return Fe.message;try{return JSON.stringify(Fe)}catch{return null}}).filter(Fe=>Fe).join(" ");Ze>=(Ve??Ae.logLevel)&&B({level:Z[Ze].toLowerCase(),message:qe,args:Oe,type:Ae.name})}}}},3182:(dt,Ce,O)=>{O.d(Ce,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=O(534);(0,a.registerVersion)("firebase","9.23.0","app")},7142:(dt,Ce,O)=>{O.d(Ce,{Z:()=>a.Z});var a=O(3106);a.Z.registerVersion("firebase","9.23.0","app-compat")},5967:(dt,Ce,O)=>{O.r(Ce);var a=O(5861),Z=O(3106),P=O(9058),te=O(534),re=O(7582),ae=O(7879),_e=O(4537);const fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ze=function Ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Oe=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qe=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vt=new ae.Yd("@firebase/auth");function ie(v,...f){vt.logLevel<=ae.in.ERROR&&vt.error(`Auth (${te.SDK_VERSION}): ${v}`,...f)}function ye(v,...f){throw Ue(v,...f)}function X(v,...f){return Ue(v,...f)}function ge(v,f,g){const b=Object.assign(Object.assign({},Oe()),{[f]:g});return new P.LL("auth","Firebase",b).create(f,{appName:v.name})}function Re(v,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&ye(v,"argument-error"),ge(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ue(v,...f){if("string"!=typeof v){const g=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(g,...b)}return qe.create(v,...f)}function oe(v,f,...g){if(!v)throw Ue(f,...g)}function ze(v){const f="INTERNAL ASSERTION FAILED: "+v;throw ie(f),new Error(f)}function Zt(v,f){v||ze(f)}function _r(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Qr(){return"http:"===ko()||"https:"===ko()}function ko(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Oo{constructor(f,g){this.shortDelay=f,this.longDelay=g,Zt(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function jn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Qr()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function le(v,f){Zt(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class pe{static initialize(f,g,b){this.fetchImpl=f,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},we=new Oo(3e4,6e4);function xe(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function Te(v,f,g,b){return tt.apply(this,arguments)}function tt(){return(tt=(0,a.Z)(function*(v,f,g,b,T={}){return at(v,T,(0,a.Z)(function*(){let R={},H={};b&&("GET"===f?H=b:R={body:JSON.stringify(b)});const Y=(0,P.xO)(Object.assign({key:v.config.apiKey},H)).slice(1),ke=yield v._getAdditionalHeaders();return ke["Content-Type"]="application/json",v.languageCode&&(ke["X-Firebase-Locale"]=v.languageCode),pe.fetch()(Nt(v,v.config.apiHost,g,Y),Object.assign({method:f,headers:ke,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function at(v,f,g){return zn.apply(this,arguments)}function zn(){return(zn=(0,a.Z)(function*(v,f,g){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},be),f);try{const T=new Sn(v),R=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const H=yield R.json();if("needConfirmation"in H)throw An(v,"account-exists-with-different-credential",H);if(R.ok&&!("errorMessage"in H))return H;{const Y=R.ok?H.errorMessage:H.error.message,[ke,je]=Y.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ke)throw An(v,"credential-already-in-use",H);if("EMAIL_EXISTS"===ke)throw An(v,"email-already-in-use",H);if("USER_DISABLED"===ke)throw An(v,"user-disabled",H);const ot=b[ke]||ke.toLowerCase().replace(/[_\s]+/g,"-");if(je)throw ge(v,ot,je);ye(v,ot)}}catch(T){if(T instanceof P.ZR)throw T;ye(v,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function bt(v,f,g,b){return tn.apply(this,arguments)}function tn(){return(tn=(0,a.Z)(function*(v,f,g,b,T={}){const R=yield Te(v,f,g,b,T);return"mfaPendingCredential"in R&&ye(v,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Nt(v,f,g,b){const T=`${f}${g}?${b}`;return v.config.emulator?le(v.config,T):`${v.config.apiScheme}://${T}`}class Sn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(X(this.auth,"network-request-failed")),we.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function An(v,f,g){const b={appName:v.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const T=X(v,f,b);return T.customData._tokenResponse=g,T}function un(){return(un=(0,a.Z)(function*(v,f){return Te(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function si(){return(si=(0,a.Z)(function*(v,f){return Te(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ai(){return(ai=(0,a.Z)(function*(v,f){return Te(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function ci(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function We(){return(We=(0,a.Z)(function*(v,f=!1){const g=(0,P.m9)(v),b=yield g.getIdToken(f),T=wt(b);oe(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const R="object"==typeof T.firebase?T.firebase:void 0,H=R?.sign_in_provider;return{claims:T,token:b,authTime:ci(gt(T.auth_time)),issuedAtTime:ci(gt(T.iat)),expirationTime:ci(gt(T.exp)),signInProvider:H||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function gt(v){return 1e3*Number(v)}function wt(v){const[f,g,b]=v.split(".");if(void 0===f||void 0===g||void 0===b)return ie("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,P.tV)(g);return T?JSON.parse(T):(ie("Failed to decode base64 JWT payload"),null)}catch(T){return ie("Caught error parsing JWT payload as JSON",T?.toString()),null}}function Mn(v,f){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,a.Z)(function*(v,f,g=!1){if(g)return f;try{return yield f}catch(b){throw b instanceof P.ZR&&function an({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}class vr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,a.Z)(function*(){yield g.iteration()}),b)}iteration(){var f=this;return(0,a.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class Ka{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=ci(this.lastLoginAt),this.creationTime=ci(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dn(v){return Sr.apply(this,arguments)}function Sr(){return Sr=(0,a.Z)(function*(v){var f;const g=v.auth,b=yield v.getIdToken(),T=yield Mn(v,function Za(v,f){return ai.apply(this,arguments)}(g,{idToken:b}));oe(T?.users.length,g,"internal-error");const R=T.users[0];v._notifyReloadListener(R);const H=null!==(f=R.providerUserInfo)&&void 0!==f&&f.length?function Ya(v){return v.map(f=>{var{providerId:g}=f,b=(0,re._T)(f,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(R.providerUserInfo):[],Y=function Ss(v,f){return[...v.filter(b=>!f.some(T=>T.providerId===b.providerId)),...f]}(v.providerData,H),ot=!!v.isAnonymous&&!(v.email&&R.passwordHash||Y?.length),lt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:Y,metadata:new Ka(R.createdAt,R.lastLoginAt),isAnonymous:ot};Object.assign(v,lt)}),Sr.apply(this,arguments)}function io(){return(io=(0,a.Z)(function*(v){const f=(0,P.m9)(v);yield dn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function oo(){return(oo=(0,a.Z)(function*(v,f){const g=yield at(v,{},(0,a.Z)(function*(){const b=(0,P.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:R}=v.config,H=Nt(v,T,"/v1/token",`key=${R}`),Y=yield v._getAdditionalHeaders();return Y["Content-Type"]="application/x-www-form-urlencoded",pe.fetch()(H,{method:"POST",headers:Y,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class br{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){oe(f.idToken,"internal-error"),oe(typeof f.idToken<"u","internal-error"),oe(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function yn(v){const f=wt(v);return oe(f,"internal-error"),oe(typeof f.exp<"u","internal-error"),oe(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var b=this;return(0,a.Z)(function*(){return oe(!b.accessToken||b.refreshToken,f,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var b=this;return(0,a.Z)(function*(){const{accessToken:T,refreshToken:R,expiresIn:H}=yield function li(v,f){return oo.apply(this,arguments)}(f,g);b.updateTokensAndExpiration(T,R,Number(H))})()}updateTokensAndExpiration(f,g,b){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,g){const{refreshToken:b,accessToken:T,expirationTime:R}=g,H=new br;return b&&(oe("string"==typeof b,"internal-error",{appName:f}),H.refreshToken=b),T&&(oe("string"==typeof T,"internal-error",{appName:f}),H.accessToken=T),R&&(oe("number"==typeof R,"internal-error",{appName:f}),H.expirationTime=R),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new br,this.toJSON())}_performRefresh(){return ze("not implemented")}}function nr(v,f){oe("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class bn{constructor(f){var{uid:g,auth:b,stsTokenManager:T}=f,R=(0,re._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Ka(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,a.Z)(function*(){const b=yield Mn(g,g.stsTokenManager.getToken(g.auth,f));return oe(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(f){return function Wa(v){return We.apply(this,arguments)}(this,f)}reload(){return function jt(v){return io.apply(this,arguments)}(this)}_assign(f){this!==f&&(oe(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new bn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var b=this;return(0,a.Z)(function*(){let T=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),T=!0),g&&(yield dn(b)),yield b.auth._persistUserIfCurrent(b),T&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,a.Z)(function*(){const g=yield f.getIdToken();return yield Mn(f,function yr(v,f){return un.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var b,T,R,H,Y,ke,je,ot;const lt=null!==(b=g.displayName)&&void 0!==b?b:void 0,Pn=null!==(T=g.email)&&void 0!==T?T:void 0,vs=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,ah=null!==(H=g.photoURL)&&void 0!==H?H:void 0,pg=null!==(Y=g.tenantId)&&void 0!==Y?Y:void 0,Yf=null!==(ke=g._redirectEventId)&&void 0!==ke?ke:void 0,Qf=null!==(je=g.createdAt)&&void 0!==je?je:void 0,mg=null!==(ot=g.lastLoginAt)&&void 0!==ot?ot:void 0,{uid:bu,emailVerified:wu,isAnonymous:gg,providerData:ch,stsTokenManager:lh}=g;oe(bu&&lh,f,"internal-error");const ev=br.fromJSON(this.name,lh);oe("string"==typeof bu,f,"internal-error"),nr(lt,f.name),nr(Pn,f.name),oe("boolean"==typeof wu,f,"internal-error"),oe("boolean"==typeof gg,f,"internal-error"),nr(vs,f.name),nr(ah,f.name),nr(pg,f.name),nr(Yf,f.name),nr(Qf,f.name),nr(mg,f.name);const uh=new bn({uid:bu,auth:f,email:Pn,emailVerified:wu,displayName:lt,isAnonymous:gg,photoURL:ah,phoneNumber:vs,tenantId:pg,stsTokenManager:ev,createdAt:Qf,lastLoginAt:mg});return ch&&Array.isArray(ch)&&(uh.providerData=ch.map(dh=>Object.assign({},dh))),Yf&&(uh._redirectEventId=Yf),uh}static _fromIdTokenResponse(f,g,b=!1){return(0,a.Z)(function*(){const T=new br;T.updateFromServerResponse(g);const R=new bn({uid:g.localId,auth:f,stsTokenManager:T,isAnonymous:b});return yield dn(R),R})()}}const so=new Map;function nn(v){Zt(v instanceof Function,"Expected a class definition");let f=so.get(v);return f?(Zt(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,so.set(v,f),f)}const Yt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(g,b){var T=this;return(0,a.Z)(function*(){T.storage[g]=b})()}_get(g){var b=this;return(0,a.Z)(function*(){const T=b.storage[g];return void 0===T?null:T})()}_remove(g){var b=this;return(0,a.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return v.type="NONE",v})();function U(v,f,g){return`firebase:${v}:${f}:${g}`}class V{constructor(f,g,b){this.persistence=f,this.auth=g,this.userKey=b;const{config:T,name:R}=this.auth;this.fullUserKey=U(this.userKey,T.apiKey,R),this.fullPersistenceKey=U("persistence",T.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,a.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?bn._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,a.Z)(function*(){if(g.persistence===f)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,b="authUser"){return(0,a.Z)(function*(){if(!g.length)return new V(nn(Yt),f,b);const T=(yield Promise.all(g.map(function(){var je=(0,a.Z)(function*(ot){if(yield ot._isAvailable())return ot});return function(ot){return je.apply(this,arguments)}}()))).filter(je=>je);let R=T[0]||nn(Yt);const H=U(b,f.config.apiKey,f.name);let Y=null;for(const je of g)try{const ot=yield je._get(H);if(ot){const lt=bn._fromJSON(f,ot);je!==R&&(Y=lt),R=je;break}}catch{}const ke=T.filter(je=>je._shouldAllowMigration);return R._shouldAllowMigration&&ke.length?(R=ke[0],Y&&(yield R._set(H,Y.toJSON())),yield Promise.all(g.map(function(){var je=(0,a.Z)(function*(ot){if(ot!==R)try{yield ot._remove(H)}catch{}});return function(ot){return je.apply(this,arguments)}}())),new V(R,f,b)):new V(R,f,b)})()}}function q(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(_t(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Ie(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(wn(f))return"Blackberry";if(fn(f))return"Webos";if(se(f))return"Safari";if((f.includes("chrome/")||it(f))&&!f.includes("edge/"))return"Chrome";if(Mt(f))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function Ie(v=(0,P.z$)()){return/firefox\//i.test(v)}function se(v=(0,P.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function it(v=(0,P.z$)()){return/crios\//i.test(v)}function _t(v=(0,P.z$)()){return/iemobile/i.test(v)}function Mt(v=(0,P.z$)()){return/android/i.test(v)}function wn(v=(0,P.z$)()){return/blackberry/i.test(v)}function fn(v=(0,P.z$)()){return/webos/i.test(v)}function It(v=(0,P.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function co(v=(0,P.z$)()){return It(v)||Mt(v)||fn(v)||wn(v)||/windows phone/i.test(v)||_t(v)}function me(v,f=[]){let g;switch(v){case"Browser":g=q((0,P.z$)());break;case"Worker":g=`${q((0,P.z$)())}-${v}`;break;default:g=v}const b=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${te.SDK_VERSION}/${b}`}function Ne(){return(Ne=(0,a.Z)(function*(v){return(yield Te(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ft(v,f){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,a.Z)(function*(v,f){return Te(v,"GET","/v2/recaptchaConfig",xe(v,f))})).apply(this,arguments)}function Vt(v){return void 0!==v&&void 0!==v.getResponse}function Xt(v){return void 0!==v&&void 0!==v.enterprise}class rr{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Po(v){return new Promise((f,g)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=f,b.onerror=T=>{const R=X("internal-error");R.customData=T,g(R)},b.type="text/javascript",b.charset="UTF-8",function Wn(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(b)})}function ns(v){return`__${v}${Math.floor(1e6*Math.random())}`}class gd{constructor(f){this.type="recaptcha-enterprise",this.auth=Kn(f)}verify(f="verify",g=!1){var b=this;return(0,a.Z)(function*(){function R(){return R=(0,a.Z)(function*(Y){if(!g){if(null==Y.tenantId&&null!=Y._agentRecaptchaConfig)return Y._agentRecaptchaConfig.siteKey;if(null!=Y.tenantId&&void 0!==Y._tenantRecaptchaConfigs[Y.tenantId])return Y._tenantRecaptchaConfigs[Y.tenantId].siteKey}return new Promise(function(){var ke=(0,a.Z)(function*(je,ot){ft(Y,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(lt=>{if(void 0!==lt.recaptchaKey){const Pn=new rr(lt);return null==Y.tenantId?Y._agentRecaptchaConfig=Pn:Y._tenantRecaptchaConfigs[Y.tenantId]=Pn,je(Pn.siteKey)}ot(new Error("recaptcha Enterprise site key undefined"))}).catch(lt=>{ot(lt)})});return function(je,ot){return ke.apply(this,arguments)}}())}),R.apply(this,arguments)}function H(Y,ke,je){const ot=window.grecaptcha;Xt(ot)?ot.enterprise.ready(()=>{ot.enterprise.execute(Y,{action:f}).then(lt=>{ke(lt)}).catch(()=>{ke("NO_RECAPTCHA")})}):je(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Y,ke)=>{(function T(Y){return R.apply(this,arguments)})(b.auth).then(je=>{if(!g&&Xt(window.grecaptcha))H(je,Y,ke);else{if(typeof window>"u")return void ke(new Error("RecaptchaVerifier is only supported in browser"));Po("https://www.google.com/recaptcha/enterprise.js?render="+je).then(()=>{H(je,Y,ke)}).catch(ot=>{ke(ot)})}}).catch(je=>{ke(je)})})})()}}function Ii(v,f,g){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,a.Z)(function*(v,f,g,b=!1){const T=new gd(v);let R;try{R=yield T.verify(g)}catch{R=yield T.verify(g,!0)}const H=Object.assign({},f);return Object.assign(H,b?{captchaResp:R}:{captchaResponse:R}),Object.assign(H,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(H,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),H})).apply(this,arguments)}class rs{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const b=R=>new Promise((H,Y)=>{try{H(f(R))}catch(ke){Y(ke)}});b.onAbort=g,this.queue.push(b);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,a.Z)(function*(){if(g.auth.currentUser===f)return;const b=[];try{for(const T of g.queue)yield T(f),T.onAbort&&b.push(T.onAbort)}catch(T){b.reverse();for(const R of b)try{R()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class _d{constructor(f,g,b,T){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=b,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hi(this),this.idTokenSubscription=new hi(this),this.beforeStateQueue=new rs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(f,g){var b=this;return g&&(this._popupRedirectResolver=nn(g)),this._initializationPromise=this.queue((0,a.Z)(function*(){var T,R;if(!b._deleted&&(b.persistenceManager=yield V.create(b,f),!b._deleted)){if(null!==(T=b._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(R=b.currentUser)||void 0===R?void 0:R.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,a.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,a.Z)(function*(){var b;const T=yield g.assertedPersistence.getCurrentUser();let R=T,H=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Y=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,ke=R?._redirectEventId,je=yield g.tryRedirectSignIn(f);(!Y||Y===ke)&&je?.user&&(R=je.user,H=!0)}if(!R)return g.directlySetCurrentUser(null);if(!R._redirectEventId){if(H)try{yield g.beforeStateQueue.runMiddleware(R)}catch(Y){R=T,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Y))}return R?g.reloadAndSetCurrentUserOrClear(R):g.directlySetCurrentUser(null)}return oe(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===R._redirectEventId?g.directlySetCurrentUser(R):g.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(f){var g=this;return(0,a.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,a.Z)(function*(){try{yield dn(f)}catch(b){if("auth/network-request-failed"!==b?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Qs(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,a.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,a.Z)(function*(){const b=f?(0,P.m9)(f):null;return b&&oe(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(f,g=!1){var b=this;return(0,a.Z)(function*(){if(!b._deleted)return f&&oe(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,a.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,a.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,a.Z)(function*(){yield g.assertedPersistence.setPersistence(nn(f))}))}initializeRecaptchaConfig(){var f=this;return(0,a.Z)(function*(){const g=yield ft(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new rr(g);null==f.tenantId?f._agentRecaptchaConfig=b:f._tenantRecaptchaConfigs[f.tenantId]=b,b.emailPasswordEnabled&&new gd(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new P.LL("auth","Firebase",f())}onAuthStateChanged(f,g,b){return this.registerStateListener(this.authStateSubscription,f,g,b)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,b){return this.registerStateListener(this.idTokenSubscription,f,g,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var b=this;return(0,a.Z)(function*(){const T=yield b.getOrInitRedirectPersistenceManager(g);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,a.Z)(function*(){if(!g.redirectPersistenceManager){const b=f&&nn(f)||g._popupRedirectResolver;oe(b,g,"argument-error"),g.redirectPersistenceManager=yield V.create(g,[nn(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,a.Z)(function*(){var b,T;return g._isInitialized&&(yield g.queue((0,a.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===f?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,a.Z)(function*(){if(f===g.currentUser)return g.queue((0,a.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,b,T){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),H=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(H,this,"internal-error"),H.then(()=>R(this.currentUser)),"function"==typeof g?f.addObserver(g,b,T):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,a.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=me(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,a.Z)(function*(){var g;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();T&&(b["X-Firebase-Client"]=T);const R=yield f._getAppCheckToken();return R&&(b["X-Firebase-AppCheck"]=R),b})()}_getAppCheckToken(){var f=this;return(0,a.Z)(function*(){var g;const b=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return b?.error&&function mt(v,...f){vt.logLevel<=ae.in.WARN&&vt.warn(`Auth (${te.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function Kn(v){return(0,P.m9)(v)}class hi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,P.ne)(g=>this.observer=g)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function No(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function kl(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class Fo{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ze("not implemented")}_getIdTokenResponse(f){return ze("not implemented")}_linkToIdToken(f,g){return ze("not implemented")}_getReauthenticationResolver(f){return ze("not implemented")}}function yd(v,f){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,a.Z)(function*(v,f){return Te(v,"POST","/v1/accounts:resetPassword",xe(v,f))})).apply(this,arguments)}function Js(v,f){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,a.Z)(function*(v,f){return Te(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function dr(){return(dr=(0,a.Z)(function*(v,f){return Te(v,"POST","/v1/accounts:update",xe(v,f))})).apply(this,arguments)}function hn(v,f){return is.apply(this,arguments)}function is(){return(is=(0,a.Z)(function*(v,f){return bt(v,"POST","/v1/accounts:signInWithPassword",xe(v,f))})).apply(this,arguments)}function Ar(v,f){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,a.Z)(function*(v,f){return Te(v,"POST","/v1/accounts:sendOobCode",xe(v,f))})).apply(this,arguments)}function ea(){return(ea=(0,a.Z)(function*(v,f){return Ar(v,f)})).apply(this,arguments)}function Xa(v,f){return vd.apply(this,arguments)}function vd(){return(vd=(0,a.Z)(function*(v,f){return Ar(v,f)})).apply(this,arguments)}function $n(v,f){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,a.Z)(function*(v,f){return Ar(v,f)})).apply(this,arguments)}function Cn(){return(Cn=(0,a.Z)(function*(v,f){return Ar(v,f)})).apply(this,arguments)}function ta(){return(ta=(0,a.Z)(function*(v,f){return bt(v,"POST","/v1/accounts:signInWithEmailLink",xe(v,f))})).apply(this,arguments)}function As(){return(As=(0,a.Z)(function*(v,f){return bt(v,"POST","/v1/accounts:signInWithEmailLink",xe(v,f))})).apply(this,arguments)}class Rn extends Fo{constructor(f,g,b,T=null){super("password",b),this._email=f,this._password=g,this._tenantId=T}static _fromEmailAndPassword(f,g){return new Rn(f,g,"password")}static _fromEmailAndCode(f,g,b=null){return new Rn(f,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,a.Z)(function*(){var b;switch(g.signInMethod){case"password":const T={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=f._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const R=yield Ii(f,T,"signInWithPassword");return hn(f,R)}return hn(f,T).catch(function(){var R=(0,a.Z)(function*(H){if("auth/missing-recaptcha-token"===H.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Y=yield Ii(f,T,"signInWithPassword");return hn(f,Y)}return Promise.reject(H)});return function(H){return R.apply(this,arguments)}}());case"emailLink":return function fi(v,f){return ta.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:ye(f,"internal-error")}})()}_linkToIdToken(f,g){var b=this;return(0,a.Z)(function*(){switch(b.signInMethod){case"password":return Js(f,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Ur(v,f){return As.apply(this,arguments)}(f,{idToken:g,email:b._email,oobCode:b._password});default:ye(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Er(v,f){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,a.Z)(function*(v,f){return bt(v,"POST","/v1/accounts:signInWithIdp",xe(v,f))})).apply(this,arguments)}class Jr extends Fo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Jr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):ye("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:T}=g,R=(0,re._T)(g,["providerId","signInMethod"]);if(!b||!T)return null;const H=new Jr(b,T);return H.idToken=R.idToken||void 0,H.accessToken=R.accessToken||void 0,H.secret=R.secret,H.nonce=R.nonce,H.pendingToken=R.pendingToken||null,H}_getIdTokenResponse(f){return Er(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Er(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Er(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,P.xO)(g)}return f}}function lo(){return(lo=(0,a.Z)(function*(v,f){return Te(v,"POST","/v1/accounts:sendVerificationCode",xe(v,f))})).apply(this,arguments)}function na(){return(na=(0,a.Z)(function*(v,f){return bt(v,"POST","/v1/accounts:signInWithPhoneNumber",xe(v,f))})).apply(this,arguments)}function rn(){return(rn=(0,a.Z)(function*(v,f){const g=yield bt(v,"POST","/v1/accounts:signInWithPhoneNumber",xe(v,f));if(g.temporaryProof)throw An(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ra={USER_NOT_FOUND:"user-not-found"};function pi(){return(pi=(0,a.Z)(function*(v,f){return bt(v,"POST","/v1/accounts:signInWithPhoneNumber",xe(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ra)})).apply(this,arguments)}class Gn extends Fo{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Gn({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Gn({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function Ln(v,f){return na.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Ja(v,f){return rn.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function wd(v,f){return pi.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:b,verificationCode:T}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:b,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:b,phoneNumber:T,temporaryProof:R}=f;return b||g||T||R?new Gn({verificationId:g,verificationCode:b,phoneNumber:T,temporaryProof:R}):null}}class Gt{constructor(f){var g,b,T,R,H,Y;const ke=(0,P.zd)((0,P.pd)(f)),je=null!==(g=ke.apiKey)&&void 0!==g?g:null,ot=null!==(b=ke.oobCode)&&void 0!==b?b:null,lt=function Fc(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=ke.mode)&&void 0!==T?T:null);oe(je&&ot&&lt,"argument-error"),this.apiKey=je,this.operation=lt,this.code=ot,this.continueUrl=null!==(R=ke.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(H=ke.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(Y=ke.tenantId)&&void 0!==Y?Y:null}static parseLink(f){const g=function Ms(v){const f=(0,P.zd)((0,P.pd)(v)).link,g=f?(0,P.zd)((0,P.pd)(f)).deep_link_id:null,b=(0,P.zd)((0,P.pd)(v)).deep_link_id;return(b?(0,P.zd)((0,P.pd)(b)).link:null)||b||g||f||v}(f);try{return new Gt(g)}catch{return null}}}let Lc=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,b){return Rn._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const T=Gt.parseLink(b);return oe(T,"argument-error"),Rn._fromEmailAndCode(g,T.code,T.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class uo{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ei extends uo{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Di extends ei{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return oe("providerId"in g&&"signInMethod"in g,"argument-error"),Jr._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return oe(f.idToken||f.accessToken,"argument-error"),Jr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Di.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Di.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:T,pendingToken:R,nonce:H,providerId:Y}=f;if(!b&&!T&&!g&&!R||!Y)return null;try{return new Di(Y)._credential({idToken:g,accessToken:b,nonce:H,pendingToken:R})}catch{return null}}}let Rs=(()=>{class v extends ei{constructor(){super("facebook.com")}static credential(g){return Jr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),ks=(()=>{class v extends ei{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return Jr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:T}=g;if(!b&&!T)return null;try{return v.credential(b,T)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),hr=(()=>{class v extends ei{constructor(){super("github.com")}static credential(g){return Jr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class qn extends Fo{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Er(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Er(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Er(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:T,pendingToken:R}=g;return b&&T&&R&&b===T?new qn(b,R):null}static _create(f,g){return new qn(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ia extends uo{constructor(f){oe(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ia.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ia.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=qn.fromJSON(f);return oe(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:b}=f;if(!g||!b)return null;try{return qn._create(b,g)}catch{return null}}}let Vo=(()=>{class v extends ei{constructor(){super("twitter.com")}static credential(g,b){return Jr._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:T}=g;if(!b||!T)return null;try{return v.credential(b,T)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Bo(v,f){return xr.apply(this,arguments)}function xr(){return(xr=(0,a.Z)(function*(v,f){return bt(v,"POST","/v1/accounts:signUp",xe(v,f))})).apply(this,arguments)}class Mr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,b,T=!1){return(0,a.Z)(function*(){const R=yield bn._fromIdTokenResponse(f,b,T),H=Nl(b);return new Mr({user:R,providerId:H,_tokenResponse:b,operationType:g})})()}static _forOperation(f,g,b){return(0,a.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const T=Nl(b);return new Mr({user:f,providerId:T,_tokenResponse:b,operationType:g})})()}}function Nl(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Ed(){return(Ed=(0,a.Z)(function*(v){var f;const g=Kn(v);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new Mr({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Bo(g,{returnSecureToken:!0}),T=yield Mr._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class ec extends P.ZR{constructor(f,g,b,T){var R;super(g.code,g.message),this.operationType=b,this.user=T,Object.setPrototypeOf(this,ec.prototype),this.customData={appName:f.name,tenantId:null!==(R=f.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,g,b,T){return new ec(f,g,b,T)}}function gf(v,f,g,b){return("reauthenticate"===f?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?ec._fromErrorAndOperation(v,R,f,b):R})}function _f(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function ho(){return ho=(0,a.Z)(function*(v,f){const g=(0,P.m9)(v);yield tc(!0,g,f);const{providerUserInfo:b}=yield function Br(v,f){return si.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),T=_f(b||[]);return g.providerData=g.providerData.filter(R=>T.has(R.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),ho.apply(this,arguments)}function Fl(v,f){return xd.apply(this,arguments)}function xd(){return(xd=(0,a.Z)(function*(v,f,g=!1){const b=yield Mn(v,f._linkToIdToken(v.auth,yield v.getIdToken()),g);return Mr._forOperation(v,"link",b)})).apply(this,arguments)}function tc(v,f,g){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,a.Z)(function*(v,f,g){yield dn(f);const T=!1===v?"provider-already-linked":"no-such-provider";oe(_f(f.providerData).has(g)===v,f.auth,T)})).apply(this,arguments)}function yf(v,f){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,a.Z)(function*(v,f,g=!1){const{auth:b}=v,T="reauthenticate";try{const R=yield Mn(v,gf(b,T,f,v),g);oe(R.idToken,b,"internal-error");const H=wt(R.idToken);oe(H,b,"internal-error");const{sub:Y}=H;return oe(v.uid===Y,b,"user-mismatch"),Mr._forOperation(v,T,R)}catch(R){throw"auth/user-not-found"===R?.code&&ye(b,"user-mismatch"),R}})).apply(this,arguments)}function vf(v,f){return Id.apply(this,arguments)}function Id(){return(Id=(0,a.Z)(function*(v,f,g=!1){const b="signIn",T=yield gf(v,b,f),R=yield Mr._fromIdTokenResponse(v,b,T);return g||(yield v._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Vl(v,f){return nc.apply(this,arguments)}function nc(){return(nc=(0,a.Z)(function*(v,f){return vf(Kn(v),f)})).apply(this,arguments)}function Dd(v,f){return Td.apply(this,arguments)}function Td(){return(Td=(0,a.Z)(function*(v,f){const g=(0,P.m9)(v);return yield tc(!1,g,f.providerId),Fl(g,f)})).apply(this,arguments)}function Zn(v,f){return bf.apply(this,arguments)}function bf(){return(bf=(0,a.Z)(function*(v,f){return yf((0,P.m9)(v),f)})).apply(this,arguments)}function Sd(){return(Sd=(0,a.Z)(function*(v,f){return bt(v,"POST","/v1/accounts:signInWithCustomToken",xe(v,f))})).apply(this,arguments)}function Ti(){return Ti=(0,a.Z)(function*(v,f){const g=Kn(v),b=yield function oa(v,f){return Sd.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),T=yield Mr._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(T.user),T}),Ti.apply(this,arguments)}class rc{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?ic._fromServerResponse(f,g):"totpInfo"in g?Ad._fromServerResponse(f,g):ye(f,"internal-error")}}class ic extends rc{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new ic(g)}}class Ad extends rc{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new Ad(g)}}function aa(v,f,g){var b;oe((null===(b=g.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),oe(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(oe(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(oe(g.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function ca(){return ca=(0,a.Z)(function*(v,f,g){var b;const T=Kn(v),R={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=T._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const H=yield Ii(T,R,"getOobCode",!0);g&&aa(T,H,g),yield Xa(T,H)}else g&&aa(T,R,g),yield Xa(T,R).catch(function(){var H=(0,a.Z)(function*(Y){if("auth/missing-recaptcha-token"!==Y.code)return Promise.reject(Y);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const ke=yield Ii(T,R,"getOobCode",!0);g&&aa(T,ke,g),yield Xa(T,ke)}});return function(Y){return H.apply(this,arguments)}}())}),ca.apply(this,arguments)}function la(){return(la=(0,a.Z)(function*(v,f,g){yield yd((0,P.m9)(v),{oobCode:f,newPassword:g})})).apply(this,arguments)}function ti(){return ti=(0,a.Z)(function*(v,f){yield function Bt(v,f){return dr.apply(this,arguments)}((0,P.m9)(v),{oobCode:f})}),ti.apply(this,arguments)}function Md(v,f){return ua.apply(this,arguments)}function ua(){return(ua=(0,a.Z)(function*(v,f){const g=(0,P.m9)(v),b=yield yd(g,{oobCode:f}),T=b.requestType;switch(oe(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(b.mfaInfo,g,"internal-error");default:oe(b.email,g,"internal-error")}let R=null;return b.mfaInfo&&(R=rc._fromServerResponse(Kn(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:R},operation:T}})).apply(this,arguments)}function Uo(){return(Uo=(0,a.Z)(function*(v,f){const{data:g}=yield Md((0,P.m9)(v),f);return g.email})).apply(this,arguments)}function Bl(){return Bl=(0,a.Z)(function*(v,f,g){var b;const T=Kn(v),R={returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"};let H;if(null!==(b=T._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const je=yield Ii(T,R,"signUpPassword");H=Bo(T,je)}else H=Bo(T,R).catch(function(){var je=(0,a.Z)(function*(ot){if("auth/missing-recaptcha-token"===ot.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const lt=yield Ii(T,R,"signUpPassword");return Bo(T,lt)}return Promise.reject(ot)});return function(ot){return je.apply(this,arguments)}}());const Y=yield H.catch(je=>Promise.reject(je)),ke=yield Mr._fromIdTokenResponse(T,"signIn",Y);return yield T._updateCurrentUser(ke.user),ke}),Bl.apply(this,arguments)}function Vc(){return Vc=(0,a.Z)(function*(v,f,g){var b;const T=Kn(v),R={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function H(Y,ke){oe(ke.handleCodeInApp,T,"argument-error"),ke&&aa(T,Y,ke)}if(null!==(b=T._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const Y=yield Ii(T,R,"getOobCode",!0);H(Y,g),yield $n(T,Y)}else H(R,g),yield $n(T,R).catch(function(){var Y=(0,a.Z)(function*(ke){if("auth/missing-recaptcha-token"!==ke.code)return Promise.reject(ke);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const je=yield Ii(T,R,"getOobCode",!0);H(je,g),yield $n(T,je)}});return function(ke){return Y.apply(this,arguments)}}())}),Vc.apply(this,arguments)}function wf(){return(wf=(0,a.Z)(function*(v,f,g){const b=(0,P.m9)(v),T=Lc.credentialWithLink(f,g||_r());return oe(T._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Vl(b,T)})).apply(this,arguments)}function Od(){return(Od=(0,a.Z)(function*(v,f){return Te(v,"POST","/v1/accounts:createAuthUri",xe(v,f))})).apply(this,arguments)}function jl(){return jl=(0,a.Z)(function*(v,f){const b={identifier:f,continueUri:Qr()?_r():"http://localhost"},{signinMethods:T}=yield function Ef(v,f){return Od.apply(this,arguments)}((0,P.m9)(v),b);return T||[]}),jl.apply(this,arguments)}function ha(){return ha=(0,a.Z)(function*(v,f){const g=(0,P.m9)(v),T={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&aa(g.auth,T,f);const{email:R}=yield function Pl(v,f){return ea.apply(this,arguments)}(g.auth,T);R!==v.email&&(yield v.reload())}),ha.apply(this,arguments)}function sc(){return sc=(0,a.Z)(function*(v,f,g){const b=(0,P.m9)(v),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};g&&aa(b.auth,R,g);const{email:H}=yield function kt(v,f){return Cn.apply(this,arguments)}(b.auth,R);H!==v.email&&(yield v.reload())}),sc.apply(this,arguments)}function $l(){return($l=(0,a.Z)(function*(v,f){return Te(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Uc(){return Uc=(0,a.Z)(function*(v,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const b=(0,P.m9)(v),R={idToken:yield b.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},H=yield Mn(b,function xf(v,f){return $l.apply(this,arguments)}(b.auth,R));b.displayName=H.displayName||null,b.photoURL=H.photoUrl||null;const Y=b.providerData.find(({providerId:ke})=>"password"===ke);Y&&(Y.displayName=b.displayName,Y.photoURL=b.photoURL),yield b._updateTokensIfNecessary(H)}),Uc.apply(this,arguments)}function po(v,f,g){return ac.apply(this,arguments)}function ac(){return(ac=(0,a.Z)(function*(v,f,g){const{auth:b}=v,R={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(R.email=f),g&&(R.password=g);const H=yield Mn(v,Js(b,R));yield v._updateTokensIfNecessary(H,!0)})).apply(this,arguments)}class on{constructor(f,g,b={}){this.isNewUser=f,this.providerId=g,this.profile=b}}class cc extends on{constructor(f,g,b,T){super(f,g,b),this.username=T}}class fa extends on{constructor(f,g){super(f,"facebook.com",g)}}class kr extends cc{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class pa extends on{constructor(f,g){super(f,"google.com",g)}}class Fd extends cc{constructor(f,g,b){super(f,"twitter.com",g,b)}}function Ho(v){const{user:f,_tokenResponse:g}=v;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Nd(v){var f,g;if(!v)return null;const{providerId:b}=v,T=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},R=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&v?.idToken){const H=null===(g=null===(f=wt(v.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(H)return new on(R,"anonymous"!==H&&"custom"!==H?H:null)}if(!b)return null;switch(b){case"facebook.com":return new fa(R,T);case"github.com":return new kr(R,T);case"google.com":return new pa(R,T);case"twitter.com":return new Fd(R,T,v.screenName||null);case"custom":case"anonymous":return new on(R,null);default:return new on(R,b,T)}}(g)}class ss{constructor(f,g,b){this.type=f,this.credential=g,this.auth=b}static _fromIdtoken(f,g){return new ss("enroll",f,g)}static _fromMfaPendingCredential(f){return new ss("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,b;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return ss._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return ss._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ct{constructor(f,g,b){this.session=f,this.hints=g,this.signInResolver=b}static _fromError(f,g){const b=Kn(f),T=g.customData._serverResponse,R=(T.mfaInfo||[]).map(Y=>rc._fromServerResponse(b,Y));oe(T.mfaPendingCredential,b,"internal-error");const H=ss._fromMfaPendingCredential(T.mfaPendingCredential);return new Ct(H,R,function(){var Y=(0,a.Z)(function*(ke){const je=yield ke._process(b,H);delete T.mfaInfo,delete T.mfaPendingCredential;const ot=Object.assign(Object.assign({},T),{idToken:je.idToken,refreshToken:je.refreshToken});switch(g.operationType){case"signIn":const lt=yield Mr._fromIdTokenResponse(b,g.operationType,ot);return yield b._updateCurrentUser(lt.user),lt;case"reauthenticate":return oe(g.user,b,"internal-error"),Mr._forOperation(g.user,g.operationType,ot);default:ye(b,"internal-error")}});return function(ke){return Y.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,a.Z)(function*(){return g.signInResolver(f)})()}}class Ai{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>rc._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new Ai(f)}getSession(){var f=this;return(0,a.Z)(function*(){return ss._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var b=this;return(0,a.Z)(function*(){const T=f,R=yield b.getSession(),H=yield Mn(b.user,T._process(b.user.auth,R,g));return yield b.user._updateTokensIfNecessary(H),b.user.reload()})()}unenroll(f){var g=this;return(0,a.Z)(function*(){const b="string"==typeof f?f:f.uid,T=yield g.user.getIdToken();try{const R=yield Mn(g.user,function Yl(v,f){return Te(v,"POST","/v2/accounts/mfaEnrollment:withdraw",xe(v,f))}(g.user.auth,{idToken:T,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:H})=>H!==b),yield g.user._updateTokensIfNecessary(R),yield g.user.reload()}catch(R){throw R}})()}}const ma=new WeakMap,Ql="__sak";class Xl{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ql,"1"),this.storage.removeItem(Ql),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const as=(()=>{class v extends Xl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Tf(){const v=(0,P.z$)();return se(v)||It(v)}()&&function ui(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=co(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const T=this.storage.getItem(b),R=this.localCache[b];T!==R&&g(b,R,T)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((Y,ke,je)=>{this.notifyListeners(Y,je)});const T=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Y=this.storage.getItem(T);if(g.newValue!==Y)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!b)return}const R=()=>{const Y=this.storage.getItem(T);!b&&this.localCache[T]===Y||this.notifyListeners(T,Y)},H=this.storage.getItem(T);!function Ci(){return(0,P.w1)()&&10===document.documentMode}()||H===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,b){this.localCache[g]=b;const T=this.listeners[g];if(T)for(const R of Array.from(T))R(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var T=()=>super._set,R=this;return(0,a.Z)(function*(){yield T().call(R,g,b),R.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,T=this;return(0,a.Z)(function*(){const R=yield b().call(T,g);return T.localCache[g]=JSON.stringify(R),R})()}_remove(g){var b=()=>super._remove,T=this;return(0,a.Z)(function*(){yield b().call(T,g),delete T.localCache[g]})()}}return v.type="LOCAL",v})(),cs=(()=>{class v extends Xl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return v.type="SESSION",v})();let ji=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(R=>R.isListeningto(g));if(b)return b;const T=new v(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,a.Z)(function*(){const T=g,{eventId:R,eventType:H,data:Y}=T.data,ke=b.handlersMap[H];if(!ke?.size)return;T.ports[0].postMessage({status:"ack",eventId:R,eventType:H});const je=Array.from(ke).map(function(){var lt=(0,a.Z)(function*(Pn){return Pn(T.origin,Y)});return function(Pn){return lt.apply(this,arguments)}}()),ot=yield function jc(v){return Promise.all(v.map(function(){var f=(0,a.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return f.apply(this,arguments)}}()))}(je);T.ports[0].postMessage({status:"done",eventId:R,eventType:H,response:ot})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function lc(v="",f=10){let g="";for(let b=0;b<f;b++)g+=Math.floor(10*Math.random());return v+g}class Jl{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,b=50){var T=this;return(0,a.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let H,Y;return new Promise((ke,je)=>{const ot=lc("",20);R.port1.start();const lt=setTimeout(()=>{je(new Error("unsupported_event"))},b);Y={messageChannel:R,onMessage(Pn){const vs=Pn;if(vs.data.eventId===ot)switch(vs.data.status){case"ack":clearTimeout(lt),H=setTimeout(()=>{je(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),ke(vs.data.response);break;default:clearTimeout(lt),clearTimeout(H),je(new Error("invalid_response"))}}},T.handlers.add(Y),R.port1.addEventListener("message",Y.onMessage),T.target.postMessage({eventType:f,eventId:ot,data:g},[R.port2])}).finally(()=>{Y&&T.removeMessageHandler(Y)})})()}}function Vn(){return window}function zc(){return typeof Vn().WorkerGlobalScope<"u"&&"function"==typeof Vn().importScripts}function Mi(){return(Mi=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const zi="firebaseLocalStorageDb",ga="firebaseLocalStorage",jd="fbase_key";class uc{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function dc(v,f){return v.transaction([ga],f?"readwrite":"readonly").objectStore(ga)}function hc(){const v=indexedDB.open(zi,1);return new Promise((f,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(ga,{keyPath:jd})}catch(T){g(T)}}),v.addEventListener("success",(0,a.Z)(function*(){const b=v.result;b.objectStoreNames.contains(ga)?f(b):(b.close(),yield function eu(){const v=indexedDB.deleteDatabase(zi);return new uc(v).toPromise()}(),f(yield hc()))}))})}function Os(v,f,g){return go.apply(this,arguments)}function go(){return(go=(0,a.Z)(function*(v,f,g){const b=dc(v,!0).put({[jd]:f,value:g});return new uc(b).toPromise()})).apply(this,arguments)}function fc(){return(fc=(0,a.Z)(function*(v,f){const g=dc(v,!1).get(f),b=yield new uc(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function pc(v,f){const g=dc(v,!0).delete(f);return new uc(g).toPromise()}const Ps=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,a.Z)(function*(){return g.db||(g.db=yield hc()),g.db})()}_withRetries(g){var b=this;return(0,a.Z)(function*(){let T=0;for(;;)try{const R=yield b._openDb();return yield g(R)}catch(R){if(T++>3)throw R;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,a.Z)(function*(){return zc()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,a.Z)(function*(){g.receiver=ji._getInstance(function kn(){return zc()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,a.Z)(function*(T,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(T,R){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,a.Z)(function*(T,R){return["keyChanged"]});return function(T,R){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,a.Z)(function*(){var b,T;if(g.activeServiceWorker=yield function Hr(){return Mi.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Jl(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);R&&null!==(b=R[0])&&void 0!==b&&b.fulfilled&&null!==(T=R[0])&&void 0!==T&&T.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,a.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function $c(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const g=yield hc();return yield Os(g,Ql,"1"),yield pc(g,Ql),!0}catch{}return!1})()}_withPendingWrite(g){var b=this;return(0,a.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var T=this;return(0,a.Z)(function*(){return T._withPendingWrite((0,a.Z)(function*(){return yield T._withRetries(R=>Os(R,g,b)),T.localCache[g]=b,T.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,a.Z)(function*(){const T=yield b._withRetries(R=>function Gc(v,f){return fc.apply(this,arguments)}(R,g));return b.localCache[g]=T,T})()}_remove(g){var b=this;return(0,a.Z)(function*(){return b._withPendingWrite((0,a.Z)(function*(){return yield b._withRetries(T=>pc(T,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,a.Z)(function*(){const b=yield g._withRetries(H=>{const Y=dc(H,!1).getAll();return new uc(Y).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const T=[],R=new Set;for(const{fbase_key:H,value:Y}of b)R.add(H),JSON.stringify(g.localCache[H])!==JSON.stringify(Y)&&(g.notifyListeners(H,Y),T.push(H));for(const H of Object.keys(g.localCache))g.localCache[H]&&!R.has(H)&&(g.notifyListeners(H,null),T.push(H));return T})()}notifyListeners(g,b){this.localCache[g]=b;const T=this.listeners[g];if(T)for(const R of Array.from(T))R(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),_a=1e12;class Mf{constructor(f){this.auth=f,this.counter=_a,this._widgets=new Map}render(f,g){const b=this.counter;return this._widgets.set(b,new ya(f,this.auth.name,g||{})),this.counter++,b}reset(f){var g;const b=f||_a;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(f){var g;return(null===(g=this._widgets.get(f||_a))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,a.Z)(function*(){var b;return null===(b=g._widgets.get(f||_a))||void 0===b||b.execute(),""})()}}class ya{constructor(f,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;oe(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Rf(v){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)f.push(g.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const mc=ns("rcb"),nu=new Oo(3e4,6e4);class Ns{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Vn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return oe(function $d(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&Vt(Vn().grecaptcha)?Promise.resolve(Vn().grecaptcha):new Promise((b,T)=>{const R=Vn().setTimeout(()=>{T(X(f,"network-request-failed"))},nu.get());Vn()[mc]=()=>{Vn().clearTimeout(R),delete Vn()[mc];const Y=Vn().grecaptcha;if(!Y||!Vt(Y))return void T(X(f,"internal-error"));const ke=Y.render;Y.render=(je,ot)=>{const lt=ke(je,ot);return this.counter++,lt},this.hostLanguage=g,b(Y)},Po(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:mc,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),T(X(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=Vn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ru{load(f){return(0,a.Z)(function*(){return new Mf(f)})()}clearedOneInstance(){}}const va="recaptcha",iu={theme:"light",type:"image"};class qc{constructor(f,g=Object.assign({},iu),b){this.parameters=g,this.type=va,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kn(b),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;oe(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ru:new Ns,this.validateStartingState()}verify(){var f=this;return(0,a.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(g)||new Promise(R=>{const H=Y=>{Y&&(f.tokenChangeListeners.delete(H),R(Y))};f.tokenChangeListeners.add(H),f.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof f)f(g);else if("string"==typeof f){const b=Vn()[f];"function"==typeof b&&b(g)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,a.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,a.Z)(function*(){oe(Qr()&&!zc(),f.auth,"internal-error"),yield function In(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function ne(v){return Ne.apply(this,arguments)}(f.auth);oe(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _o{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Gn._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function $i(){return($i=(0,a.Z)(function*(v,f,g){const b=Kn(v),T=yield ct(b,f,(0,P.m9)(g));return new _o(T,R=>Vl(b,R))})).apply(this,arguments)}function yo(){return(yo=(0,a.Z)(function*(v,f,g){const b=(0,P.m9)(v);yield tc(!1,b,"phone");const T=yield ct(b.auth,f,(0,P.m9)(g));return new _o(T,R=>Dd(b,R))})).apply(this,arguments)}function Jt(){return(Jt=(0,a.Z)(function*(v,f,g){const b=(0,P.m9)(v),T=yield ct(b.auth,f,(0,P.m9)(g));return new _o(T,R=>Zn(b,R))})).apply(this,arguments)}function ct(v,f,g){return Cr.apply(this,arguments)}function Cr(){return Cr=(0,a.Z)(function*(v,f,g){var b;const T=yield g.verify();try{let R;if(oe("string"==typeof T,v,"argument-error"),oe(g.type===va,v,"argument-error"),R="string"==typeof f?{phoneNumber:f}:f,"session"in R){const H=R.session;if("phoneNumber"in R)return oe("enroll"===H.type,v,"internal-error"),(yield function Bd(v,f){return Te(v,"POST","/v2/accounts/mfaEnrollment:start",xe(v,f))}(v,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{oe("signin"===H.type,v,"internal-error");const Y=(null===(b=R.multiFactorHint)||void 0===b?void 0:b.uid)||R.multiFactorUid;return oe(Y,v,"missing-multi-factor-info"),(yield function zd(v,f){return Te(v,"POST","/v2/accounts/mfaSignIn:start",xe(v,f))}(v,{mfaPendingCredential:H.credential,mfaEnrollmentId:Y,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield function bd(v,f){return lo.apply(this,arguments)}(v,{phoneNumber:R.phoneNumber,recaptchaToken:T});return H}}finally{g._reset()}}),Cr.apply(this,arguments)}function Ir(){return(Ir=(0,a.Z)(function*(v,f){yield Fl((0,P.m9)(v),f)})).apply(this,arguments)}let ba=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=Kn(g)}verifyPhoneNumber(g,b){return ct(this.auth,g,(0,P.m9)(b))}static credential(g,b){return Gn._fromVerification(g,b)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:T}=g;return b&&T?Gn._fromTokenResponse(b,T):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ir(v,f){return f?nn(f):(oe(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class rt extends Fo{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Er(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Er(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Er(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Gd(v){return vf(v.auth,new rt(v),v.bypassAuthState)}function _c(v){const{auth:f,user:g}=v;return oe(g,f,"internal-error"),yf(g,new rt(v),v.bypassAuthState)}function ds(v){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,a.Z)(function*(v){const{auth:f,user:g}=v;return oe(g,f,"internal-error"),Fl(g,new rt(v),v.bypassAuthState)})).apply(this,arguments)}class qd{constructor(f,g,b,T,R=!1){this.auth=f,this.resolver=b,this.user=T,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,a.Z)(function*(b,T){f.pendingPromise={resolve:b,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(R){f.reject(R)}});return function(b,T){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,a.Z)(function*(){const{urlResponse:b,sessionId:T,postBody:R,tenantId:H,error:Y,type:ke}=f;if(Y)return void g.reject(Y);const je={auth:g.auth,requestUri:b,sessionId:T,tenantId:H||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(ke)(je))}catch(ot){g.reject(ot)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Gd;case"linkViaPopup":case"linkViaRedirect":return ds;case"reauthViaPopup":case"reauthViaRedirect":return _c;default:ye(this.auth,"internal-error")}}resolve(f){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gi=new Oo(2e3,1e4);function ou(){return(ou=(0,a.Z)(function*(v,f,g){const b=Kn(v);Re(v,f,uo);const T=ir(b,g);return new qi(b,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function su(){return(su=(0,a.Z)(function*(v,f,g){const b=(0,P.m9)(v);Re(b.auth,f,uo);const T=ir(b.auth,g);return new qi(b.auth,"reauthViaPopup",f,T,b).executeNotNull()})).apply(this,arguments)}function wa(){return(wa=(0,a.Z)(function*(v,f,g){const b=(0,P.m9)(v);Re(b.auth,f,uo);const T=ir(b.auth,g);return new qi(b.auth,"linkViaPopup",f,T,b).executeNotNull()})).apply(this,arguments)}let qi=(()=>{class v extends qd{constructor(g,b,T,R,H){super(g,b,R,H),this.provider=T,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,a.Z)(function*(){const b=yield g.execute();return oe(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,a.Z)(function*(){Zt(1===g.filter.length,"Popup operations only handle one event");const b=lc();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(X(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(X(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,T;this.pollId=null!==(T=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(X(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Gi.get())};g()}}return v.currentPopupAction=null,v})();const jo="pendingRedirect",Ea=new Map;class Pf extends qd{constructor(f,g,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,a.Z)(function*(){let b=Ea.get(g.auth._key());if(!b){try{const R=(yield function Wc(v,f){return cu.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;b=()=>Promise.resolve(R)}catch(T){b=()=>Promise.reject(T)}Ea.set(g.auth._key(),b)}return g.bypassAuthState||Ea.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,b=this;return(0,a.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(b,f);if("unknown"!==f.type){if(f.eventId){const T=yield b.auth._redirectUserForId(f.eventId);if(T)return b.user=T,g().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function cu(){return(cu=(0,a.Z)(function*(v,f){const g=uu(f),b=fs(v);if(!(yield b._isAvailable()))return!1;const T="true"===(yield b._get(g));return yield b._remove(g),T})).apply(this,arguments)}function Zd(v,f){return lu.apply(this,arguments)}function lu(){return(lu=(0,a.Z)(function*(v,f){return fs(v)._set(uu(f),"true")})).apply(this,arguments)}function zo(v,f){Ea.set(v._key(),f)}function fs(v){return nn(v._redirectPersistence)}function uu(v){return U(jo,v.config.apiKey,v.name)}function Kd(v,f,g){return function Yd(v,f,g){return ps.apply(this,arguments)}(v,f,g)}function ps(){return(ps=(0,a.Z)(function*(v,f,g){const b=Kn(v);Re(v,f,uo),yield b._initializationPromise;const T=ir(b,g);return yield Zd(T,b),T._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function Kc(v,f,g){return function Qd(v,f,g){return yc.apply(this,arguments)}(v,f,g)}function yc(){return(yc=(0,a.Z)(function*(v,f,g){const b=(0,P.m9)(v);Re(b.auth,f,uo),yield b.auth._initializationPromise;const T=ir(b.auth,g);yield Zd(T,b.auth);const R=yield xa(b);return T._openRedirect(b.auth,f,"reauthViaRedirect",R)})).apply(this,arguments)}function Nf(v,f,g){return function eg(v,f,g){return ms.apply(this,arguments)}(v,f,g)}function ms(){return(ms=(0,a.Z)(function*(v,f,g){const b=(0,P.m9)(v);Re(b.auth,f,uo),yield b.auth._initializationPromise;const T=ir(b.auth,g);yield tc(!1,b,f.providerId),yield Zd(T,b.auth);const R=yield xa(b);return T._openRedirect(b.auth,f,"linkViaRedirect",R)})).apply(this,arguments)}function On(){return(On=(0,a.Z)(function*(v,f){return yield Kn(v)._initializationPromise,$o(v,f,!1)})).apply(this,arguments)}function $o(v,f){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,a.Z)(function*(v,f,g=!1){const b=Kn(v),T=ir(b,f),H=yield new Pf(b,T,g).execute();return H&&!g&&(delete H.user._redirectEventId,yield b._persistUserIfCurrent(H.user),yield b._setRedirectUser(null,f)),H})).apply(this,arguments)}function xa(v){return bo.apply(this,arguments)}function bo(){return(bo=(0,a.Z)(function*(v){const f=lc(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class pn{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(g=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Qc(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return or(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var b;if(f.error&&!or(f)){const T=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(X(this.auth,T))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const b=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hu(f))}saveEventToCache(f){this.cachedEventUids.add(hu(f)),this.lastProcessedEventTime=Date.now()}}function hu(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function or({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===f?.code}function wo(v){return tg.apply(this,arguments)}function tg(){return(tg=(0,a.Z)(function*(v,f={}){return Te(v,"GET","/v1/projects",f)})).apply(this,arguments)}const Xc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ca=/^https?/;function Zi(){return(Zi=(0,a.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield wo(v);for(const g of f)try{if(Xn(g))return}catch{}ye(v,"unauthorized-domain")})).apply(this,arguments)}function Xn(v){const f=_r(),{protocol:g,hostname:b}=new URL(f);if(v.startsWith("chrome-extension://")){const H=new URL(v);return""===H.hostname&&""===b?"chrome-extension:"===g&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&H.hostname===b}if(!Ca.test(g))return!1;if(Xc.test(v))return b===v;const T=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(b)}const vc=new Oo(3e4,6e4);function Go(){const v=Vn().___jsl;if(v?.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let jr=null;const fu=new Oo(5e3,15e3),pu="__/auth/iframe",Ia="emulator/auth/iframe",Ff={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ng(v){const f=v.config;oe(f.authDomain,v,"auth-domain-config-required");const g=f.emulator?le(f,Ia):`https://${v.config.authDomain}/${pu}`,b={apiKey:f.apiKey,appName:v.name,v:te.SDK_VERSION},T=bc.get(v.config.apiHost);T&&(b.eid=T);const R=v._getFrameworks();return R.length&&(b.fw=R.join(",")),`${g}?${(0,P.xO)(b).slice(1)}`}function I(){return I=(0,a.Z)(function*(v){const f=yield function zr(v){return jr=jr||function gi(v){return new Promise((f,g)=>{var b,T,R;function H(){Go(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Go(),g(X(v,"network-request-failed"))},timeout:vc.get()})}if(null!==(T=null===(b=Vn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==T&&T.Iframe)f(gapi.iframes.getContext());else{if(null===(R=Vn().gapi)||void 0===R||!R.load){const Y=ns("iframefcb");return Vn()[Y]=()=>{gapi.load?H():g(X(v,"network-request-failed"))},Po(`https://apis.google.com/js/api.js?onload=${Y}`).catch(ke=>g(ke))}H()}}).catch(f=>{throw jr=null,f})}(v),jr}(v),g=Vn().gapi;return oe(g,v,"internal-error"),f.open({where:document.body,url:ng(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ff,dontclear:!0},b=>new Promise(function(){var T=(0,a.Z)(function*(R,H){yield b.restyle({setHideOnLeave:!1});const Y=X(v,"network-request-failed"),ke=Vn().setTimeout(()=>{H(Y)},fu.get());function je(){Vn().clearTimeout(ke),R(b)}b.ping(je).then(je,()=>{H(Y)})});return function(R,H){return T.apply(this,arguments)}}()))}),I.apply(this,arguments)}const A={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ke{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Rt="__/auth/handler",Pt="emulator/auth/handler",_i=encodeURIComponent("fac");function Un(v,f,g,b,T,R){return gs.apply(this,arguments)}function gs(){return(gs=(0,a.Z)(function*(v,f,g,b,T,R){oe(v.config.authDomain,v,"auth-domain-config-required"),oe(v.config.apiKey,v,"invalid-api-key");const H={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:b,v:te.SDK_VERSION,eventId:T};if(f instanceof uo){f.setDefaultLanguage(v.languageCode),H.providerId=f.providerId||"",(0,P.xb)(f.getCustomParameters())||(H.customParameters=JSON.stringify(f.getCustomParameters()));for(const[ot,lt]of Object.entries(R||{}))H[ot]=lt}if(f instanceof ei){const ot=f.getScopes().filter(lt=>""!==lt);ot.length>0&&(H.scopes=ot.join(","))}v.tenantId&&(H.tid=v.tenantId);const Y=H;for(const ot of Object.keys(Y))void 0===Y[ot]&&delete Y[ot];const ke=yield v._getAppCheckToken(),je=ke?`#${_i}=${encodeURIComponent(ke)}`:"";return`${function Eo({config:v}){return v.emulator?le(v,Pt):`https://${v.authDomain}/${Rt}`}(v)}?${(0,P.xO)(Y).slice(1)}${je}`})).apply(this,arguments)}const Ls="webStorageSupport",_s=class ri{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cs,this._completeRedirectFn=$o,this._overrideRedirectResult=zo}_openPopup(f,g,b,T){var R=this;return(0,a.Z)(function*(){var H;Zt(null===(H=R.eventManagers[f._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const Y=yield Un(f,g,b,_r(),T);return function $e(v,f,g,b=500,T=600){const R=Math.max((window.screen.availHeight-T)/2,0).toString(),H=Math.max((window.screen.availWidth-b)/2,0).toString();let Y="";const ke=Object.assign(Object.assign({},A),{width:b.toString(),height:T.toString(),top:R,left:H}),je=(0,P.z$)().toLowerCase();g&&(Y=it(je)?"_blank":g),Ie(je)&&(f=f||"http://localhost",ke.scrollbars="yes");const ot=Object.entries(ke).reduce((Pn,[vs,ah])=>`${Pn}${vs}=${ah},`,"");if(function wr(v=(0,P.z$)()){var f;return It(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(je)&&"_self"!==Y)return function ht(v,f){const g=document.createElement("a");g.href=v,g.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(f||"",Y),new Ke(null);const lt=window.open(f||"",Y,ot);oe(lt,v,"popup-blocked");try{lt.focus()}catch{}return new Ke(lt)}(f,Y,lc())})()}_openRedirect(f,g,b,T){var R=this;return(0,a.Z)(function*(){return yield R._originValidation(f),function Qm(v){Vn().location.href=v}(yield Un(f,g,b,_r(),T)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:T,promise:R}=this.eventManagers[g];return T?Promise.resolve(T):(Zt(R,"If manager is not set, promise should be"),R)}const b=this.initAndGetManager(f);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(f){var g=this;return(0,a.Z)(function*(){const b=yield function x(v){return I.apply(this,arguments)}(f),T=new pn(f);return b.register("authEvent",R=>(oe(R?.authEvent,f,"invalid-auth-event"),{status:T.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:T},g.iframes[f._key()]=b,T})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Ls,{type:Ls},T=>{var R;const H=null===(R=T?.[0])||void 0===R?void 0:R[Ls];void 0!==H&&g(!!H),ye(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Oy(v){return Zi.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return co()||se()||It()}};class Xd{constructor(f){this.factorId=f}_process(f,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,b);case"signin":return this._finalizeSignIn(f,g.credential);default:return ze("unexpected MultiFactorSessionType")}}}class Jd extends Xd{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Jd(f)}_finalizeEnroll(f,g,b){return function If(v,f){return Te(v,"POST","/v2/accounts/mfaEnrollment:finalize",xe(v,f))}(f,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Jm(v,f){return Te(v,"POST","/v2/accounts/mfaSignIn:finalize",xe(v,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Lf=(()=>{class v{constructor(){}static assertion(g){return Jd._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var mu="@firebase/auth";class dS{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,a.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(b=>{f(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ta(){return window}(0,P.Pz)("authIdTokenMaxAge"),function rE(v){(0,te._registerComponent)(new _e.wA("auth",(f,{options:g})=>{const b=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),R=f.getProvider("app-check-internal"),{apiKey:H,authDomain:Y}=b.options;oe(H&&!H.includes(":"),"invalid-api-key",{appName:b.name});const ke={apiKey:H,authDomain:Y,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:me(v)},je=new _d(b,T,R,ke);return function pf(v,f){const g=f?.persistence||[],b=(Array.isArray(g)?g:[g]).map(nn);f?.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(b,f?.popupRedirectResolver)}(je,g),je},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,b)=>{f.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new _e.wA("auth-internal",f=>{const g=Kn(f.getProvider("auth").getImmediate());return new dS(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(mu,"0.23.2",function Wi(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,te.registerVersion)(mu,"0.23.2","esm2017")}("Browser");function By(){return By=(0,a.Z)(function*(v,f,g){var b;const{BuildInfo:T}=Ta();Zt(f.sessionId,"AuthEvent did not contain a session ID");const R=yield function oE(v){return _u.apply(this,arguments)}(f.sessionId),H={};return It()?H.ibi=T.packageName:Mt()?H.apn=T.packageName:ye(v,"operation-not-supported-in-this-environment"),T.displayName&&(H.appDisplayName=T.displayName),H.sessionId=R,Un(v,g,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,H)}),By.apply(this,arguments)}function Uf(){return(Uf=(0,a.Z)(function*(v){const{BuildInfo:f}=Ta(),g={};It()?g.iosBundleId=f.packageName:Mt()?g.androidPackageName=f.packageName:ye(v,"operation-not-supported-in-this-environment"),yield wo(v,g)})).apply(this,arguments)}function gu(){return(gu=(0,a.Z)(function*(v,f,g){const{cordova:b}=Ta();let T=()=>{};try{yield new Promise((R,H)=>{let Y=null;function ke(){var lt;R();const Pn=null===(lt=b.plugins.browsertab)||void 0===lt?void 0:lt.close;"function"==typeof Pn&&Pn(),"function"==typeof g?.close&&g.close()}function je(){Y||(Y=window.setTimeout(()=>{H(X(v,"redirect-cancelled-by-user"))},2e3))}function ot(){"visible"===document?.visibilityState&&je()}f.addPassiveListener(ke),document.addEventListener("resume",je,!1),Mt()&&document.addEventListener("visibilitychange",ot,!1),T=()=>{f.removePassiveListener(ke),document.removeEventListener("resume",je,!1),document.removeEventListener("visibilitychange",ot,!1),Y&&window.clearTimeout(Y)}})}finally{T()}})).apply(this,arguments)}function _u(){return(_u=(0,a.Z)(function*(v){const f=function sE(v){if(Zt(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const f=new ArrayBuffer(v.length),g=new Uint8Array(f);for(let b=0;b<v.length;b++)g[b]=v.charCodeAt(b);return g}(v),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class fS extends pn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,a.Z)(function*(){yield f.initPromise})()}}function jy(v){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,a.Z)(function*(v){const f=yield Hf()._get(jf(v));return f&&(yield Hf()._remove(jf(v))),f})).apply(this,arguments)}function zy(){const v=[];for(let g=0;g<20;g++){const b=Math.floor(62*Math.random());v.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(b))}return v.join("")}function Hf(){return nn(as)}function jf(v){return U("authEvent",v.config.apiKey,v.name)}function eh(v){if(!v?.includes("?"))return{};const[f,...g]=v.split("?");return(0,P.zd)(g.join("?"))}const Vs=class th{constructor(){this._redirectPersistence=cs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$o,this._overrideRedirectResult=zo}_initialize(f){var g=this;return(0,a.Z)(function*(){const b=f._key();let T=g.eventManagers.get(b);return T||(T=new fS(f),g.eventManagers.set(b,T),g.attachCallbackListeners(f,T)),T})()}_openPopup(f){ye(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,b,T){var R=this;return(0,a.Z)(function*(){!function iE(v){var f,g,b,T,R,H,Y,ke,je,ot;const lt=Ta();oe("function"==typeof(null===(f=lt?.universalLinks)||void 0===f?void 0:f.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oe(typeof(null===(g=lt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oe("function"==typeof(null===(R=null===(T=null===(b=lt?.cordova)||void 0===b?void 0:b.plugins)||void 0===T?void 0:T.browsertab)||void 0===R?void 0:R.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(ke=null===(Y=null===(H=lt?.cordova)||void 0===H?void 0:H.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===ke?void 0:ke.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(ot=null===(je=lt?.cordova)||void 0===je?void 0:je.InAppBrowser)||void 0===ot?void 0:ot.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const H=yield R._initialize(f);yield H.initialized(),H.resetRedirect(),function Wd(){Ea.clear()}(),yield R._originValidation(f);const Y=function pS(v,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:zy(),postBody:null,tenantId:v.tenantId,error:X(v,"no-auth-event")}}(f,b,T);yield function mS(v,f){return Hf()._set(jf(v),f)}(f,Y);const ke=yield function Vy(v,f,g){return By.apply(this,arguments)}(f,Y,g),je=yield function Uy(v){const{cordova:f}=Ta();return new Promise(g=>{f.plugins.browsertab.isAvailable(b=>{let T=null;b?f.plugins.browsertab.openUrl(v):T=f.InAppBrowser.open(v,function Wt(v=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(T)})})}(ke);return function Hy(v,f,g){return gu.apply(this,arguments)}(f,H,je)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function og(v){return Uf.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:b,handleOpenURL:T,BuildInfo:R}=Ta(),H=setTimeout((0,a.Z)(function*(){yield jy(f),g.onEvent(Gy())}),500),Y=function(){var ot=(0,a.Z)(function*(lt){clearTimeout(H);const Pn=yield jy(f);let vs=null;Pn&&lt?.url&&(vs=function sg(v,f){var g,b;const T=function $y(v){const f=eh(v),g=f.link?decodeURIComponent(f.link):void 0,b=eh(g).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return eh(T).link||T||b||g||v}(f);if(T.includes("/__/auth/callback")){const R=eh(T),H=R.firebaseError?function yu(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,Y=null===(b=null===(g=H?.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],ke=Y?X(Y):null;return ke?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:ke,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:T,postBody:null}}return null}(Pn,lt.url)),g.onEvent(vs||Gy())});return function(Pn){return ot.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,Y);const ke=T,je=`${R.packageName.toLowerCase()}://`;Ta().handleOpenURL=function(){var ot=(0,a.Z)(function*(lt){if(lt.toLowerCase().startsWith(je)&&Y({url:lt}),"function"==typeof ke)try{ke(lt)}catch(Pn){console.error(Pn)}});return function(lt){return ot.apply(this,arguments)}}()}};function Gy(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:X("no-auth-event")}}function nh(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function qy(v=(0,P.z$)()){return!("file:"!==nh()&&"ionic:"!==nh()&&"capacitor:"!==nh()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function $f(){try{const v=self.localStorage,f=lc();if(v)return v.setItem(f,"1"),v.removeItem(f),!function Ki(v=(0,P.z$)()){return function dE(){return(0,P.w1)()&&11===document?.documentMode}()||function hE(v=(0,P.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,P.hl)()}catch{return Gf()&&(0,P.hl)()}return!1}function Gf(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function rh(){return(function uE(){return"http:"===nh()||"https:"===nh()}()||(0,P.ru)()||qy())&&!function Zy(){return(0,P.b$)()||(0,P.UG)()}()&&$f()&&!Gf()}function ii(){return qy()&&typeof document<"u"}function qf(){return(qf=(0,a.Z)(function*(){return!!ii()&&new Promise(v=>{const f=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),v(!0)})})})).apply(this,arguments)}const xo={LOCAL:"local",NONE:"none",SESSION:"session"},vu=oe,Ky="persistence";function lg(v){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,a.Z)(function*(v){yield v._initializationPromise;const f=Qy(),g=U(Ky,v.config.apiKey,v.name);f&&f.setItem(g,v._getPersistence())})).apply(this,arguments)}function Qy(){var v;try{return(null===(v=function Wy(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const ug=oe;class ys{constructor(){this.browserResolver=nn(_s),this.cordovaResolver=nn(Vs),this.underlyingResolver=null,this._redirectPersistence=cs,this._completeRedirectFn=$o,this._overrideRedirectResult=zo}_initialize(f){var g=this;return(0,a.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,b,T){var R=this;return(0,a.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(f,g,b,T)})()}_openRedirect(f,g,b,T){var R=this;return(0,a.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(f,g,b,T)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return ii()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ug(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,a.Z)(function*(){if(f.underlyingResolver)return;const g=yield function ih(){return qf.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function dg(v){return v.unwrap()}function pE(v){return hg(v)}function hg(v){const{_tokenResponse:f}=v instanceof P.ZR?v.customData:v;if(!f)return null;if(!(v instanceof P.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return ba.credentialFromResult(v);const g=f.providerId;if(!g||g===fe.PASSWORD)return null;let b;switch(g){case fe.GOOGLE:b=ks;break;case fe.FACEBOOK:b=Rs;break;case fe.GITHUB:b=hr;break;case fe.TWITTER:b=Vo;break;default:const{oauthIdToken:T,oauthAccessToken:R,oauthTokenSecret:H,pendingToken:Y,nonce:ke}=f;return R||H||T||Y?Y?g.startsWith("saml.")?qn._create(g,Y):Jr._fromParams({providerId:g,signInMethod:g,pendingToken:Y,idToken:T,accessToken:R}):new Di(g).credential({idToken:T,accessToken:R,rawNonce:ke}):null}return v instanceof P.ZR?b.credentialFromError(v):b.credentialFromResult(v)}function Ri(v,f){return f.catch(g=>{throw g instanceof P.ZR&&function mE(v,f){var g;const b=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new Kf(v,function Kl(v,f){var g;const b=(0,P.m9)(v),T=f;return oe(f.customData.operationType,b,"argument-error"),oe(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Ct._fromError(b,T)}(v,f));else if(b){const T=hg(f),R=f;T&&(R.credential=T,R.tenantId=b.tenantId||void 0,R.email=b.email||void 0,R.phoneNumber=b.phoneNumber||void 0)}}(v,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:pE(g),additionalUserInfo:Ho(g),user:Bs.getOrCreate(T)}})}function Wf(v,f){return wc.apply(this,arguments)}function wc(){return(wc=(0,a.Z)(function*(v,f){const g=yield f;return{verificationId:g.verificationId,confirm:b=>Ri(v,g.confirm(b))}})).apply(this,arguments)}class Kf{constructor(f,g){this.resolver=g,this.auth=function oh(v){return v.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Ri(dg(this.auth),this.resolver.resolveSignIn(f))}}class Bs{constructor(f){this._delegate=f,this.multiFactor=function Hd(v){const f=(0,P.m9)(v);return ma.has(f)||ma.set(f,Ai._fromUser(f)),ma.get(f)}(f)}static getOrCreate(f){return Bs.USER_MAP.has(f)||Bs.USER_MAP.set(f,new Bs(f)),Bs.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,a.Z)(function*(){return Ri(g.auth,Dd(g._delegate,f))})()}linkWithPhoneNumber(f,g){var b=this;return(0,a.Z)(function*(){return Wf(b.auth,function Zc(v,f,g){return yo.apply(this,arguments)}(b._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,a.Z)(function*(){return Ri(g.auth,function au(v,f,g){return wa.apply(this,arguments)}(g._delegate,f,ys))})()}linkWithRedirect(f){var g=this;return(0,a.Z)(function*(){return yield lg(Kn(g.auth)),Nf(g._delegate,f,ys)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,a.Z)(function*(){return Ri(g.auth,Zn(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Wf(this.auth,function Of(v,f,g){return Jt.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Ri(this.auth,function vo(v,f,g){return su.apply(this,arguments)}(this._delegate,f,ys))}reauthenticateWithRedirect(f){var g=this;return(0,a.Z)(function*(){return yield lg(Kn(g.auth)),Kc(g._delegate,f,ys)})()}sendEmailVerification(f){return function zl(v,f){return ha.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,a.Z)(function*(){return yield function Km(v,f){return ho.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Gl(v,f){return po((0,P.m9)(v),f,null)}(this._delegate,f)}updatePassword(f){return function Pd(v,f){return po((0,P.m9)(v),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function us(v,f){return Ir.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Cf(v,f){return Uc.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function Bc(v,f,g){return sc.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bs.USER_MAP=new WeakMap;const el=oe;let sh=(()=>{class v{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;el(T,"invalid-api-key",{appName:g.name}),el(T,"invalid-api-key",{appName:g.name});const R=typeof window<"u"?ys:void 0;this._delegate=b.initialize({options:{persistence:gE(T,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Ze),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function Oc(v,f,g){const b=Kn(v);oe(b._canInitEmulator,b,"emulator-config-failed"),oe(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const T=!!g?.disableWarnings,R=No(f),{host:H,port:Y}=function Pc(v){const f=No(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(b);if(T){const R=T[1];return{host:R,port:kl(b.substr(R.length+1))}}{const[R,H]=b.split(":");return{host:R,port:kl(H)}}}(f);b.config.emulator={url:`${R}//${H}${null===Y?"":`:${Y}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:H,port:Y,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Zm(){function v(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,b)}applyActionCode(g){return function Yn(v,f){return ti.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Md(this._delegate,g)}confirmPasswordReset(g,b){return function fo(v,f,g){return la.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var T=this;return(0,a.Z)(function*(){return Ri(T._delegate,function Rd(v,f,g){return Bl.apply(this,arguments)}(T._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Hl(v,f){return jl.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Ul(v,f){const g=Gt.parseLink(f);return"EMAIL_SIGNIN"===g?.operation}(0,g)}getRedirectResult(){var g=this;return(0,a.Z)(function*(){el(rh(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function Qn(v,f){return On.apply(this,arguments)}(g._delegate,ys);return b?Ri(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function cE(v,f){Kn(v)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,b,T){const{next:R,error:H,complete:Y}=Xy(g,b,T);return this._delegate.onAuthStateChanged(R,H,Y)}onIdTokenChanged(g,b,T){const{next:R,error:H,complete:Y}=Xy(g,b,T);return this._delegate.onIdTokenChanged(R,H,Y)}sendSignInLinkToEmail(g,b){return function da(v,f,g){return Vc.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function ky(v,f,g){return ca.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,a.Z)(function*(){let T;switch(function Yy(v,f){vu(Object.values(xo).includes(f),v,"invalid-persistence-type"),(0,P.b$)()?vu(f!==xo.SESSION,v,"unsupported-persistence-type"):(0,P.UG)()?vu(f===xo.NONE,v,"unsupported-persistence-type"):Gf()?vu(f===xo.NONE||f===xo.LOCAL&&(0,P.hl)(),v,"unsupported-persistence-type"):vu(f===xo.NONE||$f(),v,"unsupported-persistence-type")}(b._delegate,g),g){case xo.SESSION:T=cs;break;case xo.LOCAL:T=(yield nn(Ps)._isAvailable())?Ps:as;break;case xo.NONE:T=Yt;break;default:return ye("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Ri(this._delegate,function mf(v){return Ed.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Ri(this._delegate,Vl(this._delegate,g))}signInWithCustomToken(g){return Ri(this._delegate,function sa(v,f){return Ti.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Ri(this._delegate,function kd(v,f,g){return Vl((0,P.m9)(v),Lc.credential(f,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Ri(this._delegate,function Rr(v,f,g){return wf.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return Wf(this._delegate,function kf(v,f,g){return $i.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,a.Z)(function*(){return el(rh(),b._delegate,"operation-not-supported-in-this-environment"),Ri(b._delegate,function hs(v,f,g){return ou.apply(this,arguments)}(b._delegate,g,ys))})()}signInWithRedirect(g){var b=this;return(0,a.Z)(function*(){return el(rh(),b._delegate,"operation-not-supported-in-this-environment"),yield lg(b._delegate),Kd(b._delegate,g,ys)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function oc(v,f){return Uo.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=xo,v})();function Xy(v,f,g){let b=v;"function"!=typeof v&&({next:b,error:f,complete:g}=v);const T=b;return{next:H=>T(H&&Bs.getOrCreate(H)),error:f,complete:g}}function gE(v,f){const g=function fE(v,f){const g=Qy();if(!g)return[];const b=U(Ky,v,f);switch(g.getItem(b)){case xo.NONE:return[Yt];case xo.LOCAL:return[Ps,cs];case xo.SESSION:return[cs];default:return[]}}(v,f);if(typeof self<"u"&&!g.includes(Ps)&&g.push(Ps),typeof window<"u")for(const b of[as,cs])g.includes(b)||g.push(b);return g.includes(Yt)||g.push(Yt),g}class fg{constructor(){this.providerId="phone",this._delegate=new ba(dg(Z.Z.auth()))}static credential(f,g){return ba.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}fg.PHONE_SIGN_IN_METHOD=ba.PHONE_SIGN_IN_METHOD,fg.PROVIDER_ID=ba.PROVIDER_ID;const _E=oe;class yE{constructor(f,g,b=Z.Z.app()){var T;_E(null===(T=b.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new qc(f,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Jy(v){v.INTERNAL.registerComponent(new _e.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new sh(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Lc,FacebookAuthProvider:Rs,GithubAuthProvider:hr,GoogleAuthProvider:ks,OAuthProvider:Di,SAMLAuthProvider:ia,PhoneAuthProvider:fg,PhoneMultiFactorGenerator:Lf,RecaptchaVerifier:yE,TwitterAuthProvider:Vo,Auth:sh,AuthCredential:Fo,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.4.2")}(Z.Z)},5861:(dt,Ce,O)=>{function a(P,te,re,ae,_e,Pe,fe){try{var B=P[Pe](fe),j=B.value}catch(ee){return void re(ee)}B.done?te(j):Promise.resolve(j).then(ae,_e)}function Z(P){return function(){var te=this,re=arguments;return new Promise(function(ae,_e){var Pe=P.apply(te,re);function fe(j){a(Pe,ae,_e,fe,B,"next",j)}function B(j){a(Pe,ae,_e,fe,B,"throw",j)}fe(void 0)})}}O.d(Ce,{Z:()=>Z})},7582:(dt,Ce,O)=>{function te(le,pe){var be={};for(var we in le)Object.prototype.hasOwnProperty.call(le,we)&&pe.indexOf(we)<0&&(be[we]=le[we]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var xe=0;for(we=Object.getOwnPropertySymbols(le);xe<we.length;xe++)pe.indexOf(we[xe])<0&&Object.prototype.propertyIsEnumerable.call(le,we[xe])&&(be[we[xe]]=le[we[xe]])}return be}function ee(le,pe,be,we){return new(be||(be=Promise))(function(Te,tt){function at(tn){try{bt(we.next(tn))}catch(Nt){tt(Nt)}}function zn(tn){try{bt(we.throw(tn))}catch(Nt){tt(Nt)}}function bt(tn){tn.done?Te(tn.value):function xe(Te){return Te instanceof be?Te:new be(function(tt){tt(Te)})}(tn.value).then(at,zn)}bt((we=we.apply(le,pe||[])).next())})}function ie(le){return this instanceof ie?(this.v=le,this):new ie(le)}function ye(le,pe,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,we=be.apply(le,pe||[]),Te=[];return xe={},tt("next"),tt("throw"),tt("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function tt(Sn){we[Sn]&&(xe[Sn]=function(An){return new Promise(function(yr,un){Te.push([Sn,An,yr,un])>1||at(Sn,An)})})}function at(Sn,An){try{!function zn(Sn){Sn.value instanceof ie?Promise.resolve(Sn.value.v).then(bt,tn):Nt(Te[0][2],Sn)}(we[Sn](An))}catch(yr){Nt(Te[0][3],yr)}}function bt(Sn){at("next",Sn)}function tn(Sn){at("throw",Sn)}function Nt(Sn,An){Sn(An),Te.shift(),Te.length&&at(Te[0][0],Te[0][1])}}function ge(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,pe=le[Symbol.asyncIterator];return pe?pe.call(le):(le=function Oe(le){var pe="function"==typeof Symbol&&Symbol.iterator,be=pe&&le[pe],we=0;if(be)return be.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&we>=le.length&&(le=void 0),{value:le&&le[we++],done:!le}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),be={},we("next"),we("throw"),we("return"),be[Symbol.asyncIterator]=function(){return this},be);function we(Te){be[Te]=le[Te]&&function(tt){return new Promise(function(at,zn){!function xe(Te,tt,at,zn){Promise.resolve(zn).then(function(bt){Te({value:bt,done:at})},tt)}(at,zn,(tt=le[Te](tt)).done,tt.value)})}}}O.d(Ce,{FC:()=>ye,KL:()=>ge,_T:()=>te,mG:()=>ee,qq:()=>ie}),"function"==typeof SuppressedError&&SuppressedError}},dt=>{dt(dt.s=8288)}]);